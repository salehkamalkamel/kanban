var My=t=>{throw TypeError(t)};var yd=(t,e,n)=>e.has(t)||My("Cannot "+n);var k=(t,e,n)=>(yd(t,e,"read from private field"),n?n.call(t):e.get(t)),re=(t,e,n)=>e.has(t)?My("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Y=(t,e,n,r)=>(yd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),he=(t,e,n)=>(yd(t,e,"access private method"),n);var Iu=(t,e,n,r)=>({set _(i){Y(t,e,i,n)},get _(){return k(t,e,r)}});function _A(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ew={exports:{}},ph={},tw={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),wA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),SA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),xA=Symbol.for("react.suspense"),kA=Symbol.for("react.memo"),RA=Symbol.for("react.lazy"),Fy=Symbol.iterator;function PA(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,iw={};function Go(t,e,n){this.props=t,this.context=e,this.refs=iw,this.updater=n||nw}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sw(){}sw.prototype=Go.prototype;function Wp(t,e,n){this.props=t,this.context=e,this.refs=iw,this.updater=n||nw}var Hp=Wp.prototype=new sw;Hp.constructor=Wp;rw(Hp,Go.prototype);Hp.isPureReactComponent=!0;var jy=Array.isArray,ow=Object.prototype.hasOwnProperty,Kp={current:null},aw={key:!0,ref:!0,__self:!0,__source:!0};function lw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ow.call(e,r)&&!aw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ml,type:t,key:s,ref:o,props:i,_owner:Kp.current}}function bA(t,e){return{$$typeof:Ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml}function NA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uy=/\/+/g;function vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NA(""+t.key):e.toString(36)}function Gu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ml:case wA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vd(o,0):r,jy(i)?(n="",t!=null&&(n=t.replace(Uy,"$&/")+"/"),Gu(i,e,n,"",function(c){return c})):i!=null&&(Qp(i)&&(i=bA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jy(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+vd(s,l);o+=Gu(s,e,n,u,i)}else if(u=PA(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+vd(s,l++),o+=Gu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Su(t,e,n){if(t==null)return t;var r=[],i=0;return Gu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function DA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Yu={transition:null},OA={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:Kp};function uw(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Go;fe.Fragment=EA;fe.Profiler=IA;fe.PureComponent=Wp;fe.StrictMode=TA;fe.Suspense=xA;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;fe.act=uw;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ow.call(e,u)&&!aw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ml,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:AA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SA,_context:t},t.Consumer=t};fe.createElement=lw;fe.createFactory=function(t){var e=lw.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:CA,render:t}};fe.isValidElement=Qp;fe.lazy=function(t){return{$$typeof:RA,_payload:{_status:-1,_result:t},_init:DA}};fe.memo=function(t,e){return{$$typeof:kA,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Yu.transition;Yu.transition={};try{t()}finally{Yu.transition=e}};fe.unstable_act=uw;fe.useCallback=function(t,e){return Ut.current.useCallback(t,e)};fe.useContext=function(t){return Ut.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Ut.current.useEffect(t,e)};fe.useId=function(){return Ut.current.useId()};fe.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Ut.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};fe.useRef=function(t){return Ut.current.useRef(t)};fe.useState=function(t){return Ut.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Ut.current.useTransition()};fe.version="18.3.1";tw.exports=fe;var F=tw.exports;const Ke=qp(F),VA=_A({__proto__:null,default:Ke},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=F,MA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),jA=Object.prototype.hasOwnProperty,UA=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BA={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jA.call(e,r)&&!BA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MA,type:t,key:s,ref:o,props:i,_owner:UA.current}}ph.Fragment=FA;ph.jsx=cw;ph.jsxs=cw;ew.exports=ph;var g=ew.exports,hw={exports:{}},cn={},dw={exports:{}},fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ne){var oe=Q.length;Q.push(ne);e:for(;0<oe;){var Re=oe-1>>>1,Se=Q[Re];if(0<i(Se,ne))Q[Re]=ne,Q[oe]=Se,oe=Re;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],oe=Q.pop();if(oe!==ne){Q[0]=oe;e:for(var Re=0,Se=Q.length,Me=Se>>>1;Re<Me;){var fn=2*(Re+1)-1,xn=Q[fn],Jt=fn+1,pn=Q[Jt];if(0>i(xn,oe))Jt<Se&&0>i(pn,xn)?(Q[Re]=pn,Q[Jt]=oe,Re=Jt):(Q[Re]=xn,Q[fn]=oe,Re=fn);else if(Jt<Se&&0>i(pn,oe))Q[Re]=pn,Q[Jt]=oe,Re=Jt;else break e}}return ne}function i(Q,ne){var oe=Q.sortIndex-ne.sortIndex;return oe!==0?oe:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,m=3,w=!1,x=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=Q)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function V(Q){if(P=!1,C(Q),!x)if(n(u)!==null)x=!0,ft(U);else{var ne=n(c);ne!==null&&ze(V,ne.startTime-Q)}}function U(Q,ne){x=!1,P&&(P=!1,T(v),v=-1),w=!0;var oe=m;try{for(C(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||Q&&!D());){var Re=p.callback;if(typeof Re=="function"){p.callback=null,m=p.priorityLevel;var Se=Re(p.expirationTime<=ne);ne=t.unstable_now(),typeof Se=="function"?p.callback=Se:p===n(u)&&r(u),C(ne)}else r(u);p=n(u)}if(p!==null)var Me=!0;else{var fn=n(c);fn!==null&&ze(V,fn.startTime-ne),Me=!1}return Me}finally{p=null,m=oe,w=!1}}var z=!1,S=null,v=-1,E=5,A=-1;function D(){return!(t.unstable_now()-A<E)}function b(){if(S!==null){var Q=t.unstable_now();A=Q;var ne=!0;try{ne=S(!0,Q)}finally{ne?I():(z=!1,S=null)}}else z=!1}var I;if(typeof _=="function")I=function(){_(b)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ve=Ee.port2;Ee.port1.onmessage=b,I=function(){Ve.postMessage(null)}}else I=function(){N(b,0)};function ft(Q){S=Q,z||(z=!0,I())}function ze(Q,ne){v=N(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,ft(U))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var oe=m;m=ne;try{return Q()}finally{m=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=m;m=Q;try{return ne()}finally{m=oe}},t.unstable_scheduleCallback=function(Q,ne,oe){var Re=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,Q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=oe+Se,Q={id:d++,callback:ne,priorityLevel:Q,startTime:oe,expirationTime:Se,sortIndex:-1},oe>Re?(Q.sortIndex=oe,e(c,Q),n(u)===null&&Q===n(c)&&(P?(T(v),v=-1):P=!0,ze(V,oe-Re))):(Q.sortIndex=Se,e(u,Q),x||w||(x=!0,ft(U))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var ne=m;return function(){var oe=m;m=ne;try{return Q.apply(this,arguments)}finally{m=oe}}}})(fw);dw.exports=fw;var zA=dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=F,ln=zA;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pw=new Set,il={};function Cs(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(il[t]=e,t=0;t<e.length;t++)pw.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=Object.prototype.hasOwnProperty,qA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,By={},zy={};function WA(t){return hf.call(zy,t)?!0:hf.call(By,t)?!1:qA.test(t)?zy[t]=!0:(By[t]=!0,!1)}function HA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KA(t,e,n,r){if(e===null||typeof e>"u"||HA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gp,Yp);Et[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gp,Yp);Et[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gp,Yp);Et[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KA(e,n,i,r)&&(n=null),r||i===null?WA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Au=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),em=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),yw=Symbol.for("react.offscreen"),$y=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,_d;function Na(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var wd=!1;function Ed(t,e){if(!t||wd)return"";wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function QA(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Ed(t.type,!1),t;case 11:return t=Ed(t.type.render,!1),t;case 1:return t=Ed(t.type,!0),t;default:return""}}function mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case Gs:return"Portal";case df:return"Profiler";case Jp:return"StrictMode";case ff:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gw:return(t.displayName||"Context")+".Consumer";case mw:return(t._context.displayName||"Context")+".Provider";case Zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case em:return e=t.displayName||null,e!==null?e:mf(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return mf(t(e))}catch{}}return null}function GA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mf(e);case 8:return e===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YA(t){var e=vw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=YA(t))}function _w(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gf(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ww(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function yf(t,e){ww(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||vc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _f(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Da(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function Ew(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ky(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,Iw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XA=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){XA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function Sw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function Aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JA=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(t,e){if(e){if(JA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Tf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=null;function tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sf=null,uo=null,co=null;function Qy(t){if(t=Ul(t)){if(typeof Sf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=_h(e),Sf(t.stateNode,t.type,e))}}function Cw(t){uo?co?co.push(t):co=[t]:uo=t}function xw(){if(uo){var t=uo,e=co;if(co=uo=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function kw(t,e){return t(e)}function Rw(){}var Td=!1;function Pw(t,e,n){if(Td)return t(e,n);Td=!0;try{return kw(t,e,n)}finally{Td=!1,(uo!==null||co!==null)&&(Rw(),xw())}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=_h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Af=!1;if(Rr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Af=!1}function ZA(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var $a=!1,_c=null,wc=!1,Cf=null,eC={onError:function(t){$a=!0,_c=t}};function tC(t,e,n,r,i,s,o,l,u){$a=!1,_c=null,ZA.apply(eC,arguments)}function nC(t,e,n,r,i,s,o,l,u){if(tC.apply(this,arguments),$a){if($a){var c=_c;$a=!1,_c=null}else throw Error(q(198));wc||(wc=!0,Cf=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gy(t){if(xs(t)!==t)throw Error(q(188))}function rC(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gy(i),t;if(s===r)return Gy(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Nw(t){return t=rC(t),t!==null?Dw(t):null}function Dw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dw(t);if(e!==null)return e;t=t.sibling}return null}var Ow=ln.unstable_scheduleCallback,Yy=ln.unstable_cancelCallback,iC=ln.unstable_shouldYield,sC=ln.unstable_requestPaint,Ye=ln.unstable_now,oC=ln.unstable_getCurrentPriorityLevel,nm=ln.unstable_ImmediatePriority,Vw=ln.unstable_UserBlockingPriority,Ec=ln.unstable_NormalPriority,aC=ln.unstable_LowPriority,Lw=ln.unstable_IdlePriority,mh=null,er=null;function lC(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(mh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:hC,uC=Math.log,cC=Math.LN2;function hC(t){return t>>>=0,t===0?32:31-(uC(t)/cC|0)|0}var ku=64,Ru=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Oa(l):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function dC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=dC(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mw(){var t=ku;return ku<<=1,!(ku&4194240)&&(ku=64),t}function Id(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function pC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function Fw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jw,im,Uw,Bw,zw,kf=!1,Pu=[],mi=null,gi=null,yi=null,al=new Map,ll=new Map,Qr=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xy(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function Ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ul(e),e!==null&&im(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gC(t,e,n,r,i){switch(e){case"focusin":return mi=Ia(mi,t,e,n,r,i),!0;case"dragenter":return gi=Ia(gi,t,e,n,r,i),!0;case"mouseover":return yi=Ia(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return al.set(s,Ia(al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ll.set(s,Ia(ll.get(s)||null,t,e,n,r,i)),!0}return!1}function $w(t){var e=Qi(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=bw(n),e!==null){t.blockedOn=e,zw(t.priority,function(){Uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);If=r,n.target.dispatchEvent(r),If=null}else return e=Ul(n),e!==null&&im(e),t.blockedOn=n,!1;e.shift()}return!0}function Jy(t,e,n){Xu(t)&&n.delete(e)}function yC(){kf=!1,mi!==null&&Xu(mi)&&(mi=null),gi!==null&&Xu(gi)&&(gi=null),yi!==null&&Xu(yi)&&(yi=null),al.forEach(Jy),ll.forEach(Jy)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,kf||(kf=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,yC)))}function ul(t){function e(i){return Sa(i,t)}if(0<Pu.length){Sa(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&Sa(mi,t),gi!==null&&Sa(gi,t),yi!==null&&Sa(yi,t),al.forEach(e),ll.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)$w(n),n.blockedOn===null&&Qr.shift()}var ho=Mr.ReactCurrentBatchConfig,Ic=!0;function vC(t,e,n,r){var i=Ce,s=ho.transition;ho.transition=null;try{Ce=1,sm(t,e,n,r)}finally{Ce=i,ho.transition=s}}function _C(t,e,n,r){var i=Ce,s=ho.transition;ho.transition=null;try{Ce=4,sm(t,e,n,r)}finally{Ce=i,ho.transition=s}}function sm(t,e,n,r){if(Ic){var i=Rf(t,e,n,r);if(i===null)Dd(t,e,r,Sc,n),Xy(t,r);else if(gC(i,t,e,n,r))r.stopPropagation();else if(Xy(t,r),e&4&&-1<mC.indexOf(t)){for(;i!==null;){var s=Ul(i);if(s!==null&&jw(s),s=Rf(t,e,n,r),s===null&&Dd(t,e,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dd(t,e,r,null,n)}}var Sc=null;function Rf(t,e,n,r){if(Sc=null,t=tm(r),t=Qi(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function qw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oC()){case nm:return 1;case Vw:return 4;case Ec:case aC:return 16;case Lw:return 536870912;default:return 16}default:return 16}}var ci=null,om=null,Ju=null;function Ww(){if(Ju)return Ju;var t,e=om,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ju=i.slice(t,1<r?1-r:void 0)}function Zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bu(){return!0}function Zy(){return!1}function hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bu:Zy,this.isPropagationStopped=Zy,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=hn(Yo),jl=Ue({},Yo,{view:0,detail:0}),wC=hn(jl),Sd,Ad,Aa,gh=Ue({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(Sd=t.screenX-Aa.screenX,Ad=t.screenY-Aa.screenY):Ad=Sd=0,Aa=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),ev=hn(gh),EC=Ue({},gh,{dataTransfer:0}),TC=hn(EC),IC=Ue({},jl,{relatedTarget:0}),Cd=hn(IC),SC=Ue({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),AC=hn(SC),CC=Ue({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xC=hn(CC),kC=Ue({},Yo,{data:0}),tv=hn(kC),RC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bC[t])?!!e[t]:!1}function lm(){return NC}var DC=Ue({},jl,{key:function(t){if(t.key){var e=RC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(t){return t.type==="keypress"?Zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OC=hn(DC),VC=Ue({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nv=hn(VC),LC=Ue({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),MC=hn(LC),FC=Ue({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),jC=hn(FC),UC=Ue({},gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BC=hn(UC),zC=[9,13,27,32],um=Rr&&"CompositionEvent"in window,qa=null;Rr&&"documentMode"in document&&(qa=document.documentMode);var $C=Rr&&"TextEvent"in window&&!qa,Hw=Rr&&(!um||qa&&8<qa&&11>=qa),rv=" ",iv=!1;function Kw(t,e){switch(t){case"keyup":return zC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function qC(t,e){switch(t){case"compositionend":return Qw(e);case"keypress":return e.which!==32?null:(iv=!0,rv);case"textInput":return t=e.data,t===rv&&iv?null:t;default:return null}}function WC(t,e){if(Xs)return t==="compositionend"||!um&&Kw(t,e)?(t=Ww(),Ju=om=ci=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hw&&e.locale!=="ko"?null:e.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HC[t.type]:e==="textarea"}function Gw(t,e,n,r){Cw(r),e=Ac(e,"onChange"),0<e.length&&(n=new am("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,cl=null;function KC(t){oE(t,0)}function yh(t){var e=eo(t);if(_w(e))return t}function QC(t,e){if(t==="change")return e}var Yw=!1;if(Rr){var xd;if(Rr){var kd="oninput"in document;if(!kd){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),kd=typeof ov.oninput=="function"}xd=kd}else xd=!1;Yw=xd&&(!document.documentMode||9<document.documentMode)}function av(){Wa&&(Wa.detachEvent("onpropertychange",Xw),cl=Wa=null)}function Xw(t){if(t.propertyName==="value"&&yh(cl)){var e=[];Gw(e,cl,t,tm(t)),Pw(KC,e)}}function GC(t,e,n){t==="focusin"?(av(),Wa=e,cl=n,Wa.attachEvent("onpropertychange",Xw)):t==="focusout"&&av()}function YC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yh(cl)}function XC(t,e){if(t==="click")return yh(e)}function JC(t,e){if(t==="input"||t==="change")return yh(e)}function ZC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:ZC;function hl(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hf.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var n=lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lv(n)}}function Jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zw(){for(var t=window,e=vc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vc(t.document)}return e}function cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ex(t){var e=Zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jw(n.ownerDocument.documentElement,n)){if(r!==null&&cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=uv(n,s);var o=uv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tx=Rr&&"documentMode"in document&&11>=document.documentMode,Js=null,Pf=null,Ha=null,bf=!1;function cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bf||Js==null||Js!==vc(r)||(r=Js,"selectionStart"in r&&cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&hl(Ha,r)||(Ha=r,r=Ac(Pf,"onSelect"),0<r.length&&(e=new am("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Js)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Rd={},eE={};Rr&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function vh(t){if(Rd[t])return Rd[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eE)return Rd[t]=e[n];return t}var tE=vh("animationend"),nE=vh("animationiteration"),rE=vh("animationstart"),iE=vh("transitionend"),sE=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){sE.set(t,e),Cs(e,[t])}for(var Pd=0;Pd<hv.length;Pd++){var bd=hv[Pd],nx=bd.toLowerCase(),rx=bd[0].toUpperCase()+bd.slice(1);bi(nx,"on"+rx)}bi(tE,"onAnimationEnd");bi(nE,"onAnimationIteration");bi(rE,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(iE,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function dv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nC(r,e,void 0,t),t.currentTarget=null}function oE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;dv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;dv(i,l,c),s=u}}}if(wc)throw t=Cf,wc=!1,Cf=null,t}function Ne(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var r=t+"__bubble";n.has(r)||(aE(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),aE(n,t,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[Du]){t[Du]=!0,pw.forEach(function(n){n!=="selectionchange"&&(ix.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,Nd("selectionchange",!1,e))}}function aE(t,e,n,r){switch(qw(e)){case 1:var i=vC;break;case 4:i=_C;break;default:i=sm}n=i.bind(null,e,n,t),i=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Pw(function(){var c=s,d=tm(n),p=[];e:{var m=sE.get(t);if(m!==void 0){var w=am,x=t;switch(t){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":w=OC;break;case"focusin":x="focus",w=Cd;break;case"focusout":x="blur",w=Cd;break;case"beforeblur":case"afterblur":w=Cd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=MC;break;case tE:case nE:case rE:w=AC;break;case iE:w=jC;break;case"scroll":w=wC;break;case"wheel":w=BC;break;case"copy":case"cut":case"paste":w=xC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=nv}var P=(e&4)!==0,N=!P&&t==="scroll",T=P?m!==null?m+"Capture":null:m;P=[];for(var _=c,C;_!==null;){C=_;var V=C.stateNode;if(C.tag===5&&V!==null&&(C=V,T!==null&&(V=ol(_,T),V!=null&&P.push(fl(_,V,C)))),N)break;_=_.return}0<P.length&&(m=new w(m,x,null,n,d),p.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==If&&(x=n.relatedTarget||n.fromElement)&&(Qi(x)||x[Pr]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?Qi(x):null,x!==null&&(N=xs(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(P=ev,V="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(P=nv,V="onPointerLeave",T="onPointerEnter",_="pointer"),N=w==null?m:eo(w),C=x==null?m:eo(x),m=new P(V,_+"leave",w,n,d),m.target=N,m.relatedTarget=C,V=null,Qi(d)===c&&(P=new P(T,_+"enter",x,n,d),P.target=C,P.relatedTarget=N,V=P),N=V,w&&x)t:{for(P=w,T=x,_=0,C=P;C;C=qs(C))_++;for(C=0,V=T;V;V=qs(V))C++;for(;0<_-C;)P=qs(P),_--;for(;0<C-_;)T=qs(T),C--;for(;_--;){if(P===T||T!==null&&P===T.alternate)break t;P=qs(P),T=qs(T)}P=null}else P=null;w!==null&&fv(p,m,w,P,!1),x!==null&&N!==null&&fv(p,N,x,P,!0)}}e:{if(m=c?eo(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var U=QC;else if(sv(m))if(Yw)U=JC;else{U=YC;var z=GC}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=XC);if(U&&(U=U(t,c))){Gw(p,U,n,d);break e}z&&z(t,m,c),t==="focusout"&&(z=m._wrapperState)&&z.controlled&&m.type==="number"&&vf(m,"number",m.value)}switch(z=c?eo(c):window,t){case"focusin":(sv(z)||z.contentEditable==="true")&&(Js=z,Pf=c,Ha=null);break;case"focusout":Ha=Pf=Js=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,cv(p,n,d);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":cv(p,n,d)}var S;if(um)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Xs?Kw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Hw&&n.locale!=="ko"&&(Xs||v!=="onCompositionStart"?v==="onCompositionEnd"&&Xs&&(S=Ww()):(ci=d,om="value"in ci?ci.value:ci.textContent,Xs=!0)),z=Ac(c,v),0<z.length&&(v=new tv(v,t,null,n,d),p.push({event:v,listeners:z}),S?v.data=S:(S=Qw(n),S!==null&&(v.data=S)))),(S=$C?qC(t,n):WC(t,n))&&(c=Ac(c,"onBeforeInput"),0<c.length&&(d=new tv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=S))}oE(p,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ac(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ol(t,n),s!=null&&r.unshift(fl(t,s,i)),s=ol(t,e),s!=null&&r.push(fl(t,s,i))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=ol(n,s),u!=null&&o.unshift(fl(n,u,l))):i||(u=ol(n,s),u!=null&&o.push(fl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(sx,`
`).replace(ox,"")}function Ou(t,e,n){if(e=pv(e),pv(t)!==e&&n)throw Error(q(425))}function Cc(){}var Nf=null,Df=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(ux)}:Vf;function ux(t){setTimeout(function(){throw t})}function Od(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ul(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Xo,pl="__reactProps$"+Xo,Pr="__reactContainer$"+Xo,Lf="__reactEvents$"+Xo,cx="__reactListeners$"+Xo,hx="__reactHandles$"+Xo;function Qi(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pr]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gv(t);t!==null;){if(n=t[Xn])return n;t=gv(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[Xn]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function _h(t){return t[pl]||null}var Mf=[],to=-1;function Ni(t){return{current:t}}function Oe(t){0>to||(t.current=Mf[to],Mf[to]=null,to--)}function Pe(t,e){to++,Mf[to]=t.current,t.current=e}var xi={},Nt=Ni(xi),Qt=Ni(!1),hs=xi;function Oo(t,e){var n=t.type.contextTypes;if(!n)return xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function xc(){Oe(Qt),Oe(Nt)}function yv(t,e,n){if(Nt.current!==xi)throw Error(q(168));Pe(Nt,e),Pe(Qt,n)}function lE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,GA(t)||"Unknown",i));return Ue({},n,r)}function kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,hs=Nt.current,Pe(Nt,t),Pe(Qt,Qt.current),!0}function vv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=lE(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,Oe(Qt),Oe(Nt),Pe(Nt,t)):Oe(Qt),Pe(Qt,n)}var vr=null,wh=!1,Vd=!1;function uE(t){vr===null?vr=[t]:vr.push(t)}function dx(t){wh=!0,uE(t)}function Di(){if(!Vd&&vr!==null){Vd=!0;var t=0,e=Ce;try{var n=vr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,wh=!1}catch(i){throw vr!==null&&(vr=vr.slice(t+1)),Ow(nm,Di),i}finally{Ce=e,Vd=!1}}return null}var no=[],ro=0,Rc=null,Pc=0,_n=[],wn=0,ds=null,wr=1,Er="";function qi(t,e){no[ro++]=Pc,no[ro++]=Rc,Rc=t,Pc=e}function cE(t,e,n){_n[wn++]=wr,_n[wn++]=Er,_n[wn++]=ds,ds=t;var r=wr;t=Er;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wr=1<<32-Ln(e)+i|n<<i|r,Er=s+t}else wr=1<<s|n<<i|r,Er=t}function hm(t){t.return!==null&&(qi(t,1),cE(t,1,0))}function dm(t){for(;t===Rc;)Rc=no[--ro],no[ro]=null,Pc=no[--ro],no[ro]=null;for(;t===ds;)ds=_n[--wn],_n[wn]=null,Er=_n[--wn],_n[wn]=null,wr=_n[--wn],_n[wn]=null}var sn=null,nn=null,Le=!1,Dn=null;function hE(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,nn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:wr,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,nn=null,!0):!1;default:return!1}}function Ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(Le){var e=nn;if(e){var n=e;if(!_v(t,e)){if(Ff(t))throw Error(q(418));e=vi(n.nextSibling);var r=sn;e&&_v(t,e)?hE(r,n):(t.flags=t.flags&-4097|2,Le=!1,sn=t)}}else{if(Ff(t))throw Error(q(418));t.flags=t.flags&-4097|2,Le=!1,sn=t}}}function wv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Vu(t){if(t!==sn)return!1;if(!Le)return wv(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=nn)){if(Ff(t))throw dE(),Error(q(418));for(;e;)hE(t,e),e=vi(e.nextSibling)}if(wv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=sn?vi(t.stateNode.nextSibling):null;return!0}function dE(){for(var t=nn;t;)t=vi(t.nextSibling)}function Vo(){nn=sn=null,Le=!1}function fm(t){Dn===null?Dn=[t]:Dn.push(t)}var fx=Mr.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Lu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ev(t){var e=t._init;return e(t._payload)}function fE(t){function e(T,_){if(t){var C=T.deletions;C===null?(T.deletions=[_],T.flags|=16):C.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Ti(T,_),T.index=0,T.sibling=null,T}function s(T,_,C){return T.index=C,t?(C=T.alternate,C!==null?(C=C.index,C<_?(T.flags|=2,_):C):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,_,C,V){return _===null||_.tag!==6?(_=zd(C,T.mode,V),_.return=T,_):(_=i(_,C),_.return=T,_)}function u(T,_,C,V){var U=C.type;return U===Ys?d(T,_,C.props.children,V,C.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hr&&Ev(U)===_.type)?(V=i(_,C.props),V.ref=Ca(T,_,C),V.return=T,V):(V=oc(C.type,C.key,C.props,null,T.mode,V),V.ref=Ca(T,_,C),V.return=T,V)}function c(T,_,C,V){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=$d(C,T.mode,V),_.return=T,_):(_=i(_,C.children||[]),_.return=T,_)}function d(T,_,C,V,U){return _===null||_.tag!==7?(_=ls(C,T.mode,V,U),_.return=T,_):(_=i(_,C),_.return=T,_)}function p(T,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zd(""+_,T.mode,C),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Au:return C=oc(_.type,_.key,_.props,null,T.mode,C),C.ref=Ca(T,null,_),C.return=T,C;case Gs:return _=$d(_,T.mode,C),_.return=T,_;case Hr:var V=_._init;return p(T,V(_._payload),C)}if(Da(_)||Ea(_))return _=ls(_,T.mode,C,null),_.return=T,_;Lu(T,_)}return null}function m(T,_,C,V){var U=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return U!==null?null:l(T,_,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Au:return C.key===U?u(T,_,C,V):null;case Gs:return C.key===U?c(T,_,C,V):null;case Hr:return U=C._init,m(T,_,U(C._payload),V)}if(Da(C)||Ea(C))return U!==null?null:d(T,_,C,V,null);Lu(T,C)}return null}function w(T,_,C,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return T=T.get(C)||null,l(_,T,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Au:return T=T.get(V.key===null?C:V.key)||null,u(_,T,V,U);case Gs:return T=T.get(V.key===null?C:V.key)||null,c(_,T,V,U);case Hr:var z=V._init;return w(T,_,C,z(V._payload),U)}if(Da(V)||Ea(V))return T=T.get(C)||null,d(_,T,V,U,null);Lu(_,V)}return null}function x(T,_,C,V){for(var U=null,z=null,S=_,v=_=0,E=null;S!==null&&v<C.length;v++){S.index>v?(E=S,S=null):E=S.sibling;var A=m(T,S,C[v],V);if(A===null){S===null&&(S=E);break}t&&S&&A.alternate===null&&e(T,S),_=s(A,_,v),z===null?U=A:z.sibling=A,z=A,S=E}if(v===C.length)return n(T,S),Le&&qi(T,v),U;if(S===null){for(;v<C.length;v++)S=p(T,C[v],V),S!==null&&(_=s(S,_,v),z===null?U=S:z.sibling=S,z=S);return Le&&qi(T,v),U}for(S=r(T,S);v<C.length;v++)E=w(S,T,v,C[v],V),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?v:E.key),_=s(E,_,v),z===null?U=E:z.sibling=E,z=E);return t&&S.forEach(function(D){return e(T,D)}),Le&&qi(T,v),U}function P(T,_,C,V){var U=Ea(C);if(typeof U!="function")throw Error(q(150));if(C=U.call(C),C==null)throw Error(q(151));for(var z=U=null,S=_,v=_=0,E=null,A=C.next();S!==null&&!A.done;v++,A=C.next()){S.index>v?(E=S,S=null):E=S.sibling;var D=m(T,S,A.value,V);if(D===null){S===null&&(S=E);break}t&&S&&D.alternate===null&&e(T,S),_=s(D,_,v),z===null?U=D:z.sibling=D,z=D,S=E}if(A.done)return n(T,S),Le&&qi(T,v),U;if(S===null){for(;!A.done;v++,A=C.next())A=p(T,A.value,V),A!==null&&(_=s(A,_,v),z===null?U=A:z.sibling=A,z=A);return Le&&qi(T,v),U}for(S=r(T,S);!A.done;v++,A=C.next())A=w(S,T,v,A.value,V),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?v:A.key),_=s(A,_,v),z===null?U=A:z.sibling=A,z=A);return t&&S.forEach(function(b){return e(T,b)}),Le&&qi(T,v),U}function N(T,_,C,V){if(typeof C=="object"&&C!==null&&C.type===Ys&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Au:e:{for(var U=C.key,z=_;z!==null;){if(z.key===U){if(U=C.type,U===Ys){if(z.tag===7){n(T,z.sibling),_=i(z,C.props.children),_.return=T,T=_;break e}}else if(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hr&&Ev(U)===z.type){n(T,z.sibling),_=i(z,C.props),_.ref=Ca(T,z,C),_.return=T,T=_;break e}n(T,z);break}else e(T,z);z=z.sibling}C.type===Ys?(_=ls(C.props.children,T.mode,V,C.key),_.return=T,T=_):(V=oc(C.type,C.key,C.props,null,T.mode,V),V.ref=Ca(T,_,C),V.return=T,T=V)}return o(T);case Gs:e:{for(z=C.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(T,_.sibling),_=i(_,C.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=$d(C,T.mode,V),_.return=T,T=_}return o(T);case Hr:return z=C._init,N(T,_,z(C._payload),V)}if(Da(C))return x(T,_,C,V);if(Ea(C))return P(T,_,C,V);Lu(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(T,_.sibling),_=i(_,C),_.return=T,T=_):(n(T,_),_=zd(C,T.mode,V),_.return=T,T=_),o(T)):n(T,_)}return N}var Lo=fE(!0),pE=fE(!1),bc=Ni(null),Nc=null,io=null,pm=null;function mm(){pm=io=Nc=null}function gm(t){var e=bc.current;Oe(bc),t._currentValue=e}function Uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Nc=t,pm=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(pm!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Nc===null)throw Error(q(308));io=t,Nc.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Gi=null;function ym(t){Gi===null?Gi=[t]:Gi.push(t)}function mE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ym(e)):(n.next=i.next,i.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function vm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,br(t,n)}return i=r.interleaved,i===null?(e.next=e,ym(r)):(e.next=i.next,i.next=e),r.interleaved=e,br(t,n)}function ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}function Tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dc(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,P=l;switch(m=e,w=n,P.tag){case 1:if(x=P.payload,typeof x=="function"){p=x.call(w,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=P.payload,m=typeof x=="function"?x.call(w,p,m):x,m==null)break e;p=Ue({},p,m);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ps|=o,t.lanes=o,t.memoizedState=p}}function Iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Bl={},tr=Ni(Bl),ml=Ni(Bl),gl=Ni(Bl);function Yi(t){if(t===Bl)throw Error(q(174));return t}function _m(t,e){switch(Pe(gl,e),Pe(ml,t),Pe(tr,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}Oe(tr),Pe(tr,e)}function Mo(){Oe(tr),Oe(ml),Oe(gl)}function yE(t){Yi(gl.current);var e=Yi(tr.current),n=wf(e,t.type);e!==n&&(Pe(ml,t),Pe(tr,n))}function wm(t){ml.current===t&&(Oe(tr),Oe(ml))}var Fe=Ni(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ld=[];function Em(){for(var t=0;t<Ld.length;t++)Ld[t]._workInProgressVersionPrimary=null;Ld.length=0}var tc=Mr.ReactCurrentDispatcher,Md=Mr.ReactCurrentBatchConfig,fs=0,je=null,rt=null,ut=null,Vc=!1,Ka=!1,yl=0,px=0;function At(){throw Error(q(321))}function Tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Im(t,e,n,r,i,s){if(fs=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tc.current=t===null||t.memoizedState===null?vx:_x,t=n(r,i),Ka){s=0;do{if(Ka=!1,yl=0,25<=s)throw Error(q(301));s+=1,ut=rt=null,e.updateQueue=null,tc.current=wx,t=n(r,i)}while(Ka)}if(tc.current=Lc,e=rt!==null&&rt.next!==null,fs=0,ut=rt=je=null,Vc=!1,e)throw Error(q(300));return t}function Sm(){var t=yl!==0;return yl=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?je.memoizedState=ut=t:ut=ut.next=t,ut}function Cn(){if(rt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ut===null?je.memoizedState:ut.next;if(e!==null)ut=e,rt=t;else{if(t===null)throw Error(q(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ut===null?je.memoizedState=ut=t:ut=ut.next=t}return ut}function vl(t,e){return typeof e=="function"?e(t):e}function Fd(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((fs&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,je.lanes|=d,ps|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Fn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jd(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vE(){}function _E(t,e){var n=je,r=Cn(),i=e(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,Am(TE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,_l(9,EE.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(q(349));fs&30||wE(n,e,i)}return i}function wE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EE(t,e,n,r){e.value=n,e.getSnapshot=r,IE(e)&&SE(t)}function TE(t,e,n){return n(function(){IE(e)&&SE(t)})}function IE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function SE(t){var e=br(t,1);e!==null&&Mn(e,t,1,-1)}function Sv(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=yx.bind(null,je,t),[e.memoizedState,t]}function _l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AE(){return Cn().memoizedState}function nc(t,e,n,r){var i=Wn();je.flags|=t,i.memoizedState=_l(1|e,n,void 0,r===void 0?null:r)}function Eh(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&Tm(r,o.deps)){i.memoizedState=_l(e,n,s,r);return}}je.flags|=t,i.memoizedState=_l(1|e,n,s,r)}function Av(t,e){return nc(8390656,8,t,e)}function Am(t,e){return Eh(2048,8,t,e)}function CE(t,e){return Eh(4,2,t,e)}function xE(t,e){return Eh(4,4,t,e)}function kE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RE(t,e,n){return n=n!=null?n.concat([t]):null,Eh(4,4,kE.bind(null,e,t),n)}function Cm(){}function PE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NE(t,e,n){return fs&21?(Fn(n,e)||(n=Mw(),je.lanes|=n,ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function mx(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Md.transition;Md.transition={};try{t(!1),e()}finally{Ce=n,Md.transition=r}}function DE(){return Cn().memoizedState}function gx(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OE(t))VE(e,n);else if(n=mE(t,e,n,r),n!==null){var i=jt();Mn(n,t,r,i),LE(n,e,r)}}function yx(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OE(t))VE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Fn(l,o)){var u=e.interleaved;u===null?(i.next=i,ym(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=mE(t,e,i,r),n!==null&&(i=jt(),Mn(n,t,r,i),LE(n,e,r))}}function OE(t){var e=t.alternate;return t===je||e!==null&&e===je}function VE(t,e){Ka=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}var Lc={readContext:An,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},vx={readContext:An,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:Av,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nc(4194308,4,kE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nc(4194308,4,t,e)},useInsertionEffect:function(t,e){return nc(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gx.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:Cm,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=mx.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Wn();if(Le){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),ct===null)throw Error(q(349));fs&30||wE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Av(TE.bind(null,r,s,t),[t]),r.flags|=2048,_l(9,EE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=ct.identifierPrefix;if(Le){var n=Er,r=wr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=px++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_x={readContext:An,useCallback:PE,useContext:An,useEffect:Am,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:xE,useMemo:bE,useReducer:Fd,useRef:AE,useState:function(){return Fd(vl)},useDebugValue:Cm,useDeferredValue:function(t){var e=Cn();return NE(e,rt.memoizedState,t)},useTransition:function(){var t=Fd(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:DE,unstable_isNewReconciler:!1},wx={readContext:An,useCallback:PE,useContext:An,useEffect:Am,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:xE,useMemo:bE,useReducer:jd,useRef:AE,useState:function(){return jd(vl)},useDebugValue:Cm,useDeferredValue:function(t){var e=Cn();return rt===null?e.memoizedState=t:NE(e,rt.memoizedState,t)},useTransition:function(){var t=jd(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:DE,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Th={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=Ei(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Mn(e,t,i,r),ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=Ei(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Mn(e,t,i,r),ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=Ei(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Mn(e,t,r,n),ec(e,t,r))}};function Cv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hl(n,r)||!hl(i,s):!0}function ME(t,e,n){var r=!1,i=xi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=Gt(e)?hs:Nt.current,r=e.contextTypes,s=(r=r!=null)?Oo(t,i):xi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Th,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Th.enqueueReplaceState(e,e.state,null)}function zf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=Gt(e)?hs:Nt.current,i.context=Oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Th.enqueueReplaceState(i,i.state,null),Dc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e){try{var n="",r=e;do n+=QA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ud(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function FE(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,Zf=r),$f(t,e)},n}function jE(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$f(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ex;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Vx.bind(null,t,e,n),e.then(t,t))}function Rv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var Tx=Mr.ReactCurrentOwner,Kt=!1;function Mt(t,e,n,r){e.child=t===null?pE(e,null,n,r):Lo(e,t.child,n,r)}function bv(t,e,n,r,i){n=n.render;var s=e.ref;return fo(e,i),r=Im(t,e,n,r,s,i),n=Sm(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(Le&&n&&hm(e),e.flags|=1,Mt(t,e,r,i),e.child)}function Nv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UE(t,e,s,r,i)):(t=oc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(o,r)&&t.ref===e.ref)return Nr(t,e,i)}return e.flags|=1,t=Ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function UE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hl(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Nr(t,e,i)}return qf(t,e,n,r,i)}function BE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(oo,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(oo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(oo,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(oo,tn),tn|=r;return Mt(t,e,i,n),e.child}function zE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qf(t,e,n,r,i){var s=Gt(n)?hs:Nt.current;return s=Oo(e,s),fo(e,i),n=Im(t,e,n,r,s,i),r=Sm(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nr(t,e,i)):(Le&&r&&hm(e),e.flags|=1,Mt(t,e,n,i),e.child)}function Dv(t,e,n,r,i){if(Gt(n)){var s=!0;kc(e)}else s=!1;if(fo(e,i),e.stateNode===null)rc(t,e),ME(e,n,r),zf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=Gt(n)?hs:Nt.current,c=Oo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&xv(e,o,r,c),Kr=!1;var m=e.memoizedState;o.state=m,Dc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Qt.current||Kr?(typeof d=="function"&&(Bf(e,n,d,r),u=e.memoizedState),(l=Kr||Cv(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gE(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Pn(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=An(u):(u=Gt(n)?hs:Nt.current,u=Oo(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&xv(e,o,r,u),Kr=!1,m=e.memoizedState,o.state=m,Dc(e,r,o,i);var x=e.memoizedState;l!==p||m!==x||Qt.current||Kr?(typeof w=="function"&&(Bf(e,n,w,r),x=e.memoizedState),(c=Kr||Cv(e,n,c,r,m,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,n,r,s,i)}function Wf(t,e,n,r,i,s){zE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&vv(e,n,!1),Nr(t,e,s);r=e.stateNode,Tx.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lo(e,t.child,null,s),e.child=Lo(e,null,l,s)):Mt(t,e,l,s),e.memoizedState=r.state,i&&vv(e,n,!0),e.child}function $E(t){var e=t.stateNode;e.pendingContext?yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yv(t,e.context,!1),_m(t,e.containerInfo)}function Ov(t,e,n,r,i){return Vo(),fm(i),e.flags|=256,Mt(t,e,n,r),e.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function qE(t,e,n){var r=e.pendingProps,i=Fe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Fe,i&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kf(n),e.memoizedState=Hf,t):xm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ix(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ti(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ti(l,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hf,r}return s=t.child,t=s.sibling,r=Ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xm(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mu(t,e,n,r){return r!==null&&fm(r),Lo(e,t.child,null,n),t=xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ix(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ud(Error(q(422))),Mu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ah({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Lo(e,t.child,null,o),e.child.memoizedState=Kf(o),e.memoizedState=Hf,s);if(!(e.mode&1))return Mu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=Ud(s,r,void 0),Mu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Kt||l){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,br(t,i),Mn(r,t,i,-1))}return Dm(),r=Ud(Error(q(421))),Mu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Lx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=vi(i.nextSibling),sn=e,Le=!0,Dn=null,t!==null&&(_n[wn++]=wr,_n[wn++]=Er,_n[wn++]=ds,wr=t.id,Er=t.overflow,ds=e),e=xm(e,r.children),e.flags|=4096,e)}function Vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uf(t.return,e,n)}function Bd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,n,e);else if(t.tag===19)Vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bd(e,!0,n,null,s);break;case"together":Bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sx(t,e,n){switch(e.tag){case 3:$E(e),Vo();break;case 5:yE(e);break;case 1:Gt(e.type)&&kc(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(bc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?qE(t,e,n):(Pe(Fe,Fe.current&1),t=Nr(t,e,n),t!==null?t.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,BE(t,e,n)}return Nr(t,e,n)}var HE,Qf,KE,QE;HE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};KE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yi(tr.current);var s=null;switch(n){case"input":i=gf(t,i),r=gf(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=_f(t,i),r=_f(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}Ef(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(il.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(il.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ne("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};QE=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ax(t,e,n){var r=e.pendingProps;switch(dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Gt(e.type)&&xc(),Ct(e),null;case 3:return r=e.stateNode,Mo(),Oe(Qt),Oe(Nt),Em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(np(Dn),Dn=null))),Qf(t,e),Ct(e),null;case 5:wm(e);var i=Yi(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)KE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ct(e),null}if(t=Yi(tr.current),Vu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xn]=e,r[pl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)Ne(Va[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":qy(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Hy(r,s),Ne("invalid",r)}Ef(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),i=["children",""+l]):il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Cu(r),Wy(r,s,!0);break;case"textarea":Cu(r),Ky(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[pl]=r,HE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tf(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)Ne(Va[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":qy(t,r),i=gf(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Hy(t,r),i=_f(t,r),Ne("invalid",t);break;default:i=r}Ef(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Aw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Iw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sl(t,u):typeof u=="number"&&sl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ne("scroll",t):u!=null&&Xp(t,s,u,o))}switch(n){case"input":Cu(t),Wy(t,r,!1);break;case"textarea":Cu(t),Ky(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)QE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Yi(gl.current),Yi(tr.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return Ct(e),null;case 13:if(Oe(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&nn!==null&&e.mode&1&&!(e.flags&128))dE(),Vo(),e.flags|=98560,s=!1;else if(s=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Xn]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else Dn!==null&&(np(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?ot===0&&(ot=3):Dm())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Mo(),Qf(t,e),t===null&&dl(e.stateNode.containerInfo),Ct(e),null;case 10:return gm(e.type._context),Ct(e),null;case 17:return Gt(e.type)&&xc(),Ct(e),null;case 19:if(Oe(Fe),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xa(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>jo&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Ct(e),null}else 2*Ye()-s.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Fe.current,Pe(Fe,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Nm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Cx(t,e){switch(dm(e),e.tag){case 1:return Gt(e.type)&&xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Oe(Qt),Oe(Nt),Em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wm(e),null;case 13:if(Oe(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Fe),null;case 4:return Mo(),null;case 10:return gm(e.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Fu=!1,Pt=!1,xx=typeof WeakSet=="function"?WeakSet:Set,X=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Gf(t,e,n){try{n()}catch(r){We(t,e,r)}}var Lv=!1;function kx(t,e){if(Nf=Ic,t=Zw(),cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},Ic=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var P=x.memoizedProps,N=x.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?P:Pn(e.type,P),N);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(V){We(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return x=Lv,Lv=!1,x}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gf(e,n,s)}i=i.next}while(i!==r)}}function Ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[pl],delete e[Lf],delete e[cx],delete e[hx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YE(t){return t.tag===5||t.tag===3||t.tag===4}function Mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}var gt=null,Nn=!1;function $r(t,e,n){for(n=n.child;n!==null;)XE(t,e,n),n=n.sibling}function XE(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:Pt||so(n,e);case 6:var r=gt,i=Nn;gt=null,$r(t,e,n),gt=r,Nn=i,gt!==null&&(Nn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Nn?(t=gt,n=n.stateNode,t.nodeType===8?Od(t.parentNode,n):t.nodeType===1&&Od(t,n),ul(t)):Od(gt,n.stateNode));break;case 4:r=gt,i=Nn,gt=n.stateNode.containerInfo,Nn=!0,$r(t,e,n),gt=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gf(n,e,o),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!Pt&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){We(n,e,l)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,$r(t,e,n),Pt=r):$r(t,e,n);break;default:$r(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xx),e.forEach(function(r){var i=Mx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,Nn=!1;break e;case 3:gt=l.stateNode.containerInfo,Nn=!0;break e;case 4:gt=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(gt===null)throw Error(q(160));XE(s,o,i),gt=null,Nn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JE(e,t),e=e.sibling}function JE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),qn(t),r&4){try{Qa(3,t,t.return),Ih(3,t)}catch(P){We(t,t.return,P)}try{Qa(5,t,t.return)}catch(P){We(t,t.return,P)}}break;case 1:Rn(e,t),qn(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(Rn(e,t),qn(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var i=t.stateNode;try{sl(i,"")}catch(P){We(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ww(i,s),Tf(l,o);var c=Tf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?Aw(i,p):d==="dangerouslySetInnerHTML"?Iw(i,p):d==="children"?sl(i,p):Xp(i,d,p,c)}switch(l){case"input":yf(i,s);break;case"textarea":Ew(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?lo(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?lo(i,!!s.multiple,s.defaultValue,!0):lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[pl]=s}catch(P){We(t,t.return,P)}}break;case 6:if(Rn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){We(t,t.return,P)}}break;case 3:if(Rn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(P){We(t,t.return,P)}break;case 4:Rn(e,t),qn(t);break;case 13:Rn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pm=Ye())),r&4&&Fv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,Rn(e,t),Pt=c):Rn(e,t),qn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(p=X=d;X!==null;){switch(m=X,w=m.child,m.tag){case 0:case 11:case 14:case 15:Qa(4,m,m.return);break;case 1:so(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(P){We(r,n,P)}}break;case 5:so(m,m.return);break;case 22:if(m.memoizedState!==null){Uv(p);continue}}w!==null?(w.return=m,X=w):Uv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Sw("display",o))}catch(P){We(t,t.return,P)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){We(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rn(e,t),qn(t),r&4&&Fv(t);break;case 21:break;default:Rn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YE(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sl(i,""),r.flags&=-33);var s=Mv(t);Jf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Mv(t);Xf(t,l,o);break;default:throw Error(q(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rx(t,e,n){X=t,ZE(t)}function ZE(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Pt;l=Fu;var c=Pt;if(Fu=o,(Pt=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Bv(i):u!==null?(u.return=o,X=u):Bv(i);for(;s!==null;)X=s,ZE(s),s=s.sibling;X=i,Fu=l,Pt=c}jv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):jv(t)}}function jv(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Ih(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Iv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ul(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Pt||e.flags&512&&Yf(e)}catch(m){We(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Uv(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Bv(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ih(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){We(e,i,u)}}var s=e.return;try{Yf(e)}catch(u){We(e,s,u)}break;case 5:var o=e.return;try{Yf(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var Px=Math.ceil,Mc=Mr.ReactCurrentDispatcher,km=Mr.ReactCurrentOwner,Tn=Mr.ReactCurrentBatchConfig,we=0,ct=null,et=null,_t=0,tn=0,oo=Ni(0),ot=0,wl=null,ps=0,Sh=0,Rm=0,Ga=null,Wt=null,Pm=0,jo=1/0,yr=null,Fc=!1,Zf=null,wi=null,ju=!1,hi=null,jc=0,Ya=0,ep=null,ic=-1,sc=0;function jt(){return we&6?Ye():ic!==-1?ic:ic=Ye()}function Ei(t){return t.mode&1?we&2&&_t!==0?_t&-_t:fx.transition!==null?(sc===0&&(sc=Mw()),sc):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:qw(t.type)),t):1}function Mn(t,e,n,r){if(50<Ya)throw Ya=0,ep=null,Error(q(185));Fl(t,n,r),(!(we&2)||t!==ct)&&(t===ct&&(!(we&2)&&(Sh|=n),ot===4&&Gr(t,_t)),Yt(t,r),n===1&&we===0&&!(e.mode&1)&&(jo=Ye()+500,wh&&Di()))}function Yt(t,e){var n=t.callbackNode;fC(t,e);var r=Tc(t,t===ct?_t:0);if(r===0)n!==null&&Yy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yy(n),e===1)t.tag===0?dx(zv.bind(null,t)):uE(zv.bind(null,t)),lx(function(){!(we&6)&&Di()}),n=null;else{switch(Fw(r)){case 1:n=nm;break;case 4:n=Vw;break;case 16:n=Ec;break;case 536870912:n=Lw;break;default:n=Ec}n=aT(n,eT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eT(t,e){if(ic=-1,sc=0,we&6)throw Error(q(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=Tc(t,t===ct?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uc(t,r);else{e=r;var i=we;we|=2;var s=nT();(ct!==t||_t!==e)&&(yr=null,jo=Ye()+500,as(t,e));do try{Dx();break}catch(l){tT(t,l)}while(!0);mm(),Mc.current=s,we=i,et!==null?e=0:(ct=null,_t=0,e=ot)}if(e!==0){if(e===2&&(i=xf(t),i!==0&&(r=i,e=tp(t,i))),e===1)throw n=wl,as(t,0),Gr(t,r),Yt(t,Ye()),n;if(e===6)Gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!bx(i)&&(e=Uc(t,r),e===2&&(s=xf(t),s!==0&&(r=s,e=tp(t,s))),e===1))throw n=wl,as(t,0),Gr(t,r),Yt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Wi(t,Wt,yr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=Pm+500-Ye(),10<e)){if(Tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vf(Wi.bind(null,t,Wt,yr),e);break}Wi(t,Wt,yr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Px(r/1960))-r,10<r){t.timeoutHandle=Vf(Wi.bind(null,t,Wt,yr),r);break}Wi(t,Wt,yr);break;case 5:Wi(t,Wt,yr);break;default:throw Error(q(329))}}}return Yt(t,Ye()),t.callbackNode===n?eT.bind(null,t):null}function tp(t,e){var n=Ga;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Uc(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&np(e)),t}function np(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function bx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~Rm,e&=~Sh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function zv(t){if(we&6)throw Error(q(327));po();var e=Tc(t,0);if(!(e&1))return Yt(t,Ye()),null;var n=Uc(t,e);if(t.tag!==0&&n===2){var r=xf(t);r!==0&&(e=r,n=tp(t,r))}if(n===1)throw n=wl,as(t,0),Gr(t,e),Yt(t,Ye()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,Wt,yr),Yt(t,Ye()),null}function bm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(jo=Ye()+500,wh&&Di())}}function ms(t){hi!==null&&hi.tag===0&&!(we&6)&&po();var e=we;we|=1;var n=Tn.transition,r=Ce;try{if(Tn.transition=null,Ce=1,t)return t()}finally{Ce=r,Tn.transition=n,we=e,!(we&6)&&Di()}}function Nm(){tn=oo.current,Oe(oo)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ax(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xc();break;case 3:Mo(),Oe(Qt),Oe(Nt),Em();break;case 5:wm(r);break;case 4:Mo();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:gm(r.type._context);break;case 22:case 23:Nm()}n=n.return}if(ct=t,et=t=Ti(t.current,null),_t=tn=e,ot=0,wl=null,Rm=Sh=ps=0,Wt=Ga=null,Gi!==null){for(e=0;e<Gi.length;e++)if(n=Gi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Gi=null}return t}function tT(t,e){do{var n=et;try{if(mm(),tc.current=Lc,Vc){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vc=!1}if(fs=0,ut=rt=je=null,Ka=!1,yl=0,km.current=null,n===null||n.return===null){ot=1,wl=e,et=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=_t,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Rv(o);if(w!==null){w.flags&=-257,Pv(w,o,l,s,e),w.mode&1&&kv(s,c,e),e=w,u=c;var x=e.updateQueue;if(x===null){var P=new Set;P.add(u),e.updateQueue=P}else x.add(u);break e}else{if(!(e&1)){kv(s,c,e),Dm();break e}u=Error(q(426))}}else if(Le&&l.mode&1){var N=Rv(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Pv(N,o,l,s,e),fm(Fo(u,l));break e}}s=u=Fo(u,l),ot!==4&&(ot=2),Ga===null?Ga=[s]:Ga.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=FE(s,u,e);Tv(s,T);break e;case 1:l=u;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(wi===null||!wi.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=jE(s,l,e);Tv(s,V);break e}}s=s.return}while(s!==null)}iT(n)}catch(U){e=U,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function nT(){var t=Mc.current;return Mc.current=Lc,t===null?Lc:t}function Dm(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||!(ps&268435455)&&!(Sh&268435455)||Gr(ct,_t)}function Uc(t,e){var n=we;we|=2;var r=nT();(ct!==t||_t!==e)&&(yr=null,as(t,e));do try{Nx();break}catch(i){tT(t,i)}while(!0);if(mm(),we=n,Mc.current=r,et!==null)throw Error(q(261));return ct=null,_t=0,ot}function Nx(){for(;et!==null;)rT(et)}function Dx(){for(;et!==null&&!iC();)rT(et)}function rT(t){var e=oT(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?iT(t):et=e,km.current=null}function iT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cx(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,et=null;return}}else if(n=Ax(n,e,tn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);ot===0&&(ot=5)}function Wi(t,e,n){var r=Ce,i=Tn.transition;try{Tn.transition=null,Ce=1,Ox(t,e,n,r)}finally{Tn.transition=i,Ce=r}return null}function Ox(t,e,n,r){do po();while(hi!==null);if(we&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pC(t,s),t===ct&&(et=ct=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,aT(Ec,function(){return po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=Ce;Ce=1;var l=we;we|=4,km.current=null,kx(t,n),JE(n,t),ex(Df),Ic=!!Nf,Df=Nf=null,t.current=n,Rx(n),sC(),we=l,Ce=o,Tn.transition=s}else t.current=n;if(ju&&(ju=!1,hi=t,jc=i),s=t.pendingLanes,s===0&&(wi=null),lC(n.stateNode),Yt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fc)throw Fc=!1,t=Zf,Zf=null,t;return jc&1&&t.tag!==0&&po(),s=t.pendingLanes,s&1?t===ep?Ya++:(Ya=0,ep=t):Ya=0,Di(),null}function po(){if(hi!==null){var t=Fw(jc),e=Tn.transition,n=Ce;try{if(Tn.transition=null,Ce=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,jc=0,we&6)throw Error(q(331));var i=we;for(we|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Qa(8,d,s)}var p=d.child;if(p!==null)p.return=d,X=p;else for(;X!==null;){d=X;var m=d.sibling,w=d.return;if(GE(d),d===c){X=null;break}if(m!==null){m.return=w,X=m;break}X=w}}}var x=s.alternate;if(x!==null){var P=x.child;if(P!==null){x.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qa(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,X=C;else e:for(o=_;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ih(9,l)}}catch(U){We(l,l.return,U)}if(l===o){X=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,X=V;break e}X=l.return}}if(we=i,Di(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(mh,t)}catch{}r=!0}return r}finally{Ce=n,Tn.transition=e}}return!1}function $v(t,e,n){e=Fo(n,e),e=FE(t,e,1),t=_i(t,e,1),e=jt(),t!==null&&(Fl(t,1,e),Yt(t,e))}function We(t,e,n){if(t.tag===3)$v(t,t,n);else for(;e!==null;){if(e.tag===3){$v(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=Fo(n,t),t=jE(e,t,1),e=_i(e,t,1),t=jt(),e!==null&&(Fl(e,1,t),Yt(e,t));break}}e=e.return}}function Vx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(_t&n)===n&&(ot===4||ot===3&&(_t&130023424)===_t&&500>Ye()-Pm?as(t,0):Rm|=n),Yt(t,e)}function sT(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=jt();t=br(t,e),t!==null&&(Fl(t,e,n),Yt(t,n))}function Lx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sT(t,n)}function Mx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),sT(t,n)}var oT;oT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,Sx(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Le&&e.flags&1048576&&cE(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rc(t,e),t=e.pendingProps;var i=Oo(e,Nt.current);fo(e,n),i=Im(null,e,r,t,i,n);var s=Sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,kc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vm(e),i.updater=Th,e.stateNode=i,i._reactInternals=e,zf(e,r,t,n),e=Wf(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&hm(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jx(r),t=Pn(r,t),i){case 0:e=qf(null,e,r,t,n);break e;case 1:e=Dv(null,e,r,t,n);break e;case 11:e=bv(null,e,r,t,n);break e;case 14:e=Nv(null,e,r,Pn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),qf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),Dv(t,e,r,i,n);case 3:e:{if($E(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gE(t,e),Dc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fo(Error(q(423)),e),e=Ov(t,e,r,n,i);break e}else if(r!==i){i=Fo(Error(q(424)),e),e=Ov(t,e,r,n,i);break e}else for(nn=vi(e.stateNode.containerInfo.firstChild),sn=e,Le=!0,Dn=null,n=pE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=Nr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return yE(e),t===null&&jf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:s!==null&&Of(r,s)&&(e.flags|=32),zE(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&jf(e),null;case 13:return qE(t,e,n);case 4:return _m(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lo(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),bv(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(bc,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Qt.current){e=Nr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Cr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Uf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=An(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=Pn(r,e.pendingProps),i=Pn(r.type,i),Nv(t,e,r,i,n);case 15:return UE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),rc(t,e),e.tag=1,Gt(r)?(t=!0,kc(e)):t=!1,fo(e,n),ME(e,r,i),zf(e,r,i,n),Wf(null,e,r,!0,t,n);case 19:return WE(t,e,n);case 22:return BE(t,e,n)}throw Error(q(156,e.tag))};function aT(t,e){return Ow(t,e)}function Fx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new Fx(t,e,n,r)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jx(t){if(typeof t=="function")return Om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zp)return 11;if(t===em)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ys:return ls(n.children,i,s,e);case Jp:o=8,i|=8;break;case df:return t=En(12,n,e,i|2),t.elementType=df,t.lanes=s,t;case ff:return t=En(13,n,e,i),t.elementType=ff,t.lanes=s,t;case pf:return t=En(19,n,e,i),t.elementType=pf,t.lanes=s,t;case yw:return Ah(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mw:o=10;break e;case gw:o=9;break e;case Zp:o=11;break e;case em:o=14;break e;case Hr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=En(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=En(22,t,r,e),t.elementType=yw,t.lanes=n,t.stateNode={isHidden:!1},t}function zd(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function $d(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ux(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Id(0),this.expirationTimes=Id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Id(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vm(t,e,n,r,i,s,o,l,u){return t=new Ux(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(s),t}function Bx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lT(t){if(!t)return xi;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Gt(n))return lE(t,n,e)}return e}function uT(t,e,n,r,i,s,o,l,u){return t=Vm(n,r,!0,t,i,s,o,l,u),t.context=lT(null),n=t.current,r=jt(),i=Ei(n),s=Cr(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,Fl(t,i,r),Yt(t,r),t}function Ch(t,e,n,r){var i=e.current,s=jt(),o=Ei(i);return n=lT(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,o),t!==null&&(Mn(t,i,o,s),ec(t,i,o)),o}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lm(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function zx(){return null}var cT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mm(t){this._internalRoot=t}xh.prototype.render=Mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Ch(t,e,null,null)};xh.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){Ch(null,t,null,null)}),e[Pr]=null}};function xh(t){this._internalRoot=t}xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&$w(t)}};function Fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wv(){}function $x(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bc(o);s.call(c)}}var o=uT(e,r,t,0,null,!1,!1,"",Wv);return t._reactRootContainer=o,t[Pr]=o.current,dl(t.nodeType===8?t.parentNode:t),ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Bc(u);l.call(c)}}var u=Vm(t,0,!1,null,null,!1,!1,"",Wv);return t._reactRootContainer=u,t[Pr]=u.current,dl(t.nodeType===8?t.parentNode:t),ms(function(){Ch(e,u,n,r)}),u}function Rh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Bc(o);l.call(u)}}Ch(e,o,t,i)}else o=$x(n,e,t,i,r);return Bc(o)}jw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(rm(e,n|1),Yt(e,Ye()),!(we&6)&&(jo=Ye()+500,Di()))}break;case 13:ms(function(){var r=br(t,1);if(r!==null){var i=jt();Mn(r,t,1,i)}}),Lm(t,1)}};im=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=jt();Mn(e,t,134217728,n)}Lm(t,134217728)}};Uw=function(t){if(t.tag===13){var e=Ei(t),n=br(t,e);if(n!==null){var r=jt();Mn(n,t,e,r)}Lm(t,e)}};Bw=function(){return Ce};zw=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Sf=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_h(r);if(!i)throw Error(q(90));_w(r),yf(r,i)}}}break;case"textarea":Ew(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};kw=bm;Rw=ms;var qx={usingClientEntryPoint:!1,Events:[Ul,eo,_h,Cw,xw,bm]},ka={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wx={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nw(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{mh=Uu.inject(Wx),er=Uu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qx;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(e))throw Error(q(200));return Bx(t,e,null,n)};cn.createRoot=function(t,e){if(!Fm(t))throw Error(q(299));var n=!1,r="",i=cT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vm(t,1,!1,null,null,n,!1,r,i),t[Pr]=e.current,dl(t.nodeType===8?t.parentNode:t),new Mm(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Nw(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return ms(t)};cn.hydrate=function(t,e,n){if(!kh(e))throw Error(q(200));return Rh(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Fm(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uT(e,null,t,1,n??null,i,!1,s,o),t[Pr]=e.current,dl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xh(e)};cn.render=function(t,e,n){if(!kh(e))throw Error(q(200));return Rh(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(q(40));return t._reactRootContainer?(ms(function(){Rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};cn.unstable_batchedUpdates=bm;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Rh(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function hT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hT)}catch(t){console.error(t)}}hT(),hw.exports=cn;var dT=hw.exports,fT,Hv=dT;fT=Hv.createRoot,Hv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const Kv="popstate";function Hx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return rp("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mT(i)}return Qx(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kx(){return Math.random().toString(36).substr(2,8)}function Qv(t,e){return{usr:t.state,key:t.key,idx:e}}function rp(t,e,n,r){return n===void 0&&(n=null),El({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jo(e):e,{state:n,key:e&&e.key||r||Kx()})}function mT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Qx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=di.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(El({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=di.Pop;let N=d(),T=N==null?null:N-c;c=N,u&&u({action:l,location:P.location,delta:T})}function m(N,T){l=di.Push;let _=rp(P.location,N,T);c=d()+1;let C=Qv(_,c),V=P.createHref(_);try{o.pushState(C,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}s&&u&&u({action:l,location:P.location,delta:1})}function w(N,T){l=di.Replace;let _=rp(P.location,N,T);c=d();let C=Qv(_,c),V=P.createHref(_);o.replaceState(C,"",V),s&&u&&u({action:l,location:P.location,delta:0})}function x(N){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof N=="string"?N:mT(N);return _=_.replace(/ $/,"%20"),tt(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let P={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Kv,p),u=N,()=>{i.removeEventListener(Kv,p),u=null}},createHref(N){return e(i,N)},createURL:x,encodeLocation(N){let T=x(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:w,go(N){return o.go(N)}};return P}var Gv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gv||(Gv={}));function Gx(t,e,n){return n===void 0&&(n="/"),Yx(t,e,n,!1)}function Yx(t,e,n,r){let i=typeof e=="string"?Jo(e):e,s=vT(i.pathname||"/",n);if(s==null)return null;let o=gT(t);Xx(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=lk(s);l=ok(o[u],c,r)}return l}function gT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=us([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ik(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of yT(s.path))i(s,o,u)}),e}function yT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yT(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Xx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jx=/^:[\w-]+$/,Zx=3,ek=2,tk=1,nk=10,rk=-2,Yv=t=>t==="*";function ik(t,e){let n=t.split("/"),r=n.length;return n.some(Yv)&&(r+=rk),e&&(r+=ek),n.filter(i=>!Yv(i)).reduce((i,s)=>i+(Jx.test(s)?Zx:s===""?tk:nk),r)}function sk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ok(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:us([s,p.pathname]),pathnameBase:dk(us([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=us([s,p.pathnameBase]))}return o}function Xv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ak(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let P=l[p]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const x=l[p];return w&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function ak(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jo(t):t;return{pathname:n?n.startsWith("/")?n:ck(n,e):e,search:fk(r),hash:pk(i)}}function ck(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _T(t,e){let n=hk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jo(t):(i=El({},t),tt(!i.pathname||!i.pathname.includes("?"),qd("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),qd("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),qd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=uk(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const us=t=>t.join("/").replace(/\/\/+/g,"/"),dk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ET=["post","put","patch","delete"];new Set(ET);const gk=["get",...ET];new Set(gk);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const jm=F.createContext(null),yk=F.createContext(null),zl=F.createContext(null),Ph=F.createContext(null),Oi=F.createContext({outlet:null,matches:[],isDataRoute:!1}),TT=F.createContext(null);function $l(){return F.useContext(Ph)!=null}function Um(){return $l()||tt(!1),F.useContext(Ph).location}function IT(t){F.useContext(zl).static||F.useLayoutEffect(t)}function bh(){let{isDataRoute:t}=F.useContext(Oi);return t?Nk():vk()}function vk(){$l()||tt(!1);let t=F.useContext(jm),{basename:e,future:n,navigator:r}=F.useContext(zl),{matches:i}=F.useContext(Oi),{pathname:s}=Um(),o=JSON.stringify(_T(i,n.v7_relativeSplatPath)),l=F.useRef(!1);return IT(()=>{l.current=!0}),F.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=wT(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:us([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}const _k=F.createContext(null);function wk(t){let e=F.useContext(Oi).outlet;return e&&F.createElement(_k.Provider,{value:t},e)}function Ek(t,e){return Tk(t,e)}function Tk(t,e,n,r){$l()||tt(!1);let{navigator:i}=F.useContext(zl),{matches:s}=F.useContext(Oi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Um(),d;if(e){var p;let N=typeof e=="string"?Jo(e):e;u==="/"||(p=N.pathname)!=null&&p.startsWith(u)||tt(!1),d=N}else d=c;let m=d.pathname||"/",w=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=Gx(t,{pathname:w}),P=xk(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:us([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:us([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&P?F.createElement(Ph.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:di.Pop}},P):P}function Ik(){let t=bk(),e=mk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const Sk=F.createElement(Ik,null);class Ak extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Oi.Provider,{value:this.props.routeContext},F.createElement(TT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ck(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(jm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Oi.Provider,{value:e},r)}function xk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:w}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let w,x=!1,P=null,N=null;n&&(w=l&&p.route.id?l[p.route.id]:void 0,P=p.route.errorElement||Sk,u&&(c<0&&m===0?(x=!0,N=null):c===m&&(x=!0,N=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),_=()=>{let C;return w?C=P:x?C=N:p.route.Component?C=F.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,F.createElement(Ck,{match:p,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?F.createElement(Ak,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var ST=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ST||{}),zc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zc||{});function kk(t){let e=F.useContext(jm);return e||tt(!1),e}function Rk(t){let e=F.useContext(yk);return e||tt(!1),e}function Pk(t){let e=F.useContext(Oi);return e||tt(!1),e}function AT(t){let e=Pk(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function bk(){var t;let e=F.useContext(TT),n=Rk(zc.UseRouteError),r=AT(zc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Nk(){let{router:t}=kk(ST.UseNavigateStable),e=AT(zc.UseNavigateStable),n=F.useRef(!1);return IT(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tl({fromRouteId:e},s)))},[t,e])}function Dk(t){let{to:e,replace:n,state:r,relative:i}=t;$l()||tt(!1);let{future:s,static:o}=F.useContext(zl),{matches:l}=F.useContext(Oi),{pathname:u}=Um(),c=bh(),d=wT(e,_T(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(d);return F.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function Ok(t){return wk(t.context)}function Hi(t){tt(!1)}function Vk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:o=!1,future:l}=t;$l()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:u,navigator:s,static:o,future:Tl({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Jo(r));let{pathname:d="/",search:p="",hash:m="",state:w=null,key:x="default"}=r,P=F.useMemo(()=>{let N=vT(d,u);return N==null?null:{location:{pathname:N,search:p,hash:m,state:w,key:x},navigationType:i}},[u,d,p,m,w,x,i]);return P==null?null:F.createElement(zl.Provider,{value:c},F.createElement(Ph.Provider,{children:n,value:P}))}function Lk(t){let{children:e,location:n}=t;return Ek(ip(e),n)}new Promise(()=>{});function ip(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,ip(r.props.children,s));return}r.type!==Hi&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ip(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mk="6";try{window.__reactRouterVersion=Mk}catch{}const Fk="startTransition",Jv=VA[Fk];function jk(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=Hx({window:i,v5Compat:!0}));let o=s.current,[l,u]=F.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=F.useCallback(p=>{c&&Jv?Jv(()=>u(p)):u(p)},[u,c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(Vk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Zv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zv||(Zv={}));var e_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(e_||(e_={}));var CT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(CT);var Uk=CT.exports;const Bm=qp(Uk);function Je({onClick:t,onOpen:e,children:n,disabled:r=!1,className:i="",shape:s="primaryL",type:o="button",...l}){const u=`hover:opacity-75 ${r?"hover:opacity-100":""}`,c={textOnlyP:"cursor-pointer text-primary bg-transparent",primaryL:"text-white font-extrabold rounded-full text-[0.9375rem] leading-[1.1875rem] py-[1.25rem] bg-primary",primaryS:"text-white font-bold rounded-full text-base leading-[1.1875rem] py-[1rem] bg-primary",secondary:"font-bold rounded-full text-primary text-base leading-[1.1875rem] py-[1rem] bg-gray2 dark:bg-white",error:"font-bold rounded-full text-white text-base leading-[1.1875rem] py-[1rem] bg-red1"},d=()=>{t&&t(),e&&e()};return g.jsx("button",{type:o,disabled:r,onClick:d,className:Bm(u,c[s],i),...l,children:n})}var xT={exports:{}},Bk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zk=Bk,$k=zk;function kT(){}function RT(){}RT.resetWarningCache=kT;var qk=function(){function t(r,i,s,o,l,u){if(u!==$k){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RT,resetWarningCache:kT};return n.PropTypes=n,n};xT.exports=qk();var Wk=xT.exports;const Bu=qp(Wk);function ht({children:t,className:e="",shape:n="xl",level:r=1}){const i="font-bold",s={xl:"text-xl leading-[1.875rem] ",l:"text-lg leading-[1.4375rem] ",m:"text-base leading-[1.1875rem] ",s:"text-sm leading-[0.9375rem] tracking-[2.4px] "},o=`h${r}`;return g.jsx(o,{className:Bm(s[n],i,e),children:t})}ht.propTypes={children:Bu.node.isRequired,className:Bu.string,shape:Bu.oneOf(["xl","l","m","s"]),level:Bu.oneOf([1,2,3,4,5,6])};const PT=F.createContext(),bT=()=>F.useContext(PT);function Hk({children:t}){const[e,n]=F.useState(!1);function r(){n(!0)}function i(){n(!1)}function s(){n(o=>!o)}return g.jsx(PT.Provider,{value:{isVisible:e,handleShow:r,handleHide:i,handleToggle:s},children:t})}const zm=F.createContext();function de({children:t}){const[e,n]=F.useState(!1);function r(){n(!1)}function i(){n(!0)}return g.jsx(zm.Provider,{value:{isOpen:e,closeModel:r,openModel:i},children:t})}function Kk({children:t}){const{openModel:e,closeModel:n,isOpen:r}=F.useContext(zm);return F.cloneElement(t,{onOpen:e,onClose:n,isOpen:r})}function Qk({children:t}){const{closeModel:e,isOpen:n}=F.useContext(zm);return n?F.cloneElement(t,{onClose:e,isOpen:n}):null}de.Toggle=Kk;de.Window=Qk;function Gk({onOpen:t}){return g.jsx("button",{onClick:()=>{t()},className:"w-full text-start hover:text-red2 bg-transparent outline-none border-none text-red1",children:"Delete Board"})}var Zo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gs=typeof window>"u"||"Deno"in globalThis;function vn(){}function Yk(t,e){return typeof t=="function"?t(e):t}function sp(t){return typeof t=="number"&&t>=0&&t!==1/0}function NT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mo(t,e){return typeof t=="function"?t(e):t}function On(t,e){return typeof t=="function"?t(e):t}function t_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==$m(o,e.options))return!1}else if(!Il(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function n_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ys(e.options.mutationKey)!==ys(s))return!1}else if(!Il(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function $m(t,e){return((e==null?void 0:e.queryKeyHashFn)||ys)(t)}function ys(t){return JSON.stringify(t,(e,n)=>op(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Il(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Il(t[n],e[n])):!1}function DT(t,e){if(t===e)return t;const n=r_(t)&&r_(e);if(n||op(t)&&op(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=DT(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function $c(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function r_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function op(t){if(!i_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!i_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xk(t){return new Promise(e=>{setTimeout(e,t)})}function ap(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DT(t,e):e}function Jk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Zk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var OT=Symbol();function VT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===OT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var es,ti,wo,q0,eR=(q0=class extends Zo{constructor(){super();re(this,es);re(this,ti);re(this,wo);Y(this,wo,e=>{if(!gs&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,ti)||this.setEventListener(k(this,wo))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ti))==null||e.call(this),Y(this,ti,void 0))}setEventListener(e){var n;Y(this,wo,e),(n=k(this,ti))==null||n.call(this),Y(this,ti,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,es)!==e&&(Y(this,es,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof k(this,es)=="boolean"?k(this,es):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},es=new WeakMap,ti=new WeakMap,wo=new WeakMap,q0),qm=new eR,Eo,ni,To,W0,tR=(W0=class extends Zo{constructor(){super();re(this,Eo,!0);re(this,ni);re(this,To);Y(this,To,e=>{if(!gs&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,ni)||this.setEventListener(k(this,To))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ni))==null||e.call(this),Y(this,ni,void 0))}setEventListener(e){var n;Y(this,To,e),(n=k(this,ni))==null||n.call(this),Y(this,ni,e(this.setOnline.bind(this)))}setOnline(e){k(this,Eo)!==e&&(Y(this,Eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,Eo)}},Eo=new WeakMap,ni=new WeakMap,To=new WeakMap,W0),qc=new tR;function lp(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function nR(t){return Math.min(1e3*2**t,3e4)}function LT(t){return(t??"online")==="online"?qc.isOnline():!0}var MT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wd(t){return t instanceof MT}function FT(t){let e=!1,n=0,r=!1,i;const s=lp(),o=P=>{var N;r||(m(new MT(P)),(N=t.abort)==null||N.call(t))},l=()=>{e=!0},u=()=>{e=!1},c=()=>qm.isFocused()&&(t.networkMode==="always"||qc.isOnline())&&t.canRun(),d=()=>LT(t.networkMode)&&t.canRun(),p=P=>{var N;r||(r=!0,(N=t.onSuccess)==null||N.call(t,P),i==null||i(),s.resolve(P))},m=P=>{var N;r||(r=!0,(N=t.onError)==null||N.call(t,P),i==null||i(),s.reject(P))},w=()=>new Promise(P=>{var N;i=T=>{(r||c())&&P(T)},(N=t.onPause)==null||N.call(t)}).then(()=>{var P;i=void 0,r||(P=t.onContinue)==null||P.call(t)}),x=()=>{if(r)return;let P;const N=n===0?t.initialPromise:void 0;try{P=N??t.fn()}catch(T){P=Promise.reject(T)}Promise.resolve(P).then(p).catch(T=>{var z;if(r)return;const _=t.retry??(gs?0:3),C=t.retryDelay??nR,V=typeof C=="function"?C(n,T):C,U=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,T);if(e||!U){m(T);return}n++,(z=t.onFail)==null||z.call(t,n,T),Xk(V).then(()=>c()?void 0:w()).then(()=>{e?m(T):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?x():w().then(x),s)}}function rR(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var it=rR(),ts,H0,jT=(H0=class{constructor(){re(this,ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sp(this.gcTime)&&Y(this,ts,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gs?1/0:5*60*1e3))}clearGcTimeout(){k(this,ts)&&(clearTimeout(k(this,ts)),Y(this,ts,void 0))}},ts=new WeakMap,H0),Io,So,yn,kt,Dl,ns,bn,gr,K0,iR=(K0=class extends jT{constructor(n){super();re(this,bn);re(this,Io);re(this,So);re(this,yn);re(this,kt);re(this,Dl);re(this,ns);Y(this,ns,!1),Y(this,Dl,n.defaultOptions),this.setOptions(n.options),this.observers=[],Y(this,yn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Y(this,Io,sR(this.options)),this.state=n.state??k(this,Io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=k(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...k(this,Dl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,yn).remove(this)}setData(n,r){const i=ap(this.state.data,n,this.options);return he(this,bn,gr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){he(this,bn,gr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=k(this,kt))==null?void 0:i.promise;return(s=k(this,kt))==null||s.cancel(n),r?r.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Io))}isActive(){return this.observers.some(n=>On(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!NT(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),k(this,yn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(k(this,kt)&&(k(this,ns)?k(this,kt).cancel({revert:!0}):k(this,kt).cancelRetry()),this.scheduleGc()),k(this,yn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,bn,gr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,kt))return k(this,kt).continueRetry(),k(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(w=>w.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Y(this,ns,!0),i.signal)})},o=()=>{const m=VT(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return s(w),Y(this,ns,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(c=this.options.behavior)==null||c.onFetch(l,this),Y(this,So,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&he(this,bn,gr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var w,x,P,N;Wd(m)&&m.silent||he(this,bn,gr).call(this,{type:"error",error:m}),Wd(m)||((x=(w=k(this,yn).config).onError)==null||x.call(w,m,this),(N=(P=k(this,yn).config).onSettled)==null||N.call(P,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Y(this,kt,FT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var w,x,P,N;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(T){u(T);return}(x=(w=k(this,yn).config).onSuccess)==null||x.call(w,m,this),(N=(P=k(this,yn).config).onSettled)==null||N.call(P,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(m,w)=>{he(this,bn,gr).call(this,{type:"failed",failureCount:m,error:w})},onPause:()=>{he(this,bn,gr).call(this,{type:"pause"})},onContinue:()=>{he(this,bn,gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,kt).start()}},Io=new WeakMap,So=new WeakMap,yn=new WeakMap,kt=new WeakMap,Dl=new WeakMap,ns=new WeakMap,bn=new WeakSet,gr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...UT(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Wd(s)&&s.revert&&k(this,So)?{...k(this,So),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),it.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),k(this,yn).notify({query:this,type:"updated",action:n})})},K0);function UT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,Q0,oR=(Q0=class extends Zo{constructor(e={}){super();re(this,Kn);this.config=e,Y(this,Kn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??$m(i,n);let o=this.get(s);return o||(o=new iR({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){k(this,Kn).has(e.queryHash)||(k(this,Kn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=k(this,Kn).get(e.queryHash);n&&(e.destroy(),n===e&&k(this,Kn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){it.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Kn).get(e)}getAll(){return[...k(this,Kn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>t_(e,r)):n}notify(e){it.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){it.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kn=new WeakMap,Q0),Qn,Vt,rs,Gn,Wr,G0,aR=(G0=class extends jT{constructor(n){super();re(this,Gn);re(this,Qn);re(this,Vt);re(this,rs);this.mutationId=n.mutationId,Y(this,Vt,n.mutationCache),Y(this,Qn,[]),this.state=n.state||BT(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){k(this,Qn).includes(n)||(k(this,Qn).push(n),this.clearGcTimeout(),k(this,Vt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Y(this,Qn,k(this,Qn).filter(r=>r!==n)),this.scheduleGc(),k(this,Vt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){k(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():k(this,Vt).remove(this))}continue(){var n;return((n=k(this,rs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,l,u,c,d,p,m,w,x,P,N,T,_,C,V,U,z,S,v;Y(this,rs,FT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{he(this,Gn,Wr).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{he(this,Gn,Wr).call(this,{type:"pause"})},onContinue:()=>{he(this,Gn,Wr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Vt).canRun(this)}));const r=this.state.status==="pending",i=!k(this,rs).canStart();try{if(!r){he(this,Gn,Wr).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=k(this,Vt).config).onMutate)==null?void 0:o.call(s,n,this));const A=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));A!==this.state.context&&he(this,Gn,Wr).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const E=await k(this,rs).start();return await((d=(c=k(this,Vt).config).onSuccess)==null?void 0:d.call(c,E,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,E,n,this.state.context)),await((x=(w=k(this,Vt).config).onSettled)==null?void 0:x.call(w,E,null,this.state.variables,this.state.context,this)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,E,null,n,this.state.context)),he(this,Gn,Wr).call(this,{type:"success",data:E}),E}catch(E){try{throw await((_=(T=k(this,Vt).config).onError)==null?void 0:_.call(T,E,n,this.state.context,this)),await((V=(C=this.options).onError)==null?void 0:V.call(C,E,n,this.state.context)),await((z=(U=k(this,Vt).config).onSettled)==null?void 0:z.call(U,void 0,E,this.state.variables,this.state.context,this)),await((v=(S=this.options).onSettled)==null?void 0:v.call(S,void 0,E,n,this.state.context)),E}finally{he(this,Gn,Wr).call(this,{type:"error",error:E})}}finally{k(this,Vt).runNext(this)}}},Qn=new WeakMap,Vt=new WeakMap,rs=new WeakMap,Gn=new WeakSet,Wr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),it.batch(()=>{k(this,Qn).forEach(i=>{i.onMutationUpdate(n)}),k(this,Vt).notify({mutation:this,type:"updated",action:n})})},G0);function BT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,Ol,Y0,lR=(Y0=class extends Zo{constructor(e={}){super();re(this,en);re(this,Ol);this.config=e,Y(this,en,new Map),Y(this,Ol,Date.now())}build(e,n,r){const i=new aR({mutationCache:this,mutationId:++Iu(this,Ol)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=zu(e),r=k(this,en).get(n)??[];r.push(e),k(this,en).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=zu(e);if(k(this,en).has(n)){const i=(r=k(this,en).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?k(this,en).delete(n):k(this,en).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=k(this,en).get(zu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=k(this,en).get(zu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){it.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...k(this,en).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n_(n,r))}findAll(e={}){return this.getAll().filter(n=>n_(e,n))}notify(e){it.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(e.map(n=>n.continue().catch(vn))))}},en=new WeakMap,Ol=new WeakMap,Y0);function zu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function s_(t){return{onFetch:(e,n)=>{var d,p,m,w,x;const r=e.options,i=(m=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((w=e.state.data)==null?void 0:w.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let P=!1;const N=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},T=VT(e.options,e.fetchOptions),_=async(C,V,U)=>{if(P)return Promise.reject();if(V==null&&C.pages.length)return Promise.resolve(C);const z={queryKey:e.queryKey,pageParam:V,direction:U?"backward":"forward",meta:e.options.meta};N(z);const S=await T(z),{maxPages:v}=e.options,E=U?Zk:Jk;return{pages:E(C.pages,S,v),pageParams:E(C.pageParams,V,v)}};if(i&&s.length){const C=i==="backward",V=C?uR:o_,U={pages:s,pageParams:o},z=V(r,U);l=await _(U,z,C)}else{const C=t??s.length;do{const V=u===0?o[0]??r.initialPageParam:o_(r,l);if(u>0&&V==null)break;l=await _(l,V),u++}while(u<C)}return l};e.options.persister?e.fetchFn=()=>{var P,N;return(N=(P=e.options).persister)==null?void 0:N.call(P,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function o_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function uR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,ri,ii,Ao,Co,si,xo,ko,X0,cR=(X0=class{constructor(t={}){re(this,qe);re(this,ri);re(this,ii);re(this,Ao);re(this,Co);re(this,si);re(this,xo);re(this,ko);Y(this,qe,t.queryCache||new oR),Y(this,ri,t.mutationCache||new lR),Y(this,ii,t.defaultOptions||{}),Y(this,Ao,new Map),Y(this,Co,new Map),Y(this,si,0)}mount(){Iu(this,si)._++,k(this,si)===1&&(Y(this,xo,qm.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,qe).onFocus())})),Y(this,ko,qc.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,qe).onOnline())})))}unmount(){var t,e;Iu(this,si)._--,k(this,si)===0&&((t=k(this,xo))==null||t.call(this),Y(this,xo,void 0),(e=k(this,ko))==null||e.call(this),Y(this,ko,void 0))}isFetching(t){return k(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,ri).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=k(this,qe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(mo(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return k(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=k(this,qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=Yk(e,s);if(o!==void 0)return k(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return it.batch(()=>k(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=k(this,qe);it.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=k(this,qe),r={type:"active",...t};return it.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=it.batch(()=>k(this,qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(vn).catch(vn)}invalidateQueries(t={},e={}){return it.batch(()=>{if(k(this,qe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=it.batch(()=>k(this,qe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(vn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=k(this,qe).build(this,e);return n.isStaleByTime(mo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vn).catch(vn)}fetchInfiniteQuery(t){return t.behavior=s_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vn).catch(vn)}ensureInfiniteQueryData(t){return t.behavior=s_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qc.isOnline()?k(this,ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,qe)}getMutationCache(){return k(this,ri)}getDefaultOptions(){return k(this,ii)}setDefaultOptions(t){Y(this,ii,t)}setQueryDefaults(t,e){k(this,Ao).set(ys(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Ao).values()];let n={};return e.forEach(r=>{Il(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){k(this,Co).set(ys(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Co).values()];let n={};return e.forEach(r=>{Il(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,ii).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$m(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===OT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,ii).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,qe).clear(),k(this,ri).clear()}},qe=new WeakMap,ri=new WeakMap,ii=new WeakMap,Ao=new WeakMap,Co=new WeakMap,si=new WeakMap,xo=new WeakMap,ko=new WeakMap,X0),zt,ge,Vl,Lt,is,Ro,oi,Yn,Ll,Po,bo,ss,os,ai,No,Ae,La,up,cp,hp,dp,fp,pp,mp,zT,J0,hR=(J0=class extends Zo{constructor(e,n){super();re(this,Ae);re(this,zt);re(this,ge);re(this,Vl);re(this,Lt);re(this,is);re(this,Ro);re(this,oi);re(this,Yn);re(this,Ll);re(this,Po);re(this,bo);re(this,ss);re(this,os);re(this,ai);re(this,No,new Set);this.options=n,Y(this,zt,e),Y(this,Yn,null),Y(this,oi,lp()),this.options.experimental_prefetchInRender||k(this,oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,ge).addObserver(this),a_(k(this,ge),this.options)?he(this,Ae,La).call(this):this.updateResult(),he(this,Ae,dp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gp(k(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gp(k(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,Ae,fp).call(this),he(this,Ae,pp).call(this),k(this,ge).removeObserver(this)}setOptions(e,n){const r=this.options,i=k(this,ge);if(this.options=k(this,zt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,k(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,Ae,mp).call(this),k(this,ge).setOptions(this.options),r._defaulted&&!$c(this.options,r)&&k(this,zt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,ge),observer:this});const s=this.hasListeners();s&&l_(k(this,ge),i,this.options,r)&&he(this,Ae,La).call(this),this.updateResult(n),s&&(k(this,ge)!==i||On(this.options.enabled,k(this,ge))!==On(r.enabled,k(this,ge))||mo(this.options.staleTime,k(this,ge))!==mo(r.staleTime,k(this,ge)))&&he(this,Ae,up).call(this);const o=he(this,Ae,cp).call(this);s&&(k(this,ge)!==i||On(this.options.enabled,k(this,ge))!==On(r.enabled,k(this,ge))||o!==k(this,ai))&&he(this,Ae,hp).call(this,o)}getOptimisticResult(e){const n=k(this,zt).getQueryCache().build(k(this,zt),e),r=this.createResult(n,e);return fR(this,r)&&(Y(this,Lt,r),Y(this,Ro,this.options),Y(this,is,k(this,ge).state)),r}getCurrentResult(){return k(this,Lt)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){k(this,No).add(e)}getCurrentQuery(){return k(this,ge)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=k(this,zt).defaultQueryOptions(e),r=k(this,zt).getQueryCache().build(k(this,zt),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return he(this,Ae,La).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Lt)))}createResult(e,n){var S;const r=k(this,ge),i=this.options,s=k(this,Lt),o=k(this,is),l=k(this,Ro),c=e!==r?e.state:k(this,Vl),{state:d}=e;let p={...d},m=!1,w;if(n._optimisticResults){const v=this.hasListeners(),E=!v&&a_(e,n),A=v&&l_(e,r,n,i);(E||A)&&(p={...p,...UT(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:P,status:N}=p;if(n.select&&p.data!==void 0)if(s&&p.data===(o==null?void 0:o.data)&&n.select===k(this,Ll))w=k(this,Po);else try{Y(this,Ll,n.select),w=n.select(p.data),w=ap(s==null?void 0:s.data,w,n),Y(this,Po,w),Y(this,Yn,null)}catch(v){Y(this,Yn,v)}else w=p.data;if(n.placeholderData!==void 0&&w===void 0&&N==="pending"){let v;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))v=s.data;else if(v=typeof n.placeholderData=="function"?n.placeholderData((S=k(this,bo))==null?void 0:S.state.data,k(this,bo)):n.placeholderData,n.select&&v!==void 0)try{v=n.select(v),Y(this,Yn,null)}catch(E){Y(this,Yn,E)}v!==void 0&&(N="success",w=ap(s==null?void 0:s.data,v,n),m=!0)}k(this,Yn)&&(x=k(this,Yn),w=k(this,Po),P=Date.now(),N="error");const T=p.fetchStatus==="fetching",_=N==="pending",C=N==="error",V=_&&T,U=w!==void 0;return{status:N,fetchStatus:p.fetchStatus,isPending:_,isSuccess:N==="success",isError:C,isInitialLoading:V,isLoading:V,data:w,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:P,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:T,isRefetching:T&&!_,isLoadingError:C&&!U,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:C&&U,isStale:Wm(e,n),refetch:this.refetch,promise:k(this,oi)}}updateResult(e){const n=k(this,Lt),r=this.createResult(k(this,ge),this.options);if(Y(this,is,k(this,ge).state),Y(this,Ro,this.options),k(this,is).data!==void 0&&Y(this,bo,k(this,ge)),$c(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},l=()=>{const c=Y(this,oi,r.promise=lp());o(c)},u=k(this,oi);switch(u.status){case"pending":o(u);break;case"fulfilled":(r.status==="error"||r.data!==u.value)&&l();break;case"rejected":(r.status!=="error"||r.error!==u.reason)&&l();break}}Y(this,Lt,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!k(this,No).size)return!0;const u=new Set(l??k(this,No));return this.options.throwOnError&&u.add("error"),Object.keys(k(this,Lt)).some(c=>{const d=c;return k(this,Lt)[d]!==n[d]&&u.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),he(this,Ae,zT).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,Ae,dp).call(this)}},zt=new WeakMap,ge=new WeakMap,Vl=new WeakMap,Lt=new WeakMap,is=new WeakMap,Ro=new WeakMap,oi=new WeakMap,Yn=new WeakMap,Ll=new WeakMap,Po=new WeakMap,bo=new WeakMap,ss=new WeakMap,os=new WeakMap,ai=new WeakMap,No=new WeakMap,Ae=new WeakSet,La=function(e){he(this,Ae,mp).call(this);let n=k(this,ge).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vn)),n},up=function(){he(this,Ae,fp).call(this);const e=mo(this.options.staleTime,k(this,ge));if(gs||k(this,Lt).isStale||!sp(e))return;const r=NT(k(this,Lt).dataUpdatedAt,e)+1;Y(this,ss,setTimeout(()=>{k(this,Lt).isStale||this.updateResult()},r))},cp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,ge)):this.options.refetchInterval)??!1},hp=function(e){he(this,Ae,pp).call(this),Y(this,ai,e),!(gs||On(this.options.enabled,k(this,ge))===!1||!sp(k(this,ai))||k(this,ai)===0)&&Y(this,os,setInterval(()=>{(this.options.refetchIntervalInBackground||qm.isFocused())&&he(this,Ae,La).call(this)},k(this,ai)))},dp=function(){he(this,Ae,up).call(this),he(this,Ae,hp).call(this,he(this,Ae,cp).call(this))},fp=function(){k(this,ss)&&(clearTimeout(k(this,ss)),Y(this,ss,void 0))},pp=function(){k(this,os)&&(clearInterval(k(this,os)),Y(this,os,void 0))},mp=function(){const e=k(this,zt).getQueryCache().build(k(this,zt),this.options);if(e===k(this,ge))return;const n=k(this,ge);Y(this,ge,e),Y(this,Vl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},zT=function(e){it.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(k(this,Lt))}),k(this,zt).getQueryCache().notify({query:k(this,ge),type:"observerResultsUpdated"})})},J0);function dR(t,e){return On(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function a_(t,e){return dR(t,e)||t.state.data!==void 0&&gp(t,e,e.refetchOnMount)}function gp(t,e,n){if(On(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Wm(t,e)}return!1}function l_(t,e,n,r){return(t!==e||On(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Wm(t,n)}function Wm(t,e){return On(e.enabled,t)!==!1&&t.isStaleByTime(mo(e.staleTime,t))}function fR(t,e){return!$c(t.getCurrentResult(),e)}var li,ui,$t,_r,kr,ac,yp,Z0,pR=(Z0=class extends Zo{constructor(n,r){super();re(this,kr);re(this,li);re(this,ui);re(this,$t);re(this,_r);Y(this,li,n),this.setOptions(r),this.bindMethods(),he(this,kr,ac).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=k(this,li).defaultMutationOptions(n),$c(this.options,r)||k(this,li).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,$t),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ys(r.mutationKey)!==ys(this.options.mutationKey)?this.reset():((i=k(this,$t))==null?void 0:i.state.status)==="pending"&&k(this,$t).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=k(this,$t))==null||n.removeObserver(this)}onMutationUpdate(n){he(this,kr,ac).call(this),he(this,kr,yp).call(this,n)}getCurrentResult(){return k(this,ui)}reset(){var n;(n=k(this,$t))==null||n.removeObserver(this),Y(this,$t,void 0),he(this,kr,ac).call(this),he(this,kr,yp).call(this)}mutate(n,r){var i;return Y(this,_r,r),(i=k(this,$t))==null||i.removeObserver(this),Y(this,$t,k(this,li).getMutationCache().build(k(this,li),this.options)),k(this,$t).addObserver(this),k(this,$t).execute(n)}},li=new WeakMap,ui=new WeakMap,$t=new WeakMap,_r=new WeakMap,kr=new WeakSet,ac=function(){var r;const n=((r=k(this,$t))==null?void 0:r.state)??BT();Y(this,ui,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},yp=function(n){it.batch(()=>{var r,i,s,o,l,u,c,d;if(k(this,_r)&&this.hasListeners()){const p=k(this,ui).variables,m=k(this,ui).context;(n==null?void 0:n.type)==="success"?((i=(r=k(this,_r)).onSuccess)==null||i.call(r,n.data,p,m),(o=(s=k(this,_r)).onSettled)==null||o.call(s,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((u=(l=k(this,_r)).onError)==null||u.call(l,n.error,p,m),(d=(c=k(this,_r)).onSettled)==null||d.call(c,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(k(this,ui))})})},Z0),$T=F.createContext(void 0),Bn=t=>{const e=F.useContext($T);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mR=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx($T.Provider,{value:t,children:e})),qT=F.createContext(!1),gR=()=>F.useContext(qT);qT.Provider;function yR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vR=F.createContext(yR()),_R=()=>F.useContext(vR);function WT(t,e){return typeof t=="function"?t(...e):!!t}function HT(){}var wR=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},ER=t=>{F.useEffect(()=>{t.clearReset()},[t])},TR=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&WT(n,[t.error,r]),IR=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},SR=(t,e)=>t.isLoading&&t.isFetching&&!e,AR=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,u_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function CR(t,e,n){var d,p,m,w,x;const r=Bn(),i=gR(),s=_R(),o=r.defaultQueryOptions(t);(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",IR(o),wR(o,s),ER(s);const l=!r.getQueryState(t.queryKey),[u]=F.useState(()=>new e(r,o)),c=u.getOptimisticResult(o);if(F.useSyncExternalStore(F.useCallback(P=>{const N=i?()=>{}:u.subscribe(it.batchCalls(P));return u.updateResult(),N},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),F.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),AR(o,c))throw u_(o,u,s);if(TR({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((w=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,o,c),o.experimental_prefetchInRender&&!gs&&SR(c,i)){const P=l?u_(o,u,s):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;P==null||P.catch(HT).finally(()=>{u.hasListeners()||u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function KT(t,e){return CR(t,hR)}function Fr(t,e){const n=Bn(),[r]=F.useState(()=>new pR(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const i=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(it.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=F.useCallback((o,l)=>{r.mutate(o,l).catch(HT)},[r]);if(i.error&&WT(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(m=64)),r.push(n[d],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new kR;const m=s<<2|l>>4;if(r.push(m),c!==64){const w=l<<4&240|c>>2;if(r.push(w),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(t){const e=QT(t);return GT.encodeByteArray(e,!0)},Wc=function(t){return RR(t).replace(/\./g,"")},YT=function(t){try{return GT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>PR().__FIREBASE_DEFAULTS__,NR=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YT(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return bR()||NR()||DR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OR=t=>{const e=XT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JT=()=>{var t;return(t=Nh())===null||t===void 0?void 0:t.config},ZT=t=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function FR(){var t;const e=(t=Nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zR(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function n1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function $R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qR,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ks.prototype.create)}}class ks{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new zn(i,l,r)}}function WR(t,e){return t.replace(HR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HR=/\{\$([^}]+)}/g;function KR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(h_(s)&&h_(o)){if(!Uo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Fa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QR(t,e){const n=new GR(t,e);return n.subscribe.bind(n)}class GR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hd),i.error===void 0&&(i.error=Hd),i.complete===void 0&&(i.complete=Hd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,JR=2,ZR=4*60*60*1e3,eP=.5;function d_(t,e=XR,n=JR){const r=e*Math.pow(n,t),i=Math.round(eP*r*(Math.random()-.5)*2);return Math.min(ZR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rP(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(t){return t===Ki?void 0:t}function rP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const sP={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},oP=ye.INFO,aP={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},lP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dh{constructor(e){this.name=e,this._logLevel=oP,this._logHandler=lP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const uP=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function cP(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,vp=new WeakMap,i1=new WeakMap,Kd=new WeakMap,Hm=new WeakMap;function dP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r1.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function fP(t){if(vp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vp.set(t,e)}let _p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pP(t){_p=t(_p)}function mP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qd(this),e,...n);return i1.set(r,e.sort?e.sort():[e]),Ii(r)}:hP().includes(t)?function(...e){return t.apply(Qd(this),e),Ii(r1.get(this))}:function(...e){return Ii(t.apply(Qd(this),e))}}function gP(t){return typeof t=="function"?mP(t):(t instanceof IDBTransaction&&fP(t),uP(t,cP())?new Proxy(t,_p):t)}function Ii(t){if(t instanceof IDBRequest)return dP(t);if(Kd.has(t))return Kd.get(t);const e=gP(t);return e!==t&&(Kd.set(t,e),Hm.set(e,t)),e}const Qd=t=>Hm.get(t);function s1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ii(o.result),u.oldVersion,u.newVersion,Ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const yP=["get","getKey","getAll","getAllKeys","count"],vP=["put","add","delete","clear"],Gd=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yP.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Gd.set(e,s),s}pP(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",g_="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Dh("@firebase/app"),EP="@firebase/app-compat",TP="@firebase/analytics-compat",IP="@firebase/analytics",SP="@firebase/app-check-compat",AP="@firebase/app-check",CP="@firebase/auth",xP="@firebase/auth-compat",kP="@firebase/database",RP="@firebase/data-connect",PP="@firebase/database-compat",bP="@firebase/functions",NP="@firebase/functions-compat",DP="@firebase/installations",OP="@firebase/installations-compat",VP="@firebase/messaging",LP="@firebase/messaging-compat",MP="@firebase/performance",FP="@firebase/performance-compat",jP="@firebase/remote-config",UP="@firebase/remote-config-compat",BP="@firebase/storage",zP="@firebase/storage-compat",$P="@firebase/firestore",qP="@firebase/vertexai-preview",WP="@firebase/firestore-compat",HP="firebase",KP="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",QP={[wp]:"fire-core",[EP]:"fire-core-compat",[IP]:"fire-analytics",[TP]:"fire-analytics-compat",[AP]:"fire-app-check",[SP]:"fire-app-check-compat",[CP]:"fire-auth",[xP]:"fire-auth-compat",[kP]:"fire-rtdb",[RP]:"fire-data-connect",[PP]:"fire-rtdb-compat",[bP]:"fire-fn",[NP]:"fire-fn-compat",[DP]:"fire-iid",[OP]:"fire-iid-compat",[VP]:"fire-fcm",[LP]:"fire-fcm-compat",[MP]:"fire-perf",[FP]:"fire-perf-compat",[jP]:"fire-rc",[UP]:"fire-rc-compat",[BP]:"fire-gcs",[zP]:"fire-gcs-compat",[$P]:"fire-fst",[WP]:"fire-fst-compat",[qP]:"fire-vertex","fire-js":"fire-js",[HP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,GP=new Map,Tp=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(Tp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,t);for(const n of Hc.values())y_(n,t);for(const n of GP.values())y_(n,t);return!0}function Rs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new ks("app","Firebase",YP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=KP;function o1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=JT()),!n)throw Si.create("no-options");const s=Hc.get(i);if(s){if(Uo(n,s.options)&&Uo(r,s.config))return s;throw Si.create("duplicate-app",{appName:i})}const o=new iP(i);for(const u of Tp.values())o.addComponent(u);const l=new XP(n,r,o);return Hc.set(i,l),l}function Km(t=Ep){const e=Hc.get(t);if(!e&&t===Ep&&JT())return o1();if(!e)throw Si.create("no-app",{appName:t});return e}function In(t,e,n){var r;let i=(r=QP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(l.join(" "));return}ar(new jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebase-heartbeat-database",ZP=1,Sl="firebase-heartbeat-store";let Yd=null;function a1(){return Yd||(Yd=s1(JP,ZP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Yd}async function eb(t){try{const n=(await a1()).transaction(Sl),r=await n.objectStore(Sl).get(l1(t));return await n.done,r}catch(e){if(e instanceof zn)Dr.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function v_(t,e){try{const r=(await a1()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,l1(t)),await r.done}catch(n){if(n instanceof zn)Dr.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function l1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=1024,nb=30*24*60*60*1e3;class rb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=__();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=nb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=__(),{heartbeatsToSend:r,unsentEntries:i}=ib(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function __(){return new Date().toISOString().substring(0,10)}function ib(t,e=tb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?n1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w_(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){ar(new jn("platform-logger",e=>new _P(e),"PRIVATE")),ar(new jn("heartbeat",e=>new rb(e),"PRIVATE")),In(wp,g_,t),In(wp,g_,"esm2017"),In("fire-js","")}ob("");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,u1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function E(){}E.prototype=v.prototype,S.D=v.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(A,D,b){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return v.prototype[D].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,E){E||(E=0);var A=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)A[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)A[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=S.g[0],E=S.g[1],D=S.g[2];var b=S.g[3],I=v+(b^E&(D^b))+A[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=b+(D^v&(E^D))+A[1]+3905402710&4294967295,b=v+(I<<12&4294967295|I>>>20),I=D+(E^b&(v^E))+A[2]+606105819&4294967295,D=b+(I<<17&4294967295|I>>>15),I=E+(v^D&(b^v))+A[3]+3250441966&4294967295,E=D+(I<<22&4294967295|I>>>10),I=v+(b^E&(D^b))+A[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=b+(D^v&(E^D))+A[5]+1200080426&4294967295,b=v+(I<<12&4294967295|I>>>20),I=D+(E^b&(v^E))+A[6]+2821735955&4294967295,D=b+(I<<17&4294967295|I>>>15),I=E+(v^D&(b^v))+A[7]+4249261313&4294967295,E=D+(I<<22&4294967295|I>>>10),I=v+(b^E&(D^b))+A[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=b+(D^v&(E^D))+A[9]+2336552879&4294967295,b=v+(I<<12&4294967295|I>>>20),I=D+(E^b&(v^E))+A[10]+4294925233&4294967295,D=b+(I<<17&4294967295|I>>>15),I=E+(v^D&(b^v))+A[11]+2304563134&4294967295,E=D+(I<<22&4294967295|I>>>10),I=v+(b^E&(D^b))+A[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=b+(D^v&(E^D))+A[13]+4254626195&4294967295,b=v+(I<<12&4294967295|I>>>20),I=D+(E^b&(v^E))+A[14]+2792965006&4294967295,D=b+(I<<17&4294967295|I>>>15),I=E+(v^D&(b^v))+A[15]+1236535329&4294967295,E=D+(I<<22&4294967295|I>>>10),I=v+(D^b&(E^D))+A[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=b+(E^D&(v^E))+A[6]+3225465664&4294967295,b=v+(I<<9&4294967295|I>>>23),I=D+(v^E&(b^v))+A[11]+643717713&4294967295,D=b+(I<<14&4294967295|I>>>18),I=E+(b^v&(D^b))+A[0]+3921069994&4294967295,E=D+(I<<20&4294967295|I>>>12),I=v+(D^b&(E^D))+A[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=b+(E^D&(v^E))+A[10]+38016083&4294967295,b=v+(I<<9&4294967295|I>>>23),I=D+(v^E&(b^v))+A[15]+3634488961&4294967295,D=b+(I<<14&4294967295|I>>>18),I=E+(b^v&(D^b))+A[4]+3889429448&4294967295,E=D+(I<<20&4294967295|I>>>12),I=v+(D^b&(E^D))+A[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=b+(E^D&(v^E))+A[14]+3275163606&4294967295,b=v+(I<<9&4294967295|I>>>23),I=D+(v^E&(b^v))+A[3]+4107603335&4294967295,D=b+(I<<14&4294967295|I>>>18),I=E+(b^v&(D^b))+A[8]+1163531501&4294967295,E=D+(I<<20&4294967295|I>>>12),I=v+(D^b&(E^D))+A[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=b+(E^D&(v^E))+A[2]+4243563512&4294967295,b=v+(I<<9&4294967295|I>>>23),I=D+(v^E&(b^v))+A[7]+1735328473&4294967295,D=b+(I<<14&4294967295|I>>>18),I=E+(b^v&(D^b))+A[12]+2368359562&4294967295,E=D+(I<<20&4294967295|I>>>12),I=v+(E^D^b)+A[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=b+(v^E^D)+A[8]+2272392833&4294967295,b=v+(I<<11&4294967295|I>>>21),I=D+(b^v^E)+A[11]+1839030562&4294967295,D=b+(I<<16&4294967295|I>>>16),I=E+(D^b^v)+A[14]+4259657740&4294967295,E=D+(I<<23&4294967295|I>>>9),I=v+(E^D^b)+A[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=b+(v^E^D)+A[4]+1272893353&4294967295,b=v+(I<<11&4294967295|I>>>21),I=D+(b^v^E)+A[7]+4139469664&4294967295,D=b+(I<<16&4294967295|I>>>16),I=E+(D^b^v)+A[10]+3200236656&4294967295,E=D+(I<<23&4294967295|I>>>9),I=v+(E^D^b)+A[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=b+(v^E^D)+A[0]+3936430074&4294967295,b=v+(I<<11&4294967295|I>>>21),I=D+(b^v^E)+A[3]+3572445317&4294967295,D=b+(I<<16&4294967295|I>>>16),I=E+(D^b^v)+A[6]+76029189&4294967295,E=D+(I<<23&4294967295|I>>>9),I=v+(E^D^b)+A[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=b+(v^E^D)+A[12]+3873151461&4294967295,b=v+(I<<11&4294967295|I>>>21),I=D+(b^v^E)+A[15]+530742520&4294967295,D=b+(I<<16&4294967295|I>>>16),I=E+(D^b^v)+A[2]+3299628645&4294967295,E=D+(I<<23&4294967295|I>>>9),I=v+(D^(E|~b))+A[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=b+(E^(v|~D))+A[7]+1126891415&4294967295,b=v+(I<<10&4294967295|I>>>22),I=D+(v^(b|~E))+A[14]+2878612391&4294967295,D=b+(I<<15&4294967295|I>>>17),I=E+(b^(D|~v))+A[5]+4237533241&4294967295,E=D+(I<<21&4294967295|I>>>11),I=v+(D^(E|~b))+A[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=b+(E^(v|~D))+A[3]+2399980690&4294967295,b=v+(I<<10&4294967295|I>>>22),I=D+(v^(b|~E))+A[10]+4293915773&4294967295,D=b+(I<<15&4294967295|I>>>17),I=E+(b^(D|~v))+A[1]+2240044497&4294967295,E=D+(I<<21&4294967295|I>>>11),I=v+(D^(E|~b))+A[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=b+(E^(v|~D))+A[15]+4264355552&4294967295,b=v+(I<<10&4294967295|I>>>22),I=D+(v^(b|~E))+A[6]+2734768916&4294967295,D=b+(I<<15&4294967295|I>>>17),I=E+(b^(D|~v))+A[13]+1309151649&4294967295,E=D+(I<<21&4294967295|I>>>11),I=v+(D^(E|~b))+A[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=b+(E^(v|~D))+A[11]+3174756917&4294967295,b=v+(I<<10&4294967295|I>>>22),I=D+(v^(b|~E))+A[2]+718787259&4294967295,D=b+(I<<15&4294967295|I>>>17),I=E+(b^(D|~v))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+b&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var E=v-this.blockSize,A=this.B,D=this.h,b=0;b<v;){if(D==0)for(;b<=E;)i(this,S,b),b+=this.blockSize;if(typeof S=="string"){for(;b<v;)if(A[D++]=S.charCodeAt(b++),D==this.blockSize){i(this,A),D=0;break}}else for(;b<v;)if(A[D++]=S[b++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var E=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=E&255,E/=256;for(this.u(S),S=Array(16),v=E=0;4>v;++v)for(var A=0;32>A;A+=8)S[E++]=this.g[v]>>>A&255;return S};function s(S,v){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=v(S)}function o(S,v){this.h=v;for(var E=[],A=!0,D=S.length-1;0<=D;D--){var b=S[D]|0;A&&b==v||(E[D]=b,A=!1)}this.g=E}var l={};function u(S){return-128<=S&&128>S?s(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var v=[],E=1,A=0;S>=E;A++)v[A]=S/E|0,E*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return N(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(v,8)),A=p,D=0;D<S.length;D+=8){var b=Math.min(8,S.length-D),I=parseInt(S.substring(D,D+b),v);8>b?(b=c(Math.pow(v,b)),A=A.j(b).add(c(I))):(A=A.j(E),A=A.add(c(I)))}return A}var p=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-N(this).m();for(var S=0,v=1,E=0;E<this.g.length;E++){var A=this.i(E);S+=(0<=A?A:4294967296+A)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(P(this))return"-"+N(this).toString(S);for(var v=c(Math.pow(S,6)),E=this,A="";;){var D=V(E,v).g;E=T(E,D.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=D,x(E))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=T(this,S),P(S)?-1:x(S)?0:1};function N(S){for(var v=S.g.length,E=[],A=0;A<v;A++)E[A]=~S.g[A];return new o(E,~S.h).add(m)}t.abs=function(){return P(this)?N(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0,D=0;D<=v;D++){var b=A+(this.i(D)&65535)+(S.i(D)&65535),I=(b>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);A=I>>>16,b&=65535,I&=65535,E[D]=I<<16|b}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(S,v){return S.add(N(v))}t.j=function(S){if(x(this)||x(S))return p;if(P(this))return P(S)?N(this).j(N(S)):N(N(this).j(S));if(P(S))return N(this.j(N(S)));if(0>this.l(w)&&0>S.l(w))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,E=[],A=0;A<2*v;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<S.g.length;D++){var b=this.i(A)>>>16,I=this.i(A)&65535,Ee=S.i(D)>>>16,Ve=S.i(D)&65535;E[2*A+2*D]+=I*Ve,_(E,2*A+2*D),E[2*A+2*D+1]+=b*Ve,_(E,2*A+2*D+1),E[2*A+2*D+1]+=I*Ee,_(E,2*A+2*D+1),E[2*A+2*D+2]+=b*Ee,_(E,2*A+2*D+2)}for(A=0;A<v;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=v;A<2*v;A++)E[A]=0;return new o(E,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function C(S,v){this.g=S,this.h=v}function V(S,v){if(x(v))throw Error("division by zero");if(x(S))return new C(p,p);if(P(S))return v=V(N(S),v),new C(N(v.g),N(v.h));if(P(v))return v=V(S,N(v)),new C(N(v.g),v.h);if(30<S.g.length){if(P(S)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=v;0>=A.l(S);)E=U(E),A=U(A);var D=z(E,1),b=z(A,1);for(A=z(A,2),E=z(E,2);!x(A);){var I=b.add(A);0>=I.l(S)&&(D=D.add(E),b=I),A=z(A,1),E=z(E,1)}return v=T(S,D.j(v)),new C(D,v)}for(D=p;0<=S.l(v);){for(E=Math.max(1,Math.floor(S.m()/v.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=c(E),I=b.j(v);P(I)||0<I.l(S);)E-=A,b=c(E),I=b.j(v);x(b)&&(b=m),D=D.add(b),S=T(S,I)}return new C(D,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)&S.i(A);return new o(E,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)|S.i(A);return new o(E,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)^S.i(A);return new o(E,this.h^S.h)};function U(S){for(var v=S.g.length+1,E=[],A=0;A<v;A++)E[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(E,S.h)}function z(S,v){var E=v>>5;v%=32;for(var A=S.g.length-E,D=[],b=0;b<A;b++)D[b]=0<v?S.i(b+E)>>>v|S.i(b+E+1)<<32-v:S.i(b+E);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,cs=o}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c1,ja,h1,lc,Ip,d1,f1,p1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var O=a[y];if(!(O in f))break e;f=f[O]}a=a[a.length-1],y=f[a],h=h(y),h!=y&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var f=0,y=!1,O={next:function(){if(!y&&f<a.length){var M=f++;return{value:h(M,a[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function w(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function x(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(y,O,M){for(var H=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)H[ke-2]=arguments[ke];return h.prototype[O].apply(y,H)}}function P(a){const h=a.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=a[y];return f}return[]}function N(a,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const O=a.length||0,M=y.length||0;a.length=O+M;for(let H=0;H<M;H++)a[O+H]=y[H]}else a.push(y)}}class T{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var U=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function z(a,h,f){for(const y in a)h.call(f,a[y],y,a)}function S(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function v(a){const h={};for(const f in a)h[f]=a[f];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let f,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(f in y)a[f]=y[f];for(let M=0;M<E.length;M++)f=E[M],Object.prototype.hasOwnProperty.call(y,f)&&(a[f]=y[f])}}function D(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function b(a){l.setTimeout(()=>{throw a},0)}function I(){var a=ne;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Ee{constructor(){this.h=this.g=null}add(h,f){const y=Ve.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Ve=new T(()=>new ft,a=>a.reset());class ft{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Q=!1,ne=new Ee,oe=()=>{const a=l.Promise.resolve(void 0);ze=()=>{a.then(Re)}};var Re=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){b(f)}var h=Ve;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Q=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function xn(a,h){if(Me.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{V(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Jt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&xn.aa.h.call(this)}}x(xn,Me);var Jt={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var pn="closure_listenable_"+(1e6*Math.random()|0),sa=0;function iu(a,h,f,y,O){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=O,this.key=++sa,this.da=this.fa=!1}function Vs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Fi(a){this.src=a,this.g={},this.h=0}Fi.prototype.add=function(a,h,f,y,O){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var H=Ls(a,h,y,O);return-1<H?(h=a[H],f||(h.fa=!1)):(h=new iu(h,this.src,M,!!y,O),h.fa=f,a.push(h)),h};function oa(a,h){var f=h.type;if(f in a.g){var y=a.g[f],O=Array.prototype.indexOf.call(y,h,void 0),M;(M=0<=O)&&Array.prototype.splice.call(y,O,1),M&&(Vs(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Ls(a,h,f,y){for(var O=0;O<a.length;++O){var M=a[O];if(!M.da&&M.listener==h&&M.capture==!!f&&M.ha==y)return O}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),su={};function td(a,h,f,y,O){if(Array.isArray(h)){for(var M=0;M<h.length;M++)td(a,h[M],f,y,O);return null}return f=ce(f),a&&a[pn]?a.K(h,f,c(y)?!!y.capture:!!y,O):Wg(a,h,f,!1,y,O)}function Wg(a,h,f,y,O,M){if(!h)throw Error("Invalid event type");var H=c(O)?!!O.capture:!!O,ke=W(a);if(ke||(a[Ms]=ke=new Fi(a)),f=ke.add(h,f,y,H,M),f.proxy)return f;if(y=R(),f.proxy=y,y.src=a,y.listener=f,a.addEventListener)fn||(O=H),O===void 0&&(O=!1),a.addEventListener(h.toString(),y,O);else if(a.attachEvent)a.attachEvent(G(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function R(){function a(f){return h.call(a.src,a.listener,f)}const h=K;return a}function L(a,h,f,y,O){if(Array.isArray(h))for(var M=0;M<h.length;M++)L(a,h[M],f,y,O);else y=c(y)?!!y.capture:!!y,f=ce(f),a&&a[pn]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],f=Ls(M,f,y,O),-1<f&&(Vs(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=W(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Ls(h,f,y,O)),(f=-1<a?h[a]:null)&&j(f))}function j(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[pn])oa(h.i,a);else{var f=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(f,y,a.capture):h.detachEvent?h.detachEvent(G(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=W(h))?(oa(f,a),f.h==0&&(f.src=null,h[Ms]=null)):Vs(a)}}}function G(a){return a in su?su[a]:su[a]="on"+a}function K(a,h){if(a.da)a=!0;else{h=new xn(h,this);var f=a.listener,y=a.ha||a.src;a.fa&&j(a),a=f.call(y,h)}return a}function W(a){return a=a[Ms],a instanceof Fi?a:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(a){return typeof a=="function"?a:(a[ee]||(a[ee]=function(h){return a.handleEvent(h)}),a[ee])}function me(){Se.call(this),this.i=new Fi(this),this.M=this,this.F=null}x(me,Se),me.prototype[pn]=!0,me.prototype.removeEventListener=function(a,h,f,y){L(this,a,h,f,y)};function ve(a,h){var f,y=a.F;if(y)for(f=[];y;y=y.F)f.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Me(h,a);else if(h instanceof Me)h.target=h.target||a;else{var O=h;h=new Me(y,a),A(h,O)}if(O=!0,f)for(var M=f.length-1;0<=M;M--){var H=h.g=f[M];O=mn(H,y,!0,h)&&O}if(H=h.g=a,O=mn(H,y,!0,h)&&O,O=mn(H,y,!1,h)&&O,f)for(M=0;M<f.length;M++)H=h.g=f[M],O=mn(H,y,!1,h)&&O}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],y=0;y<f.length;y++)Vs(f[y]);delete a.g[h],a.h--}}this.F=null},me.prototype.K=function(a,h,f,y){return this.i.add(String(a),h,!1,f,y)},me.prototype.L=function(a,h,f,y){return this.i.add(String(a),h,!0,f,y)};function mn(a,h,f,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,M=0;M<h.length;++M){var H=h[M];if(H&&!H.da&&H.capture==f){var ke=H.listener,pt=H.ha||H.src;H.fa&&oa(a.i,H),O=ke.call(pt,y)!==!1&&O}}return O&&!y.defaultPrevented}function ou(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Fs(a){a.g=ou(()=>{a.g=null,a.i&&(a.i=!1,Fs(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class aa extends Se{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(a){Se.call(this),this.h=a,this.g={}}x(ji,Se);var la=[];function au(a){z(a.g,function(h,f){this.g.hasOwnProperty(f)&&j(h)},a),a.g={}}ji.prototype.N=function(){ji.aa.N.call(this),au(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=l.JSON.stringify,QS=l.JSON.parse,GS=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function nd(){}nd.prototype.h=null;function Hg(a){return a.h||(a.h=a.i())}function Kg(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rd(){Me.call(this,"d")}x(rd,Me);function id(){Me.call(this,"c")}x(id,Me);var Ui={},Qg=null;function lu(){return Qg=Qg||new me}Ui.La="serverreachability";function Gg(a){Me.call(this,Ui.La,a)}x(Gg,Me);function ca(a){const h=lu();ve(h,new Gg(h))}Ui.STAT_EVENT="statevent";function Yg(a,h){Me.call(this,Ui.STAT_EVENT,a),this.stat=h}x(Yg,Me);function Ot(a){const h=lu();ve(h,new Yg(h,a))}Ui.Ma="timingevent";function Xg(a,h){Me.call(this,Ui.Ma,a),this.size=h}x(Xg,Me);function ha(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function YS(a,h,f,y,O,M){a.info(function(){if(a.g)if(M)for(var H="",ke=M.split("&"),pt=0;pt<ke.length;pt++){var Te=ke[pt].split("=");if(1<Te.length){var It=Te[0];Te=Te[1];var St=It.split("_");H=2<=St.length&&St[1]=="type"?H+(It+"="+Te+"&"):H+(It+"=redacted&")}}else H=null;else H=M;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+f+`
`+H})}function XS(a,h,f,y,O,M,H){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+f+`
`+M+" "+H})}function Us(a,h,f,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ZS(a,f)+(y?" "+y:"")})}function JS(a,h){a.info(function(){return"TIMEOUT: "+h})}da.prototype.info=function(){};function ZS(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var y=f[a];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var H=1;H<O.length;H++)O[H]=""}}}}return js(f)}catch{return h}}var uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sd;function cu(){}x(cu,nd),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},sd=new cu;function Ur(a,h,f,y){this.j=a,this.i=h,this.l=f,this.R=y||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zg}function Zg(){this.i=null,this.g="",this.h=!1}var ey={},od={};function ad(a,h,f){a.L=1,a.v=pu(fr(h)),a.m=f,a.P=!0,ty(a,null)}function ty(a,h){a.F=Date.now(),hu(a),a.A=fr(a.v);var f=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),my(f.i,"t",y),a.C=0,f=a.j.J,a.h=new Zg,a.g=Dy(a.j,f?h:null,!a.m),0<a.O&&(a.M=new aa(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,y=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(la[0]=O.toString()),O=la);for(var M=0;M<O.length;M++){var H=td(f,O[M],y||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),ca(),YS(a.i,a.u,a.A,a.l,a.R,a.m)}Ur.prototype.ca=function(a){a=a.target;const h=this.M;h&&pr(a)==3?h.j():this.Y(a)},Ur.prototype.Y=function(a){try{if(a==this.g)e:{const St=pr(this.g);var h=this.g.Ba();const $s=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ty(this.g)))){this.J||St!=4||h==7||(h==8||0>=$s?ca(3):ca(2)),ld(this);var f=this.g.Z();this.X=f;t:if(ny(this)){var y=Ty(this.g);a="";var O=y.length,M=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),fa(this);var H="";break t}this.h.i=new l.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(M&&h==O-1)});y.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,XS(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,pt=this.g;if((ke=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ke)){var Te=ke;break t}}Te=null}if(f=Te)Us(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ud(this,f);else{this.o=!1,this.s=3,Ot(12),Bi(this),fa(this);break e}}if(this.P){f=!0;let kn;for(;!this.J&&this.C<H.length;)if(kn=eA(this,H),kn==od){St==4&&(this.s=4,Ot(14),f=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ey){this.s=4,Ot(15),Us(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Us(this.i,this.l,kn,null),ud(this,kn);if(ny(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||H.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)Us(this.i,this.l,H,"[Invalid Chunked Response]"),Bi(this),fa(this);else if(0<H.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),md(It),It.M=!0,Ot(11))}}else Us(this.i,this.l,H,null),ud(this,H);St==4&&Bi(this),this.o&&!this.J&&(St==4?Ry(this.j,this):(this.o=!1,hu(this)))}else yA(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Bi(this),fa(this)}}}catch{}finally{}};function ny(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function eA(a,h){var f=a.C,y=h.indexOf(`
`,f);return y==-1?od:(f=Number(h.substring(f,y)),isNaN(f)?ey:(y+=1,y+f>h.length?od:(h=h.slice(y,y+f),a.C=y+f,h)))}Ur.prototype.cancel=function(){this.J=!0,Bi(this)};function hu(a){a.S=Date.now()+a.I,ry(a,a.I)}function ry(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ha(m(a.ba,a),h)}function ld(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ur.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(JS(this.i,this.A),this.L!=2&&(ca(),Ot(17)),Bi(this),this.s=2,fa(this)):ry(this,this.S-a)};function fa(a){a.j.G==0||a.J||Ry(a.j,a)}function Bi(a){ld(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,au(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function ud(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||cd(f.h,a))){if(!a.K&&cd(f.h,a)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)wu(f),vu(f);else break e;pd(f),Ot(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(m(f.Za,f),6e3));if(1>=oy(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else $i(f,11)}else if((a.K||f.g==a)&&wu(f),!_(h))for(O=f.Da.g.parse(h),h=0;h<O.length;h++){let Te=O[h];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];const It=Te[3];It!=null&&(f.la=It,f.j.info("VER="+f.la));const St=Te[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));const $s=Te[5];$s!=null&&typeof $s=="number"&&0<$s&&(y=1.5*$s,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const kn=a.g;if(kn){const Tu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var M=y.h;M.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(hd(M,M.h),M.h=null))}if(y.D){const gd=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(y.ya=gd,be(y.I,y.D,gd))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var H=a;if(y.qa=Ny(y,y.J?y.ia:null,y.W),H.K){ay(y.h,H);var ke=H,pt=y.L;pt&&(ke.I=pt),ke.B&&(ld(ke),hu(ke)),y.g=H}else xy(y);0<f.i.length&&_u(f)}else Te[0]!="stop"&&Te[0]!="close"||$i(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?$i(f,7):fd(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}ca(4)}catch{}}var tA=class{constructor(a,h){this.g=a,this.map=h}};function iy(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function oy(a){return a.h?1:a.g?a.g.size:0}function cd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function hd(a,h){a.g?a.g.add(h):a.h=h}function ay(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}iy.prototype.cancel=function(){if(this.i=ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ly(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return P(a.i)}function nA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,y=0;y<f;y++)h.push(a[y]);return h}h=[],f=0;for(y in a)h[f++]=a[y];return h}function rA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const y in a)h[f++]=y;return h}}}function uy(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=rA(a),y=nA(a),O=y.length,M=0;M<O;M++)h.call(void 0,y[M],f&&f[M],a)}var cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var y=a[f].indexOf("="),O=null;if(0<=y){var M=a[f].substring(0,y);O=a[f].substring(y+1)}else M=a[f];h(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function zi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zi){this.h=a.h,du(this,a.j),this.o=a.o,this.g=a.g,fu(this,a.s),this.l=a.l;var h=a.i,f=new ga;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),hy(this,f),this.m=a.m}else a&&(h=String(a).match(cy))?(this.h=!1,du(this,h[1]||"",!0),this.o=pa(h[2]||""),this.g=pa(h[3]||"",!0),fu(this,h[4]),this.l=pa(h[5]||"",!0),hy(this,h[6]||"",!0),this.m=pa(h[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}zi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(ma(h,dy,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(ma(h,dy,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(ma(f,f.charAt(0)=="/"?aA:oA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",ma(f,uA)),a.join("")};function fr(a){return new zi(a)}function du(a,h,f){a.j=f?pa(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function fu(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function hy(a,h,f){h instanceof ga?(a.i=h,cA(a.i,a.h)):(f||(h=ma(h,lA)),a.i=new ga(h,a.h))}function be(a,h,f){a.i.set(h,f)}function pu(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function pa(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ma(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,sA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var dy=/[#\/\?@]/g,oA=/[#\?:]/g,aA=/[#\?]/g,lA=/[#\?@]/g,uA=/#/g;function ga(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Br(a){a.g||(a.g=new Map,a.h=0,a.i&&iA(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=ga.prototype,t.add=function(a,h){Br(this),this.i=null,a=Bs(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function fy(a,h){Br(a),h=Bs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function py(a,h){return Br(a),h=Bs(a,h),a.g.has(h)}t.forEach=function(a,h){Br(this),this.g.forEach(function(f,y){f.forEach(function(O){a.call(h,O,y,this)},this)},this)},t.na=function(){Br(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const O=a[y];for(let M=0;M<O.length;M++)f.push(h[y])}return f},t.V=function(a){Br(this);let h=[];if(typeof a=="string")py(this,a)&&(h=h.concat(this.g.get(Bs(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return Br(this),this.i=null,a=Bs(this,a),py(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function my(a,h,f){fy(a,h),0<f.length&&(a.i=null,a.g.set(Bs(a,h),P(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const M=encodeURIComponent(String(y)),H=this.V(y);for(y=0;y<H.length;y++){var O=M;H[y]!==""&&(O+="="+encodeURIComponent(String(H[y]))),a.push(O)}}return this.i=a.join("&")};function Bs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function cA(a,h){h&&!a.j&&(Br(a),a.i=null,a.g.forEach(function(f,y){var O=y.toLowerCase();y!=O&&(fy(this,y),my(this,O,f))},a)),a.j=h}function hA(a,h){const f=new da;if(l.Image){const y=new Image;y.onload=w(zr,f,"TestLoadImage: loaded",!0,h,y),y.onerror=w(zr,f,"TestLoadImage: error",!1,h,y),y.onabort=w(zr,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=w(zr,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function dA(a,h){const f=new da,y=new AbortController,O=setTimeout(()=>{y.abort(),zr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(M=>{clearTimeout(O),M.ok?zr(f,"TestPingServer: ok",!0,h):zr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),zr(f,"TestPingServer: error",!1,h)})}function zr(a,h,f,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(f)}catch{}}function fA(){this.g=new GS}function pA(a,h,f){const y=f||"";try{uy(a,function(O,M){let H=O;c(O)&&(H=js(O)),h.push(y+M+"="+encodeURIComponent(H))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function mu(a){this.l=a.Ub||null,this.j=a.eb||!1}x(mu,nd),mu.prototype.g=function(){return new gu(this.l,this.j)},mu.prototype.i=function(a){return function(){return a}}({});function gu(a,h){me.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(gu,me),t=gu.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,va(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function gy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ya(this):va(this),this.readyState==3&&gy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ya(this))},t.Qa=function(a){this.g&&(this.response=a,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(a){a.readyState=4,a.l=null,a.j=null,a.v=null,va(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function va(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function yy(a){let h="";return z(a,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function dd(a,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=yy(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):be(a,h,f))}function $e(a){me.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($e,me);var mA=/^https?$/i,gA=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sd.g(),this.v=this.o?Hg(this.o):Hg(sd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){vy(this,M);return}if(a=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)f.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(gA,h,void 0))||y||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,H]of f)this.g.setRequestHeader(M,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ey(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){vy(this,M)}};function vy(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,_y(a),yu(a)}function _y(a){a.A||(a.A=!0,ve(a,"complete"),ve(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ve(this,"complete"),ve(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wy(this):this.bb())},t.bb=function(){wy(this)};function wy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||pr(a)!=4||a.Z()!=2)){if(a.u&&pr(a)==4)ou(a.Ea,0,a);else if(ve(a,"readystatechange"),pr(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=H===0){var O=String(a.D).match(cy)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),y=!mA.test(O?O.toLowerCase():"")}f=y}if(f)ve(a,"complete"),ve(a,"success");else{a.m=6;try{var M=2<pr(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",_y(a)}}finally{yu(a)}}}}function yu(a,h){if(a.g){Ey(a);const f=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ve(a,"ready");try{f.onreadystatechange=y}catch{}}}function Ey(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function pr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),QS(h)}};function Ty(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function yA(a){const h={};a=(a.g&&2<=pr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(_(a[y]))continue;var f=D(a[y]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=h[O]||[];h[O]=M,M.push(f)}S(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function Iy(a){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,a),this.cb=_a("retryDelaySeedMs",1e4,a),this.Wa=_a("forwardChannelMaxRetries",2,a),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new iy(a&&a.concurrentRequestLimit),this.Da=new fA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iy.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,y){Ot(0),this.W=a,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=Ny(this,null,this.W),_u(this)};function fd(a){if(Sy(a),a.G==3){var h=a.U++,f=fr(a.I);if(be(f,"SID",a.K),be(f,"RID",h),be(f,"TYPE","terminate"),wa(a,f),h=new Ur(a,a.j,h),h.L=2,h.v=pu(fr(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=Dy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),hu(h)}by(a)}function vu(a){a.g&&(md(a),a.g.cancel(),a.g=null)}function Sy(a){vu(a),a.u&&(l.clearTimeout(a.u),a.u=null),wu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function _u(a){if(!sy(a.h)&&!a.s){a.s=!0;var h=a.Ga;ze||oe(),Q||(ze(),Q=!0),ne.add(h,a),a.B=0}}function vA(a,h){return oy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ha(m(a.Ga,a,h),Py(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Ur(this,this.j,a);let M=this.o;if(this.S&&(M?(M=v(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Cy(this,O,h),f=fr(this.I),be(f,"RID",a),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),wa(this,f),M&&(this.O?h="headers="+encodeURIComponent(String(yy(M)))+"&"+h:this.m&&dd(f,this.m,M)),hd(this.h,O),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",h),be(f,"SID","null"),O.T=!0,ad(O,f,null)):ad(O,f,h),this.G=2}}else this.G==3&&(a?Ay(this,a):this.i.length==0||sy(this.h)||Ay(this))};function Ay(a,h){var f;h?f=h.l:f=a.U++;const y=fr(a.I);be(y,"SID",a.K),be(y,"RID",f),be(y,"AID",a.T),wa(a,y),a.m&&a.o&&dd(y,a.m,a.o),f=new Ur(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Cy(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hd(a.h,f),ad(f,y,h)}function wa(a,h){a.H&&z(a.H,function(f,y){be(h,y,f)}),a.l&&uy({},function(f,y){be(h,y,f)})}function Cy(a,h,f){f=Math.min(a.i.length,f);var y=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let M=-1;for(;;){const H=["count="+f];M==-1?0<f?(M=O[0].g,H.push("ofs="+M)):M=0:H.push("ofs="+M);let ke=!0;for(let pt=0;pt<f;pt++){let Te=O[pt].g;const It=O[pt].map;if(Te-=M,0>Te)M=Math.max(0,O[pt].g-100),ke=!1;else try{pA(It,H,"req"+Te+"_")}catch{y&&y(It)}}if(ke){y=H.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,y}function xy(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ze||oe(),Q||(ze(),Q=!0),ne.add(h,a),a.v=0}}function pd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ha(m(a.Fa,a),Py(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ky(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ha(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),vu(this),ky(this))};function md(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ky(a){a.g=new Ur(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=fr(a.qa);be(h,"RID","rpc"),be(h,"SID",a.K),be(h,"AID",a.T),be(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(h,"TO",a.ja),be(h,"TYPE","xmlhttp"),wa(a,h),a.m&&a.o&&dd(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=pu(fr(h)),f.m=null,f.P=!0,ty(f,a)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),pd(this),Ot(19))};function wu(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ry(a,h){var f=null;if(a.g==h){wu(a),md(a),a.g=null;var y=2}else if(cd(a.h,h))f=h.D,ay(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;y=lu(),ve(y,new Xg(y,f)),_u(a)}else xy(a);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&vA(a,h)||y==2&&pd(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),O){case 1:$i(a,5);break;case 4:$i(a,10);break;case 3:$i(a,6);break;default:$i(a,2)}}}function Py(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function $i(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),y=a.Xa;const O=!y;y=new zi(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||du(y,"https"),pu(y),O?hA(y.toString(),f):dA(y.toString(),f)}else Ot(2);a.G=0,a.l&&a.l.sa(h),by(a),Sy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function by(a){if(a.G=0,a.ka=[],a.l){const h=ly(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Ny(a,h,f){var y=f instanceof zi?fr(f):new zi(f);if(y.g!="")h&&(y.g=h+"."+y.g),fu(y,y.s);else{var O=l.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var M=new zi(null);y&&du(M,y),h&&(M.g=h),O&&fu(M,O),f&&(M.l=f),y=M}return f=a.D,h=a.ya,f&&h&&be(y,f,h),be(y,"VER",a.la),wa(a,y),y}function Dy(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new $e(new mu({eb:f})):new $e(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oy(){}t=Oy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eu(){}Eu.prototype.g=function(a,h){return new Zt(a,h)};function Zt(a,h){me.call(this),this.g=new Iy(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!_(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new zs(this)}x(Zt,me),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){fd(this.g)},Zt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=js(a),a=f);h.i.push(new tA(h.Ya++,a)),h.G==3&&_u(h)},Zt.prototype.N=function(){this.g.l=null,delete this.j,fd(this.g),delete this.g,Zt.aa.N.call(this)};function Vy(a){rd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}x(Vy,rd);function Ly(){id.call(this),this.status=1}x(Ly,id);function zs(a){this.g=a}x(zs,Oy),zs.prototype.ua=function(){ve(this.g,"a")},zs.prototype.ta=function(a){ve(this.g,new Vy(a))},zs.prototype.sa=function(a){ve(this.g,new Ly)},zs.prototype.ra=function(){ve(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,p1=function(){return new Eu},f1=function(){return lu()},d1=Ui,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uu.NO_ERROR=0,uu.TIMEOUT=8,uu.HTTP_ERROR=6,lc=uu,Jg.COMPLETE="complete",h1=Jg,Kg.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",me.prototype.listen=me.prototype.K,ja=Kg,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,c1=$e}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Dh("@firebase/firestore");function Ra(){return vs.logLevel}function Z(t,...e){if(vs.logLevel<=ye.DEBUG){const n=e.map(Qm);vs.debug(`Firestore (${ta}): ${t}`,...n)}}function Or(t,...e){if(vs.logLevel<=ye.ERROR){const n=e.map(Qm);vs.error(`Firestore (${ta}): ${t}`,...n)}}function Bo(t,...e){if(vs.logLevel<=ye.WARN){const n=e.map(Qm);vs.warn(`Firestore (${ta}): ${t}`,...n)}}function Qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function xe(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ab{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class lb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ub{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ai)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new m1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Rt(e)}}class cb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new db(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function zo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new at(0,0))}static max(){return new le(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Al{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Al{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return mb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(He.fromString(e))}static fromName(e){return new ie(He.fromString(e).popFirst(5))}static empty(){return new ie(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new He(e.slice()))}}function gb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ki(i,ie.empty(),e)}function yb(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(le.min(),ie.empty(),-1)}static max(){return new ki(le.max(),ie.empty(),-1)}}function vb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==_b)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Eb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gm.oe=-1;function Oh(t){return t==null}function Kc(t){return t===0&&1/t==-1/0}function Tb(t){return typeof t=="number"&&Number.isInteger(t)&&!Kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new wt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v1("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Ib=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(xe(!!t),typeof t=="string"){let e=0;const n=Ib.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xm(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Xm(e):e}function Cl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:Cb(t)?9007199254740991:Ab(t)?10:11:ae()}function lr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),l=Ri(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _s(i.bytesValue).isEqual(_s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),l=Ge(s.doubleValue);return o===l?Kc(o)===Kc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return zo(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(I_(o)!==I_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!lr(o[u],l[u])))return!1;return!0}(t,e);default:return ae()}}function kl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ge(s.integerValue||s.doubleValue),u=Ge(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(Cl(t),Cl(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const l=_s(s),u=_s(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=Ie(l[c],u[c]);if(d!==0)return d}return Ie(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ie(Ge(s.latitude),Ge(o.latitude));return l!==0?l:Ie(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,d;const p=s.fields||{},m=o.fields||{},w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Ie(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return P!==0?P:C_(w,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wu.mapValue&&o===Wu.mapValue)return 0;if(s===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Ie(u[p],d[p]);if(m!==0)return m;const w=$o(l[u[p]],c[d[p]]);if(w!==0)return w}return Ie(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Ri(t),r=Ri(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function C_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$o(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}function qo(t){return Sp(t)}function Sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sp(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Ap(t){return!!t&&"integerValue"in t}function Jm(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uc(t){return!!t&&"mapValue"in t}function Ab(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Cb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Xa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(Xa(this.value))}}function _1(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new vt([n]);if(uc(r)){const s=_1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new bt(e,0,le.min(),le.min(),le.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,le.min(),le.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,le.min(),le.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=$o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function xb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{}class st extends w1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Rb(e,n,r):n==="array-contains"?new Nb(e,r):n==="in"?new Db(e,r):n==="not-in"?new Ob(e,r):n==="array-contains-any"?new Vb(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pb(e,r):new bb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends w1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ur(e,n)}matches(e){return E1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function E1(t){return t.op==="and"}function T1(t){return kb(t)&&E1(t)}function kb(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function Cp(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+qo(t.value);if(T1(t))return t.filters.map(e=>Cp(e)).join(",");{const e=t.filters.map(n=>Cp(n)).join(",");return`${t.op}(${e})`}}function I1(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof ur?function(r,i){return i instanceof ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&I1(o,i.filters[l]),!0):!1}(t,e):void ae()}function S1(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(S1).join(" ,")+"}"}(t):"Filter"}class Rb extends st{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pb extends st{constructor(e,n){super(e,"in",n),this.keys=A1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bb extends st{constructor(e,n){super(e,"not-in",n),this.keys=A1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function A1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class Nb extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&kl(n.arrayValue,this.value)}}class Db extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class Ob extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kl(this.value.arrayValue,n)}}class Vb extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function b_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lb(t,e,n,r,i,s,o)}function Zm(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qo(r)).join(",")),e.ue=n}return e.ue}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function xp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Mb(t,e,n,r,i,s,o,l){return new Vh(t,e,n,r,i,s,o,l)}function tg(t){return new Vh(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fb(t){return t.collectionGroup!==null}function Ja(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new wt(vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gc(s,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Gc(vt.keyField(),r))}return e.ce}function nr(t){const e=ue(t);return e.le||(e.le=jb(e,Ja(t))),e.le}function jb(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gc(i.field,s)});const n=t.endAt?new Qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qc(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kp(t,e,n){return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return eg(nr(t),nr(e))&&t.limitType===e.limitType}function C1(t){return`${Zm(nr(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S1(i)).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qo(i)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function Mh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=R_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,l,u){const c=R_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ja(r),i))}(t,e)}function Ub(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x1(t){return(e,n)=>{let r=!1;for(const i of Ja(t)){const s=Bb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bb(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?$o(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Be(ie.comparator);function Vr(){return zb}const k1=new Be(ie.comparator);function Ua(...t){let e=k1;for(const n of t)e=e.insert(n.key,n);return e}function R1(t){let e=k1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Za()}function P1(){return Za()}function Za(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const $b=new Be(ie.comparator),qb=new wt(ie.comparator);function pe(...t){let e=qb;for(const n of t)e=e.add(n);return e}const Wb=new wt(Ie);function Hb(){return Wb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function b1(t){return{integerValue:""+t}}function Kb(t,e){return Tb(e)?b1(e):ng(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function Qb(t,e,n){return t instanceof Yc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ym(s)&&(s=Xm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wo?D1(t,e):t instanceof Rl?O1(t,e):function(i,s){const o=N1(i,s),l=D_(o)+D_(i.Pe);return Ap(o)&&Ap(i.Pe)?b1(l):ng(i.serializer,l)}(t,e)}function Gb(t,e,n){return t instanceof Wo?D1(t,e):t instanceof Rl?O1(t,e):n}function N1(t,e){return t instanceof Xc?function(r){return Ap(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Yc extends Fh{}class Wo extends Fh{constructor(e){super(),this.elements=e}}function D1(t,e){const n=V1(e);for(const r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rl extends Fh{constructor(e){super(),this.elements=e}}function O1(t,e){let n=V1(e);for(const r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}class Xc extends Fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D_(t){return Ge(t.integerValue||t.doubleValue)}function V1(t){return Jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.field=e,this.transform=n}}function Xb(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wo&&i instanceof Wo||r instanceof Rl&&i instanceof Rl?zo(r.elements,i.elements,lr):r instanceof Xc&&i instanceof Xc?lr(r.Pe,i.Pe):r instanceof Yc&&i instanceof Yc}(t.transform,e.transform)}class Jb{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jh{}function L1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F1(t.key,rr.none()):new Kl(t.key,t.data,rr.none());{const n=t.data,r=Ht.empty();let i=new wt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new rn(i.toArray()),rr.none())}}function Zb(t,e,n){t instanceof Kl?function(i,s,o){const l=i.value.clone(),u=V_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!cc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=V_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(M1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,r){return t instanceof Kl?function(s,o,l,u){if(!cc(s.precondition,o))return l;const c=s.value.clone(),d=L_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,l,u){if(!cc(s.precondition,o))return l;const c=L_(s.fieldTransforms,u,o),d=o.data;return d.setAll(M1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return cc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function eN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=N1(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function O_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zo(r,i,(s,o)=>Xb(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kl extends jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V_(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Gb(o,l,n[i]))}return r}function L_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qb(s,o,e))}return r}class F1 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Zb(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=L1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,r)=>O_(n,r))&&zo(this.baseMutations,e.baseMutations,(n,r)=>O_(n,r))}}class rg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return $b}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,_e;function sN(t){switch(t){default:return ae();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function j1(t){if(t===void 0)return Or("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ze.OK:return $.OK;case Ze.CANCELLED:return $.CANCELLED;case Ze.UNKNOWN:return $.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return $.INTERNAL;case Ze.UNAVAILABLE:return $.UNAVAILABLE;case Ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ze.NOT_FOUND:return $.NOT_FOUND;case Ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ze.ABORTED:return $.ABORTED;case Ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ze.DATA_LOSS:return $.DATA_LOSS;default:return ae()}}(_e=Ze||(Ze={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new cs([4294967295,4294967295],0);function M_(t){const e=oN().encode(t),n=new u1;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cs([n,r],0),new cs([i,s],0)]}class ig{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(r<0)throw new Ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cs.fromNumber(r)));return i.compare(aN)===1&&(i=new cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=M_(e),[r,i]=F_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ig(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=M_(e),[r,i]=F_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uh(le.min(),i,new Be(Ie),Vr(),pe())}}class Ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ql(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class U1{constructor(e,n){this.targetId=e,this.me=n}}class B1{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j_{constructor(){this.fe=0,this.ge=B_(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=B_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=U_(),this.Qe=new Be(Ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(xp(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,bt.newNoDocument(o,le.min()))}else xe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=_s(r).toUint8Array()}catch(u){if(u instanceof v1)return Bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ig(o,i,s)}catch(u){return Bo(u instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&xp(l.target)){const u=new ie(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,bt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Uh(e,n,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=U_(),this.Qe=new Be(Ie),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U_(){return new Be(ie.comparator)}function B_(){return new Be(ie.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class dN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(t,e){return t.useProto3Json||Oh(e)?e:{value:e}}function Jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fN(t,e){return Jc(t,e.toTimestamp())}function ir(t){return xe(!!t),le.fromTimestamp(function(n){const r=Ri(n);return new at(r.seconds,r.nanos)}(t))}function sg(t,e){return Pp(t,e).canonicalString()}function Pp(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $1(t){const e=He.fromString(t);return xe(Q1(e)),e}function bp(t,e){return sg(t.databaseId,e.path)}function Xd(t,e){const n=$1(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(W1(n))}function q1(t,e){return sg(t.databaseId,e)}function pN(t){const e=$1(t);return e.length===4?He.emptyPath():W1(e)}function Np(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W1(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z_(t,e,n){return{name:bp(t,e),fields:n.value.mapValue.fields}}function mN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?$.UNKNOWN:j1(c.code);return new te(d,c.message||"")}(o);n=new B1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xd(t,r.document.name),s=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):le.min(),l=new Ht({mapValue:{fields:r.document.fields}}),u=bt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xd(t,r.document),s=r.readTime?ir(r.readTime):le.min(),o=bt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new hc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xd(t,r.document),s=r.removedTargetIds||[];n=new hc([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new iN(i,s),l=r.targetId;n=new U1(l,o)}}return n}function gN(t,e){let n;if(e instanceof Kl)n={update:z_(t,e.key,e.value)};else if(e instanceof F1)n={delete:bp(t,e.key)};else if(e instanceof Vi)n={update:z_(t,e.key,e.data),updateMask:AN(e.fieldMask)};else{if(!(e instanceof tN))return ae();n={verify:bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function yN(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ir(i.updateTime):ir(s);return o.isEqual(le.min())&&(o=ir(s)),new Jb(o,i.transformResults||[])}(n,e))):[]}function vN(t,e){return{documents:[q1(t,e.path)]}}function _N(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q1(t,i);const s=function(c){if(c.length!==0)return K1(ur.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Ks(m.field),direction:TN(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Rp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function wN(t){let e=pN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=H1(p);return m instanceof ur&&T1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(x){return new Gc(Qs(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Oh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,w=p.values||[];return new Qc(w,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,w=p.values||[];return new Qc(w,m)}(n.endAt)),Mb(e,i,o,s,l,"F",u,c)}function EN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qs(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qs(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qs(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qs(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return st.create(Qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>H1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function TN(t){return uN[t]}function IN(t){return cN[t]}function SN(t){return hN[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Qs(t){return vt.fromServerFormat(t.fieldPath)}function K1(t){return t instanceof st?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:IN(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(i=>K1(i));return r.length===1?r[0]:{compositeFilter:{op:SN(n.op),filters:r}}}(t):ae()}function AN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=le.min(),o=le.min(),l=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.ct=e}}function xN(t){const e=wN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.un=new RN}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ki.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class RN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ho(0)}static kn(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&el(r.mutation,i,rn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ua();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Vr();const o=Za(),l=function(){return Za()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Vi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),el(d.mutation,c,d.mutation.getFieldMask(),at.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new bN(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Za();let i=new Be((o,l)=>o-l),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||rn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||pe()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=P1();d.forEach(m=>{if(!s.has(m)){const w=L1(n.get(m),r.get(m));w!==null&&p.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Xi());let l=-1,u=s;return o.next(c=>B.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:l,changes:R1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ua();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,u=>{const c=function(p,m){return new Vh(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bt.newInvalidDocument(d)))});let l=Ua();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&el(d.mutation,c,rn.empty(),at.now()),Mh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ir(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:xN(i.bundledQuery),readTime:ir(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new Be(ie.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),s=n.length+1,o=new ie(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Xi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Xi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rN(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Tr=new wt(lt.Er),this.dr=new wt(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new He([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new He([])),r=new lt(n,e),i=new lt(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wt(lt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nN(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new lt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ie);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new lt(new ie(s),0);let l=new wt(Ie);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Mr=e,this.docs=function(){return new Be(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vr();const o=n.path,l=new ie(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vb(yb(d),r)<=0||(i.has(d.key)||Mh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FN(this)}getSize(e){return B.resolve(this.size)}}class FN extends PN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.persistence=e,this.Nr=new na(n=>Zm(n),eg),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new og,this.targetCount=0,this.kr=Ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gm(0),this.Kr=!1,this.Kr=!0,this.$r=new VN,this.referenceDelegate=e(this),this.Ur=new jN(this),this.indexManager=new kN,this.remoteDocumentCache=function(i){return new MN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CN(n),this.Gr=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new LN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new BN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class BN extends wb{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Jr=new og,this.Yr=null}static Zr(e){return new ag(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zR()?8:Eb(Dt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zN;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ra()<=ye.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Ra()<=ye.DEBUG&&Z("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ra()<=ye.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):B.resolve())}Yi(e,n){if(N_(n))return B.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kp(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,kp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return N_(n)||i.isEqual(le.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(Ra()<=ye.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.rs(e,o,n,gb(i,-1)).next(l=>l))})}ts(e,n){let r=new wt(x1(e));return n.forEach((i,s)=>{Mh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ra()<=ye.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.Ji.getDocumentsMatchingQuery(e,n,ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Be(Ie),this._s=new na(s=>Zm(s),eg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function WN(t,e,n,r){return new qN(t,e,n,r)}async function G1(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=pe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function HN(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let w=B.resolve();return m.forEach(x=>{w=w.next(()=>d.getEntry(u,x)).next(P=>{const N=c.docVersions.get(x);xe(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),d.addEntry(P)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=pe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y1(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KN(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Tt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(p,w),function(P,N,T){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,w,d)&&l.push(n.Ur.updateTargetData(s,w))});let u=Vr(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(QN(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(le.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function QN(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function GN(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YN(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Dp(t,e,n){const r=ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $_(t,e,n){const r=ue(t);let i=le.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=ue(u),m=p._s.get(d);return m!==void 0?B.resolve(p.os.get(m)):p.Ur.getTargetData(c,d)}(r,o,nr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:pe())).next(l=>(XN(r,Ub(e),l),{documents:l,Ts:s})))}function XN(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class q_{constructor(){this.activeTargetIds=Hb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.so=new q_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new q_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Jd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class n2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Jd(),u=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Bo("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=e2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Jd();return new Promise((o,l)=>{const u=new c1;u.setWithCredentials(!0),u.listenOnce(h1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lc.NO_ERROR:const d=u.getResponseJson();Z(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lc.TIMEOUT:Z(xt,`RPC '${e}' ${s} timed out`),l(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const p=u.getStatus();if(Z(xt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const x=function(N){const T=N.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(w.status);l(new te(x,w.message))}else l(new te($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te($.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Z(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Jd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p1(),l=f1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Z(xt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let m=!1,w=!1;const x=new t2({Io:N=>{w?Z(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(Z(xt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Z(xt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),P=(N,T,_)=>{N.listen(T,C=>{try{_(C)}catch(V){setTimeout(()=>{throw V},0)}})};return P(p,ja.EventType.OPEN,()=>{w||(Z(xt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),P(p,ja.EventType.CLOSE,()=>{w||(w=!0,Z(xt,`RPC '${e}' stream ${i} transport closed`),x.So())}),P(p,ja.EventType.ERROR,N=>{w||(w=!0,Bo(xt,`RPC '${e}' stream ${i} transport errored:`,N),x.So(new te($.UNAVAILABLE,"The operation could not be completed")))}),P(p,ja.EventType.MESSAGE,N=>{var T;if(!w){const _=N.data[0];xe(!!_);const C=_,V=C.error||((T=C[0])===null||T===void 0?void 0:T.error);if(V){Z(xt,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let z=function(E){const A=Ze[E];if(A!==void 0)return j1(A)}(U),S=V.message;z===void 0&&(z=$.INTERNAL,S="Unknown error status: "+U+" with message "+V.message),w=!0,x.So(new te(z,S)),p.close()}else Z(xt,`RPC '${e}' stream ${i} received:`,_),x.bo(_)}}),P(l,d1.STAT_EVENT,N=>{N.stat===Ip.PROXY?Z(xt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Ip.NOPROXY&&Z(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){return new dN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new X1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r2 extends J1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mN(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?ir(o.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Np(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=xp(u)?{documents:vN(s,u)}:{query:_N(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=z1(s,o.resumeToken);const c=Rp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){l.readTime=Jc(s,o.snapshotVersion.toTimestamp());const c=Rp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=EN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.a_(n)}}class i2 extends J1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=yN(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Np(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Pp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Pp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class o2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{bs(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.L_.add(4),await Gl(c),c.q_.set("Unknown"),c.L_.delete(4),await zh(c)}(this))})}),this.q_=new o2(r,i)}}async function zh(t){if(bs(t))for(const e of t.B_)await e(!0)}async function Gl(t){for(const e of t.B_)await e(!1)}function Z1(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dg(n)?hg(n):ra(n).r_()&&cg(n,e))}function ug(t,e){const n=ue(t),r=ra(n);n.N_.delete(e),r.r_()&&eI(n,e),n.N_.size===0&&(r.r_()?r.o_():bs(n)&&n.q_.set("Unknown"))}function cg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).A_(e)}function eI(t,e){t.Q_.xe(e),ra(t).R_(e)}function hg(t){t.Q_=new lN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.q_.v_()}function dg(t){return bs(t)&&!ra(t).n_()&&t.N_.size>0}function bs(t){return ue(t).L_.size===0}function tI(t){t.Q_=void 0}async function l2(t){t.q_.set("Online")}async function u2(t){t.N_.forEach((e,n)=>{cg(t,e)})}async function c2(t,e){tI(t),dg(t)?(t.q_.M_(e),hg(t)):t.q_.set("Unknown")}async function h2(t,e,n){if(t.q_.set("Online"),e instanceof B1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(t,r)}else if(e instanceof hc?t.Q_.Ke(e):e instanceof U1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{const r=await Y1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),eI(s,u);const p=new fi(d.target,u,c,d.sequenceNumber);cg(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Zc(t,r)}}async function Zc(t,e,n){if(!Hl(e))throw e;t.L_.add(1),await Gl(t),t.q_.set("Offline"),n||(n=()=>Y1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zh(t)})}function nI(t,e){return e().catch(n=>Zc(t,n,e))}async function $h(t){const e=ue(t),n=Pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d2(e);)try{const i=await GN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,f2(e,i)}catch(i){await Zc(e,i)}rI(e)&&iI(e)}function d2(t){return bs(t)&&t.O_.length<10}function f2(t,e){t.O_.push(e);const n=Pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rI(t){return bs(t)&&!Pi(t).n_()&&t.O_.length>0}function iI(t){Pi(t).start()}async function p2(t){Pi(t).p_()}async function m2(t){const e=Pi(t);for(const n of t.O_)e.m_(n.mutations)}async function g2(t,e,n){const r=t.O_.shift(),i=rg.from(r,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $h(t)}async function y2(t,e){e&&Pi(t).V_&&await async function(r,i){if(function(o){return sN(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Pi(r).s_(),await nI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $h(r)}}(t,e),rI(t)&&iI(t)}async function H_(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=bs(n);n.L_.add(3),await Gl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zh(n)}async function v2(t,e){const n=ue(t);e?(n.L_.delete(2),await zh(n)):e||(n.L_.add(2),await Gl(n),n.q_.set("Unknown"))}function ra(t){return t.K_||(t.K_=function(n,r,i){const s=ue(n);return s.w_(),new r2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:l2.bind(null,t),Ro:u2.bind(null,t),mo:c2.bind(null,t),d_:h2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dg(t)?hg(t):t.q_.set("Unknown")):(await t.K_.stop(),tI(t))})),t.K_}function Pi(t){return t.U_||(t.U_=function(n,r,i){const s=ue(n);return s.w_(),new i2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:p2.bind(null,t),mo:y2.bind(null,t),f_:m2.bind(null,t),g_:g2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $h(t)):(await t.U_.stop(),t.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new fg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Hl(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Ua(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.W_=new Be(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ko(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class w2{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=Q_(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new te($.ABORTED,"Firestore shutting down"))}}function Q_(){return new na(t=>C1(t),Lh)}async function E2(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _2,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=pg(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&mg(n)}async function T2(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I2(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&mg(n)}function S2(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function mg(t){t.Y_.forEach(e=>{e.next()})}var Op,G_;(G_=Op||(Op={})).ea="default",G_.Cache="cache";class A2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class C2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=x1(e),this.Ra=new go(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new K_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),w=Mh(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;m&&w?m.data.isEqual(w.data)?x!==P&&(r.track({type:3,doc:w}),N=!0):this.ga(m,w)||(r.track({type:2,doc:w}),N=!0,(u&&this.Aa(w,u)>0||c&&this.Aa(w,c)<0)&&(l=!0)):!m&&w?(r.track({type:0,doc:w}),N=!0):m&&!w&&(r.track({type:1,doc:m}),N=!0,(u||c)&&(l=!0)),N&&(w?(o=o.add(w),s=P?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(w,x){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return P(w)-P(x)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ko(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sI(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class x2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k2{constructor(e){this.key=e,this.va=!1}}class R2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new na(l=>C1(l),Lh),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(ie.comparator),this.Na=new Map,this.La=new og,this.Ba={},this.ka=new Map,this.qa=Ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function P2(t,e,n=!0){const r=dI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await aI(r,e,n,!0),i}async function b2(t,e){const n=dI(t);await aI(n,e,!0,!1)}async function aI(t,e,n,r){const i=await YN(t.localStore,nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await N2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Z1(t.remoteStore,i),l}async function N2(t,e,n,r,i){t.Ka=(p,m,w)=>async function(P,N,T,_){let C=N.view.ma(T);C.ns&&(C=await $_(P.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,C)));const V=_&&_.targetChanges.get(N.targetId),U=_&&_.targetMismatches.get(N.targetId)!=null,z=N.view.applyChanges(C,P.isPrimaryClient,V,U);return X_(P,N.targetId,z.wa),z.snapshot}(t,p,m,w);const s=await $_(t.localStore,e,!0),o=new C2(e,s.Ts),l=o.ma(s.documents),u=Ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);X_(t,n,c.wa);const d=new x2(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function D2(t,e,n){const r=ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Lh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ug(r.remoteStore,i.targetId),Vp(r,i.targetId)}).catch(Wl)):(Vp(r,i.targetId),await Dp(r.localStore,i.targetId,!0))}async function O2(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ug(n.remoteStore,r.targetId))}async function V2(t,e,n){const r=z2(t);try{const i=await function(o,l){const u=ue(o),c=at.now(),d=l.reduce((w,x)=>w.add(x.key),pe());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Vr(),P=pe();return u.cs.getEntries(w,d).next(N=>{x=N,x.forEach((T,_)=>{_.isValidDocument()||(P=P.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,x)).next(N=>{p=N;const T=[];for(const _ of l){const C=eN(_,p.get(_.key).overlayedDocument);C!=null&&T.push(new Vi(_.key,C,_1(C.value.mapValue),rr.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,T,l)}).next(N=>{m=N;const T=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(w,N.batchId,T)})}).then(()=>({batchId:m.batchId,changes:R1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Be(Ie)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Yl(r,i.changes),await $h(r.remoteStore)}catch(i){const s=pg(i,"Failed to persist write");n.reject(s)}}async function lI(t,e){const n=ue(t);try{const r=await KN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xe(o.va):i.removedDocuments.size>0&&(xe(o.va),o.va=!1))}),await Yl(n,r,e)}catch(r){await Wl(r)}}function Y_(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ue(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&mg(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L2(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Be(ie.comparator);o=o.insert(s,bt.newNoDocument(s,le.min()));const l=pe().add(s),u=new Uh(le.min(),new Map,new Be(Ie),o,l);await lI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gg(r)}else await Dp(r.localStore,e,!1).then(()=>Vp(r,e,n)).catch(Wl)}async function M2(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await HN(n.localStore,e);cI(n,r,null),uI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,i)}catch(i){await Wl(i)}}async function F2(t,e,n){const r=ue(t);try{const i=await function(o,l){const u=ue(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(xe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);cI(r,e,n),uI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yl(r,i)}catch(i){await Wl(i)}}function uI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cI(t,e,n){const r=ue(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hI(t,r)})}function hI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ug(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gg(t))}function X_(t,e,n){for(const r of n)r instanceof sI?(t.La.addReference(r.key,e),j2(t,r)):r instanceof oI?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hI(t,r.key)):ae()}function j2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),gg(t))}function gg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(He.fromString(e)),r=t.qa.next();t.Na.set(r,new k2(n)),t.Oa=t.Oa.insert(n,r),Z1(t.remoteStore,new fi(nr(tg(n.path)),r,"TargetPurposeLimboResolution",Gm.oe))}}async function Yl(t,e,n){const r=ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=lg.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,m=>B.forEach(m.$i,w=>d.persistence.referenceDelegate.addReference(p,m.targetId,w)).next(()=>B.forEach(m.Ui,w=>d.persistence.referenceDelegate.removeReference(p,m.targetId,w)))))}catch(p){if(!Hl(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const w=d.os.get(m),x=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(m,P)}}}(r.localStore,s))}async function U2(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await G1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new te($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.hs)}}function B2(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function dI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L2.bind(null,e),e.Ca.d_=I2.bind(null,e.eventManager),e.Ca.$a=S2.bind(null,e.eventManager),e}function z2(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F2.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return WN(this.persistence,new $N,e.initialUser,this.serializer)}Ga(e){return new UN(ag.Zr,this.serializer)}Wa(e){return new JN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w2}()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=function(s){return new n2(s)}(e.databaseInfo);return function(s,o,l,u){return new s2(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new a2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Y_(this.syncEngine,n,0),function(){return W_.D()?new W_:new ZN}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new R2(i,s,o,l,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);Z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Gl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ef(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await G1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W2(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>H_(e.remoteStore,i)),t._onlineComponents=e}async function W2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await ef(t,new eh)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await ef(t,new eh);return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await J_(t,new Lp))),t._onlineComponents}function H2(t){return fI(t).then(e=>e.syncEngine)}async function K2(t){const e=await fI(t),n=e.eventManager;return n.onListen=P2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),n}function Q2(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new $2({next:m=>{d.Za(),o.enqueueAndForget(()=>T2(s,p));const w=m.docs.has(l);!w&&m.fromCache?c.reject(new te($.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&u&&u.source==="server"?c.reject(new te($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new A2(tg(l.path),d,{includeMetadataChanges:!0,_a:!0});return E2(s,p)}(await K2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y2(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e0(t){if(!ie.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yg(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ab;switch(r.type){case"firstParty":return new hb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function X2(t,e,n,r={}){var i;const s=(t=Es(t,vg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Rt.MOCK_USER;else{l=LR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}t._authCredentials=new lb(new m1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _g(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Pl extends _g{constructor(e,n,r){super(e,n,tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ie(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function cr(t,e,...n){if(t=dt(t),arguments.length===1&&(e=g1.newId()),G2("doc","path",e),t instanceof vg){const r=He.fromString(e,...n);return e0(r),new on(t,null,new ie(r))}{if(!(t instanceof on||t instanceof Pl))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return e0(r),new on(t.firestore,t instanceof Pl?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new X1(this,"async_queue_retry"),this.Vu=()=>{const r=Zd();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class qh extends vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n0(e),this._firestoreClient=void 0,await e}}}function J2(t,e){const n=typeof t=="object"?t:Km(),r=typeof t=="string"?t:"(default)",i=Rs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OR("firestore");s&&X2(i,...s)}return i}function mI(t){if(t._terminated)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z2(t),t._firestoreClient}function Z2(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new Sb(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new q2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(Tt.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^__.*__$/;class tD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(e,this.data,n,this.fieldTransforms)}}class gI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Kh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yI(this.Cu)&&eD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}Qu(e,n,r,i=!1){return new Kh({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vI(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new nD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rD(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ig("Data must be an object, but it was:",o,r);const l=_I(r,o);let u,c;if(s.merge)u=new rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=Mp(e,p,n);if(!o.contains(m))throw new te($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);EI(d,m)||d.push(m)}u=new rn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new tD(new Ht(l),u,c)}class Qh extends Hh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function iD(t,e,n){return new Kh({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends Hh{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=iD(this,e,!0),r=this.Ku.map(s=>Xl(s,n)),i=new Wo(r);return new Yb(e.path,i)}isEqual(e){return e instanceof Tg&&Uo(this.Ku,e.Ku)}}function sD(t,e,n,r){const i=t.Qu(1,e,n);Ig("Data must be an object, but it was:",i,r);const s=[],o=Ht.empty();Ps(r,(u,c)=>{const d=Sg(e,u,n);c=dt(c);const p=i.Nu(d);if(c instanceof Qh)s.push(d);else{const m=Xl(c,p);m!=null&&(s.push(d),o.set(d,m))}});const l=new rn(s);return new gI(o,l,i.fieldTransforms)}function oD(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Mp(e,r,n)],u=[i];if(s.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Mp(e,s[m])),u.push(s[m+1]);const c=[],d=Ht.empty();for(let m=l.length-1;m>=0;--m)if(!EI(c,l[m])){const w=l[m];let x=u[m];x=dt(x);const P=o.Nu(w);if(x instanceof Qh)c.push(w);else{const N=Xl(x,P);N!=null&&(c.push(w),d.set(w,N))}}const p=new rn(c);return new gI(d,p,o.fieldTransforms)}function Xl(t,e){if(wI(t=dt(t)))return Ig("Unsupported field value:",e,t),_I(t,e);if(t instanceof Hh)return function(r,i){if(!yI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Xl(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:Jc(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(i.serializer,s)}}if(r instanceof wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qo)return{bytesValue:z1(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Eg)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return ng(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yg(r)}`)}(t,e)}function _I(t,e){const n={};return y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const s=Xl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof wg||t instanceof Qo||t instanceof on||t instanceof Hh||t instanceof Eg)}function Ig(t,e,n){if(!wI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Mp(t,e,n){if((e=dt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Sg(t,e);throw th("Field path arguments must be of type string or ",t,!1,void 0,n)}const aD=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(aD)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function th(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te($.INVALID_ARGUMENT,l+t+u)}function EI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(II("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends TI{data(){return super.data()}}function II(t,e){return typeof e=="string"?Sg(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}class uD{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ge(o.doubleValue));return new Eg(s)}convertGeoPoint(e){return new wg(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);xe(Q1(r));const i=new xl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SI extends TI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(II("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dD extends SI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){t=Es(t,on);const e=Es(t.firestore,qh);return Q2(mI(e),t._key).then(n=>mD(e,t,n))}class fD extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function pD(t,e,n){t=Es(t,on);const r=Es(t.firestore,qh),i=cD(t.converter,e);return AI(r,[rD(vI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function Ns(t,e,n,...r){t=Es(t,on);const i=Es(t.firestore,qh),s=vI(i);let o;return o=typeof(e=dt(e))=="string"||e instanceof Wh?oD(s,"updateDoc",t._key,e,n,r):sD(s,"updateDoc",t._key,e),AI(i,[o.toMutation(t._key,rr.exists(!0))])}function AI(t,e){return function(r,i){const s=new Ai;return r.asyncQueue.enqueueAndForget(async()=>V2(await H2(r),i,s)),s.promise}(mI(t),e)}function mD(t,e,n){const r=n.docs.get(e._key),i=new fD(t);return new SI(t,i,e._key,r,new hD(n.hasPendingWrites,n.fromCache),e.converter)}function gD(...t){return new Tg("arrayUnion",t)}(function(e,n=!0){(function(i){ta=i})(ea),ar(new jn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new qh(new ub(r.getProvider("auth-internal")),new fb(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),In(T_,"4.7.3",e),In(T_,"4.7.3","esm2017")})();var yD="firebase",vD="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(yD,vD,"app");const CI="@firebase/installations",Ag="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1e4,kI=`w:${Ag}`,RI="FIS_v2",_D="https://firebaseinstallations.googleapis.com/v1",wD=60*60*1e3,ED="installations",TD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ts=new ks(ED,TD,ID);function PI(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI({projectId:t}){return`${_D}/projects/${t}/installations`}function NI(t){return{token:t.token,requestStatus:2,expiresIn:AD(t.expiresIn),creationTime:Date.now()}}async function DI(t,e){const r=(await e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function OI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SD(t,{refreshToken:e}){const n=OI(t);return n.append("Authorization",CD(e)),n}async function VI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function AD(t){return Number(t.replace("s","000"))}function CD(t){return`${RI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bI(t),i=OI(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:RI,appId:t.appId,sdkVersion:kI},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await VI(()=>fetch(r,l));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:NI(c.authToken)}}else throw await DI("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^[cdef][\w-]{21}$/,Fp="";function PD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bD(t);return RD.test(n)?n:Fp}catch{return Fp}}function bD(t){return kD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;function FI(t,e){const n=Gh(t);jI(n,e),ND(n,e)}function jI(t,e){const n=MI.get(t);if(n)for(const r of n)r(e)}function ND(t,e){const n=DD();n&&n.postMessage({key:t,fid:e}),OD()}let Ji=null;function DD(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=t=>{jI(t.data.key,t.data.fid)}),Ji}function OD(){MI.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebase-installations-database",LD=1,Is="firebase-installations-store";let tf=null;function Cg(){return tf||(tf=s1(VD,LD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Is)}}})),tf}async function nh(t,e){const n=Gh(t),i=(await Cg()).transaction(Is,"readwrite"),s=i.objectStore(Is),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&FI(t,e.fid),e}async function UI(t){const e=Gh(t),r=(await Cg()).transaction(Is,"readwrite");await r.objectStore(Is).delete(e),await r.done}async function Yh(t,e){const n=Gh(t),i=(await Cg()).transaction(Is,"readwrite"),s=i.objectStore(Is),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&FI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(t){let e;const n=await Yh(t.appConfig,r=>{const i=MD(r),s=FD(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Fp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MD(t){const e=t||{fid:PD(),registrationStatus:0};return BI(e)}function FD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ts.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UD(t)}:{installationEntry:e}}async function jD(t,e){try{const n=await xD(t,e);return nh(t.appConfig,n)}catch(n){throw PI(n)&&n.customData.serverCode===409?await UI(t.appConfig):await nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UD(t){let e=await r0(t.appConfig);for(;e.registrationStatus===1;)await LI(100),e=await r0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xg(t);return r||n}return e}function r0(t){return Yh(t,e=>{if(!e)throw Ts.create("installation-not-found");return BI(e)})}function BI(t){return BD(t)?{fid:t.fid,registrationStatus:0}:t}function BD(t){return t.registrationStatus===1&&t.registrationTime+xI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD({appConfig:t,heartbeatServiceProvider:e},n){const r=$D(t,n),i=SD(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:kI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await VI(()=>fetch(r,l));if(u.ok){const c=await u.json();return NI(c)}else throw await DI("Generate Auth Token",u)}function $D(t,{fid:e}){return`${bI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t,e=!1){let n;const r=await Yh(t.appConfig,s=>{if(!zI(s))throw Ts.create("not-registered");const o=s.authToken;if(!e&&HD(o))return s;if(o.requestStatus===1)return n=qD(t,e),s;{if(!navigator.onLine)throw Ts.create("app-offline");const l=QD(s);return n=WD(t,l),l}});return n?await n:r.authToken}async function qD(t,e){let n=await i0(t.appConfig);for(;n.authToken.requestStatus===1;)await LI(100),n=await i0(t.appConfig);const r=n.authToken;return r.requestStatus===0?kg(t,e):r}function i0(t){return Yh(t,e=>{if(!zI(e))throw Ts.create("not-registered");const n=e.authToken;return GD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WD(t,e){try{const n=await zD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await nh(t.appConfig,r),n}catch(n){if(PI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await UI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nh(t.appConfig,r)}throw n}}function zI(t){return t!==void 0&&t.registrationStatus===2}function HD(t){return t.requestStatus===2&&!KD(t)}function KD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wD}function QD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function GD(t){return t.requestStatus===1&&t.requestTime+xI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t){const e=t,{installationEntry:n,registrationPromise:r}=await xg(e);return r?r.catch(console.error):kg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e=!1){const n=t;return await JD(n),(await kg(n,e)).token}async function JD(t){const{registrationPromise:e}=await xg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){if(!t||!t.options)throw nf("App Configuration");if(!t.name)throw nf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nf(t){return Ts.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="installations",eO="installations-internal",tO=t=>{const e=t.getProvider("app").getImmediate(),n=ZD(e),r=Rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nO=t=>{const e=t.getProvider("app").getImmediate(),n=Rs(e,$I).getImmediate();return{getId:()=>YD(n),getToken:i=>XD(n,i)}};function rO(){ar(new jn($I,tO,"PUBLIC")),ar(new jn(eO,nO,"PRIVATE"))}rO();In(CI,Ag);In(CI,Ag,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="analytics",iO="firebase_id",sO="origin",oO=60*1e3,aO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},an=new ks("analytics","Analytics",lO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(!t.startsWith(Rg)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Xt.warn(e.message),""}return t}function qI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function cO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hO(t,e){const n=cO("firebase-js-sdk-policy",{createScriptURL:uO}),r=document.createElement("script"),i=`${Rg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function dO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fO(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await qI(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(l){Xt.error(l)}t("config",i,s)}async function pO(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await qI(n);for(const u of o){const c=l.find(p=>p.measurementId===u),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xt.error(s)}}function mO(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,u]=o;await pO(t,e,n,l,u)}else if(s==="config"){const[l,u]=o;await fO(t,e,n,r,l,u)}else if(s==="consent"){const[l,u]=o;t("consent",l,u)}else if(s==="get"){const[l,u,c]=o;t("get",l,u,c)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Xt.error(l)}}return i}function gO(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=mO(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function yO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=30,_O=1e3;class wO{constructor(e={},n=_O){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WI=new wO;function EO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function TO(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:EO(r)},s=aO.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function IO(t,e=WI,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw an.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw an.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new CO;return setTimeout(async()=>{l.abort()},oO),HI({appId:r,apiKey:i,measurementId:s},o,l,e)}async function HI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=WI){var s;const{appId:o,measurementId:l}=t;try{await SO(r,e)}catch(u){if(l)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await TO(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!AO(c)){if(i.deleteThrottleMetadata(o),l)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw u}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?d_(n,i.intervalMillis,vO):d_(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,p),Xt.debug(`Calling attemptFetch again in ${d} millis`),HI(t,p,r,i)}}function SO(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AO(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class CO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xO(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(){if(t1())try{await n1()}catch(t){return Xt.warn(an.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xt.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RO(t,e,n,r,i,s,o){var l;const u=IO(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Xt.error(w)),e.push(u);const c=kO().then(w=>{if(w)return r.getId()}),[d,p]=await Promise.all([u,c]);yO(s)||hO(s,d.measurementId),i("js",new Date);const m=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return m[sO]="firebase",m.update=!0,p!=null&&(m[iO]=p),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.app=e}_delete(){return delete tl[this.app.options.appId],Promise.resolve()}}let tl={},s0=[];const o0={};let rf="dataLayer",bO="gtag",a0,KI,l0=!1;function NO(){const t=[];if(e1()&&t.push("This is a browser extension environment."),$R()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}function DO(t,e,n){NO();const r=t.options.appId;if(!r)throw an.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw an.create("no-api-key");if(tl[r]!=null)throw an.create("already-exists",{id:r});if(!l0){dO(rf);const{wrappedGtag:s,gtagCore:o}=gO(tl,s0,o0,rf,bO);KI=s,a0=o,l0=!0}return tl[r]=RO(t,s0,o0,e,a0,rf,n),new PO(t)}function OO(t=Km()){t=dt(t);const e=Rs(t,rh);return e.isInitialized()?e.getImmediate():VO(t)}function VO(t,e={}){const n=Rs(t,rh);if(n.isInitialized()){const i=n.getImmediate();if(Uo(e,n.getOptions()))return i;throw an.create("already-initialized")}return n.initialize({options:e})}function LO(t,e,n,r){t=dt(t),xO(KI,tl[t.app.options.appId],e,n,r).catch(i=>Xt.error(i))}const u0="@firebase/analytics",c0="0.10.8";function MO(){ar(new jn(rh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return DO(r,i,n)},"PUBLIC")),ar(new jn("analytics-internal",t,"PRIVATE")),In(u0,c0),In(u0,c0,"esm2017");function t(e){try{const n=e.getProvider(rh).getImmediate();return{logEvent:(r,i,s)=>LO(n,r,i,s)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}}}MO();function Pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=QI,GI=new ks("auth","Firebase",QI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Dh("@firebase/auth");function jO(t,...e){ih.logLevel<=ye.WARN&&ih.warn(`Auth (${ea}): ${t}`,...e)}function dc(t,...e){ih.logLevel<=ye.ERROR&&ih.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw bg(t,...e)}function sr(t,...e){return bg(t,...e)}function YI(t,e,n){const r=Object.assign(Object.assign({},FO()),{[e]:n});return new ks("auth","Firebase",r).create(e,{appName:t.name})}function xr(t){return YI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GI.create(t,...e)}function se(t,e,...n){if(!t)throw bg(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function Lr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UO(){return h0()==="http:"||h0()==="https:"}function h0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UO()||e1()||"connection"in navigator)?navigator.onLine:!0}function zO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||UR()}get(){return BO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Jl(3e4,6e4);function Li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,n,r,i={}){return JI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ql(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return jR()||(c.referrerPolicy="no-referrer"),XI.fetch()(ZI(t,t.config.apiHost,n,l),c)})}async function JI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$O),e);try{const i=new HO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ku(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ku(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YI(t,d,c);Un(t,d)}}catch(i){if(i instanceof zn)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function Zl(t,e,n,r,i={}){const s=await Mi(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ZI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ng(t.config,i):`${t.config.apiScheme}://${i}`}function WO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),qO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function d0(t){return t!==void 0&&t.enterprise!==void 0}class KO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function QO(t,e){return Mi(t,"GET","/v2/recaptchaConfig",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function eS(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YO(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=Dg(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nl(sf(i.auth_time)),issuedAtTime:nl(sf(i.iat)),expirationTime:nl(sf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sf(t){return Number(t)*1e3}function Dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=YT(n);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function f0(t){const e=Dg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&XO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bl(t,eS(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tS(s.providerUserInfo):[],l=eV(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Up(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function ZO(t){const e=dt(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tS(t){return t.map(e=>{var{providerId:n}=e,r=Pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e){const n=await JI(t,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",XI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nV(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=f0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yo;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Up(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YO(this,e)}reload(){return ZO(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await bl(this,GO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:V,isAnonymous:U,providerData:z,stsTokenManager:S}=n;se(C&&S,e,"internal-error");const v=yo.fromJSON(this.name,S);se(typeof C=="string",e,"internal-error"),qr(p,e.name),qr(m,e.name),se(typeof V=="boolean",e,"internal-error"),se(typeof U=="boolean",e,"internal-error"),qr(w,e.name),qr(x,e.name),qr(P,e.name),qr(N,e.name),qr(T,e.name),qr(_,e.name);const E=new Ir({uid:C,auth:e,email:m,emailVerified:V,displayName:p,isAnonymous:U,photoURL:x,phoneNumber:w,tenantId:P,stsTokenManager:v,createdAt:T,lastLoginAt:_});return z&&Array.isArray(z)&&(E.providerData=z.map(A=>Object.assign({},A))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new yo;i.updateFromServerResponse(n);const s=new Ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new yo;l.updateFromIdToken(r);const u=new Ir({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Up(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function Sr(t){Lr(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nS.type="NONE";const m0=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fc(this.userKey,i.apiKey,s),this.fullPersistenceKey=fc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vo(Sr(m0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Sr(m0);const o=fc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const p=Ir._fromJSON(e,d);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new vo(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new vo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(uS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||sS(e))&&!e.includes("edge/"))return"Chrome";if(aS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rS(t=Dt()){return/firefox\//i.test(t)}function iS(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sS(t=Dt()){return/crios\//i.test(t)}function oS(t=Dt()){return/iemobile/i.test(t)}function aS(t=Dt()){return/android/i.test(t)}function lS(t=Dt()){return/blackberry/i.test(t)}function uS(t=Dt()){return/webos/i.test(t)}function Og(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=Dt()){var e;return Og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iV(){return BR()&&document.documentMode===10}function cS(t=Dt()){return Og(t)||aS(t)||uS(t)||lS(t)||/windows phone/i.test(t)||oS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e=[]){let n;switch(t){case"Browser":n=g0(Dt());break;case"Worker":n=`${g0(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",Li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=6;class lV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new sV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eS(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(xr(this));const n=e?dt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oV(this),n=new lV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ks("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return dt(t)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(t){Xh=t}function dS(t){return Xh.loadJS(t)}function hV(){return Xh.recaptchaEnterpriseScript}function dV(){return Xh.gapiScript}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pV="recaptcha-enterprise",mV="NO_RECAPTCHA";class gV{constructor(e){this.type=pV,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{QO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new KO(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;d0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(mV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&d0(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=hV();u.length!==0&&(u+=l),dS(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function v0(t,e,n,r=!1){const i=new gV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await v0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await v0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){const n=Rs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uo(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function vV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _V(t,e,n){const r=Ds(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fS(e),{host:o,port:l}=wV(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),EV()}function fS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wV(t){const e=fS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_0(o)}}}function _0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function TV(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return Zl(t,"POST","/v1/accounts:signInWithPassword",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}async function AV(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Vg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,n,"signInWithPassword",IV);case"emailLink":return SV(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",TV);case"emailLink":return AV(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return Zl(t,"POST","/v1/accounts:signInWithIdp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="http://localhost";class Ss extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:CV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kV(t){const e=Ma(Fa(t)).link,n=e?Ma(Fa(e)).deep_link_id:null,r=Ma(Fa(t)).deep_link_id;return(r?Ma(Fa(r)).link:null)||r||n||e||t}class Lg{constructor(e){var n,r,i,s,o,l;const u=Ma(Fa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=xV((i=u.mode)!==null&&i!==void 0?i:null);se(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=kV(e);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lg.parseLink(n);return se(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends pS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends eu{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends eu{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends eu{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return Zl(t,"POST","/v1/accounts:signUp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ir._fromIdTokenResponse(e,r,i),o=w0(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w0(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oh(e,n,r,i)}}function mS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,s,e,r):s})}async function PV(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(xr(r));const i="reauthenticate";try{const s=await bl(t,mS(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=Dg(s.idToken);se(o,r,"internal-error");const{sub:l}=o;return se(t.uid===l,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e,n=!1){if(Jn(t.app))return Promise.reject(xr(t));const r="signIn",i=await mS(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function NV(t,e){return gS(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DV(t,e,n){if(Jn(t.app))return Promise.reject(xr(t));const r=Ds(t),o=await Bp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yS(t),u}),l=await As._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function OV(t,e,n){return Jn(t.app)?Promise.reject(xr(t)):NV(dt(t),ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yS(t),r})}function VV(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function LV(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function MV(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function FV(t){return dt(t).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=1e3,UV=10;class _S extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const BV=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wS.type="SESSION";const ES=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await zV(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Mg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function qV(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function WV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KV(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebaseLocalStorageDb",QV=1,lh="firebaseLocalStorage",SS="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function GV(){const t=indexedDB.deleteDatabase(IS);return new tu(t).toPromise()}function zp(){const t=indexedDB.open(IS,QV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:SS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await GV(),e(await zp()))})})}async function E0(t,e,n){const r=Zh(t,!0).put({[SS]:e,value:n});return new tu(r).toPromise()}async function YV(t,e){const n=Zh(t,!1).get(e),r=await new tu(n).toPromise();return r===void 0?null:r.value}function T0(t,e){const n=Zh(t,!0).delete(e);return new tu(n).toPromise()}const XV=800,JV=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(KV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WV(),!this.activeServiceWorker)return;this.sender=new $V(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await E0(e,ah,"1"),await T0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zh(i,!1).getAll();return new tu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const ZV=AS;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e){return e?Sr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tL(t){return gS(t.auth,new Fg(t),t.bypassAuthState)}function nL(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),bV(n,new Fg(t),t.bypassAuthState)}async function rL(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),PV(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tL;case"linkViaPopup":case"linkViaRedirect":return rL;case"reauthViaPopup":case"reauthViaRedirect":return nL;default:Un(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new Jl(2e3,1e4);class ao extends CS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iL.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="pendingRedirect",pc=new Map;class oL extends CS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const r=await aL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aL(t,e){const n=cL(e),r=uL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lL(t,e){pc.set(t._key(),e)}function uL(t){return Sr(t._redirectPersistence)}function cL(t){return fc(sL,t.config.apiKey,t.name)}async function hL(t,e,n=!1){if(Jn(t.app))return Promise.reject(xr(t));const r=Ds(t),i=eL(r,e),o=await new oL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=10*60*1e3;class fL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dL&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yL=/^https?/;async function vL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mL(t);for(const n of e)try{if(_L(n))return}catch{}Un(t,"unauthorized-domain")}function _L(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yL.test(n))return!1;if(gL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new Jl(3e4,6e4);function S0(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EL(t){return new Promise((e,n)=>{var r,i,s;function o(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(sr(t,"network-request-failed"))},timeout:wL.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const l=fV("iframefcb");return or()[l]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},dS(`${dV()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw mc=null,e})}let mc=null;function TL(t){return mc=mc||EL(t),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Jl(5e3,15e3),SL="__/auth/iframe",AL="emulator/auth/iframe",CL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ng(e,AL):`https://${t.config.authDomain}/${SL}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=xL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ql(r).slice(1)}`}async function RL(t){const e=await TL(t),n=or().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:kL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),l=or().setTimeout(()=>{s(o)},IL.get());function u(){or().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bL=500,NL=600,DL="_blank",OL="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VL(t,e,n,r=bL,i=NL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},PL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Dt().toLowerCase();n&&(l=sS(c)?DL:n),rS(c)&&(e=e||OL,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[w,x])=>`${m}${w}=${x},`,"");if(rV(c)&&l!=="_self")return LL(e||"",l),new A0(null);const p=window.open(e||"",l,d);se(p,t,"popup-blocked");try{p.focus()}catch{}return new A0(p)}function LL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="__/auth/handler",FL="emulator/auth/handler",jL=encodeURIComponent("fac");async function C0(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof pS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof eu){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${jL}=${encodeURIComponent(u)}`:"";return`${UL(t)}?${ql(l).slice(1)}${c}`}function UL({config:t}){return t.emulator?Ng(t,FL):`https://${t.authDomain}/${ML}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class BL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=hL,this._overrideRedirectResult=lL}async _openPopup(e,n,r,i){var s;Lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C0(e,n,r,jp(),i);return VL(e,o,Mg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C0(e,n,r,jp(),i);return qV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RL(e),r=new fL(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[of];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||iS()||Og()}}const zL=BL;var x0="@firebase/auth",k0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WL(t){ar(new jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(t)},c=new uV(r,i,s,u);return vV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new jn("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new $L(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(x0,k0,qL(t)),In(x0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=5*60,KL=ZT("authIdTokenMaxAge")||HL;let R0=null;const QL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KL)return;const i=n==null?void 0:n.token;R0!==i&&(R0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GL(t=Km()){const e=Rs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yV(t,{popupRedirectResolver:zL,persistence:[ZV,BV,ES]}),r=ZT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QL(s.toString());LV(n,o,()=>o(n.currentUser)),VV(n,l=>o(l))}}const i=XT("auth");return i&&_V(n,`http://${i}`),n}function YL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WL("Browser");const XL={apiKey:"AIzaSyCAkZkcpANR9Y19KIaIHDHGM9IBqS4ND9o",authDomain:"kanban-task-management-a-a744c.firebaseapp.com",projectId:"kanban-task-management-a-a744c",storageBucket:"kanban-task-management-a-a744c.appspot.com",messagingSenderId:"1047740654541",appId:"1:1047740654541:web:675b3ee4eb6e31e0d25a84",measurementId:"G-H8V128C1JK"},jg=o1(XL);OO(jg);const un=GL(jg),hr=J2(jg);function JL(){return new Promise((t,e)=>{const n=un.onAuthStateChanged(r=>{n(),t(r)},r=>e(r))})}async function ZL(){try{const t=await JL();if(!t)throw new Error("User is not authenticated.");const e=await jr(cr(hr,"users",t.uid));if(!e.exists())throw new Error("User data does not exist.");return{success:!0,data:e.data()}}catch(t){throw console.error("Error fetching user data:",t.message),new Error(t.message)}}function nu(){const{data:t,isLoading:e,error:n}=KT({queryKey:["userData"],queryFn:ZL});return{userData:t==null?void 0:t.data,gettingUserData:e,error:n}}const kS=F.createContext(),dr=()=>F.useContext(kS);function eM({children:t}){const{userData:e,gettingUserData:n}=nu(),[r,i]=F.useState(null),[s,o]=F.useState(!1);F.useEffect(()=>{var u;!n&&((u=e==null?void 0:e.boards)==null?void 0:u.length)===0&&(o(!0),i(null)),!n&&(e==null?void 0:e.boards.length)>0&&!r&&(i(e==null?void 0:e.boards[0]),o(!1))},[n,e,e==null?void 0:e.boards,r]);function l(u){i(u)}return g.jsx(kS.Provider,{value:{noBoards:s,activeBoard:r,handleActiveBoard:l},children:t})}async function tM(t){try{const e=un.currentUser;if(!e)throw new Error("No authenticated user found.");const n=cr(hr,"users",e.uid),r=await jr(n);if(!r.exists())throw new Error("User data does not exist.");const s=(r.data().boards||[]).filter(o=>o.id!==t);return await Ns(n,{boards:s}),console.log("Board deleted successfully!"),{success:!0,message:"Board deleted successfully."}}catch(e){return console.error("Error Deleting Board:",e.message),{success:!1,message:e.message}}}function nM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({boardId:i})=>tM(i),onSuccess:()=>t.invalidateQueries("userData")});return{deleteBoard:e,isDeletingBoard:n,error:r}}function dn({className:t}){return g.jsx("div",{className:`w-8 h-8 border-4 border-t-4 border-gray2 border-t-primary rounded-full animate-spin ${t} mx-auto`})}function Os({onClose:t,children:e,className:n}){return dT.createPortal(g.jsxs(g.Fragment,{children:[g.jsx("div",{onClick:t,className:"bg-black opacity-30 z-50 fixed inset-0"}),g.jsx("div",{className:`w-[90%] max-h-[90%] overflow-y-auto sm:w-[30rem] bg-white dark:bg-black3 rounded-md fixed top-[5%] left-1/2 -translate-x-1/2 p-6 sm:p-8  z-50 ${n}`,children:e})]}),document.body)}function rM({onClose:t}){const{deleteBoard:e,isDeletingBoard:n}=nM(),{userData:r,gettingUserData:i}=nu(),{activeBoard:s,handleActiveBoard:o}=dr();function l(){if(!i&&(r==null?void 0:r.boards.length)>0){const u=r.boards.findIndex(c=>c.id===s.id);return u>0?u-1:-1}return-1}return g.jsx(Os,{onClose:t,children:g.jsxs("div",{className:" flex flex-col items-center justify-center gap-6",children:[g.jsx(ht,{shape:"l",level:2,className:"text-red1 w-full",children:"Delete this board?"}),g.jsxs("p",{className:"text-gray1",children:["Are you sure you want to delete the",g.jsxs("span",{className:"text-red1",children:[s.title[0].toUpperCase()+s.title.slice(1)," "]}),"board? This action will remove all columns and tasks and cannot be reversed."]}),g.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-2",children:[g.jsx(Je,{shape:"error",disabled:n,className:"w-full",onClick:()=>{e({boardId:s==null?void 0:s.id},{onSuccess:()=>{const u=l();o(u!==-1?r.boards[u]:r.boards[0]),t()}})},children:n?g.jsx(dn,{}):"Delete"}),g.jsx(Je,{onClick:t,disabled:n,shape:"secondary",className:"w-full",children:"Cancel"})]})]})})}async function iM(t){try{const e=un.currentUser;if(!e)throw new Error("No authenticated user found.");const n=cr(hr,"users",e.uid),r=await jr(n);if(!r.exists())throw new Error("User data does not exist.");const s=(r.data().boards||[]).map(o=>o.id===t.id?{...o,...t}:o);return await Ns(n,{boards:s}),console.log("Board updated successfully!"),{success:!0,message:"Board updated successfully."}}catch(e){return console.error("Error updating board:",e.message),{success:!1,message:e.message}}}function sM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({updatedBoard:i})=>iM(i),onSuccess:()=>t.invalidateQueries("userData")});return{updateBoard:e,isUpdatingBoard:n,error:r}}var RS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P0=Ke.createContext&&Ke.createContext(RS),oM=["attr","size","title"];function aM(t,e){if(t==null)return{};var n=lM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uh.apply(this,arguments)}function b0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(n),!0).forEach(function(r){uM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e,n){return e=cM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cM(t){var e=hM(t,"string");return typeof e=="symbol"?e:e+""}function hM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PS(t){return t&&t.map((e,n)=>Ke.createElement(e.tag,ch({key:n},e.attr),PS(e.child)))}function $n(t){return e=>Ke.createElement(dM,uh({attr:ch({},t.attr)},e),PS(t.child))}function dM(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=aM(t,oM),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ke.createElement("svg",uh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:ch(ch({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ke.createElement("title",null,s),t.children)};return P0!==void 0?Ke.createElement(P0.Consumer,null,n=>e(n)):e(RS)}function fM(t){return $n({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(t)}function Ug({data:t=[],dataType:e,handleItemChange:n,handleDeleteItem:r}){return g.jsx("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:t.length>0?t.map((i,s)=>g.jsxs("div",{className:"flex items-center gap-2 w-full",children:[g.jsx("input",{value:i.title,onChange:o=>n(s,o.target.value),className:"flex-1 h-10 px-4 placeholder:text-gray1 rounded-md border border-gray2 bg-transparent font-medium text-[0.8125rem] leading-6 text-black dark:text-white outline-none",type:"text",placeholder:`${e} ${s+1}`}),g.jsx("button",{onClick:()=>r(s),type:"button",className:"text-gray1 dark:text-white",children:g.jsx(fM,{size:"1rem"})})]},s)):g.jsx("p",{className:"w-full text-center font-bold text-gray1 text-sm",children:`No ${e}s Added`})})}function pM({onClose:t}){const{activeBoard:e}=dr(),[n,r]=F.useState(e.title),[i,s]=F.useState(e.columns||[]),{updateBoard:o,isUpdatingBoard:l}=sM(),u=Bn(),c=()=>s([...i,{name:""}]),d=(w,x)=>{const P=[...i];P[w].name=x,s(P)},p=w=>{s(x=>x.filter((P,N)=>N!==w))},m=w=>{w.preventDefault();const x={...e,title:n,columns:i};o({updatedBoard:x},{onSuccess:()=>{u.invalidateQueries("userData"),t()}})};return g.jsx(Os,{onClose:t,children:g.jsxs("form",{onSubmit:m,className:" flex flex-col gap-4 ",children:[g.jsx(ht,{shape:"l",level:2,className:"w-full text-center text-black dark:text-white",children:"Update Board"}),g.jsxs("div",{className:"flex flex-col items-start justify-center gap-2 w-full",children:[g.jsx("p",{className:"text-gray1 dark:text-white text-sm font-bold",children:"e.g. Web Design"}),g.jsx("input",{className:"rounded-md border border-gray2 px-4 py-2 text-[0.8125rem] font-medium w-full bg-transparent dark:text-white outline-none h-[2.5rem]",type:"text",placeholder:"Board Title",value:n,onChange:w=>r(w.target.value),required:!0})]}),g.jsxs("div",{className:"flex flex-col items-start justify-center gap-4 w-full",children:[g.jsx("p",{className:"text-gray1 dark:text-white text-sm font-bold",children:"Board Columns"}),g.jsx(Ug,{data:i,dataType:"Column",handleItemChange:d,handleDeleteItem:p}),g.jsx(Je,{className:"w-full",shape:"secondary",onClick:c,children:"Add Column"})]}),g.jsx(Je,{shape:"primaryS",className:"w-full",type:"submit",disabled:l,children:l?g.jsx(dn,{}):"Update Board"})]})})}function mM({onOpen:t}){return g.jsx("button",{onClick:()=>{t()},className:" w-full hover:opacity-75 bg-transparent text-start outline-none border-none text-gray1",children:"Edit Board"})}function bS({onClose:t,children:e}){return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 bg-transparent z-50",onClick:t}),g.jsx("div",{className:"fixed z-50 top-20 w-48 right-8 flex items-center  justify-center flex-col bg-white dark:bg-black2 rounded-xl p-6 gap-4 drop-shadow-lg",children:e})]})}function gM({onClose:t}){return g.jsxs(bS,{onClose:t,children:[g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(mM,{})}),g.jsx(de.Window,{children:g.jsx(pM,{})})]}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(Gk,{})}),g.jsx(de.Window,{children:g.jsx(rM,{})})]})]})}function yM(t){return $n({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"},child:[]}]})(t)}function vM(t){return $n({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(t)}function NS(t){return $n({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},child:[]}]})(t)}function _M({onOpen:t,isOpen:e,onClose:n}){return g.jsx("button",{type:"button",onClick:()=>{e?n():t()},children:g.jsx(NS,{className:"text-gray1",size:"1.5rem"})})}function wM(t){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function EM(t){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(t)}function TM(){const[t,e]=F.useState(!1),{handleShow:n}=bT(),{activeBoard:r}=dr(),{userData:i,gettingUserData:s}=nu();return F.useEffect(()=>{const o=new MutationObserver(()=>{e(document.documentElement.classList.contains("dark"))});return o.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>o.disconnect()},[]),g.jsxs("div",{className:"bg-white border-b border-gray2 dark:border-gray1 dark:bg-black3 h-16 sm:h-20 md:h-24 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center justify-center h-full",children:[g.jsx("div",{className:"hidden sm:flex items-center justify-center sm:px-6 border-r border-gray2 dark:border-gray1 h-full",children:g.jsx("img",{src:t?"logoDark.svg":"logoLight.svg",alt:"Logo"})}),g.jsx("div",{className:"sm:hidden block px-4",children:g.jsx("img",{src:"logo.svg",alt:"Mobile Logo"})}),g.jsx(ht,{className:"hidden sm:flex items-center justify-center text-black1 sm:px-6 dark:text-white",children:(r==null?void 0:r.title)||""}),g.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-transparent border-none outline-none cursor-pointer h-full text-black1 sm:hidden dark:text-white",children:[g.jsx(ht,{shape:"l",level:2,children:r!=null&&r.title?r.title:(i==null?void 0:i.boards.length)>0&&!s?"Select Board":"Add Board"}),g.jsx(wM,{className:"text-primary text-lg"})]})]}),g.jsxs("div",{className:"flex items-center gap-4 px-6",children:[r&&g.jsxs(Je,{shape:"primaryS",className:"flex items-center gap-2 w-fit px-6 py-[0.75rem] sm:py-[1rem]",children:[g.jsx(EM,{className:"text-white text-lg"}),g.jsx("p",{className:"hidden sm:block",children:"Add Column"})]}),r&&g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(_M,{})}),g.jsx(de.Window,{children:g.jsx(gM,{})})]})]})]})}function IM(t){return $n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(t)}function DS(t){return $n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 19V5h6v14H5zm14 0h-6v-7h6v7zm0-9h-6V5h6v5z"},child:[]}]})(t)}function OS(t){return $n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},child:[]}]})(t)}function SM({boardId:t,children:e}){const{activeBoard:n}=dr();return g.jsxs(ht,{shape:"m",level:3,className:`flex gap-2 cursor-pointer items-center justify-start w-full text-gray1 ${(n==null?void 0:n.id)===t?"bg-primary text-white":"bg-transparent"} hover:bg-primaryLte hover:text-white py-4 pl-6 rounded-r-full`,children:[g.jsx(DS,{size:"1rem"}),g.jsx("span",{className:"truncate max-w-[20ch] text-ellipsis overflow-hidden whitespace-normal",children:e})]})}var mt=[];for(var af=0;af<256;++af)mt.push((af+256).toString(16).slice(1));function AM(t,e=0){return(mt[t[e+0]]+mt[t[e+1]]+mt[t[e+2]]+mt[t[e+3]]+"-"+mt[t[e+4]]+mt[t[e+5]]+"-"+mt[t[e+6]]+mt[t[e+7]]+"-"+mt[t[e+8]]+mt[t[e+9]]+"-"+mt[t[e+10]]+mt[t[e+11]]+mt[t[e+12]]+mt[t[e+13]]+mt[t[e+14]]+mt[t[e+15]]).toLowerCase()}var Qu,CM=new Uint8Array(16);function xM(){if(!Qu&&(Qu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qu(CM)}var kM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const N0={randomUUID:kM};function pi(t,e,n){if(N0.randomUUID&&!e&&!t)return N0.randomUUID();t=t||{};var r=t.random||(t.rng||xM)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,AM(r)}async function RM(t){try{const e=un.currentUser;if(!e)throw new Error("No authenticated user found.");const n=cr(hr,"users",e.uid);if(!(await jr(n)).exists())throw new Error("User data does not exist.");return await Ns(n,{boards:gD(t)}),console.log("Board added successfully!"),{success:!0,message:"Board added successfully."}}catch(e){return console.error("Error adding new board:",e.message),{success:!1,message:e.message}}}function PM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({newBoard:i})=>RM(i),onSuccess:()=>{t.invalidateQueries("userData")}});return{addBoard:e,isAddingBoard:n,error:r}}function VS({onClose:t}){const e=Bn(),[n,r]=F.useState(""),[i,s]=F.useState([{title:"",id:pi(),tasks:[],columnColor:"#635FC7"}]),{addBoard:o,isAddingBoard:l}=PM(),u=()=>s([...i,{title:"",id:pi(),tasks:[],columnColor:"#635FC7"}]),c=(m,w)=>{const x=[...i];x[m].title=w,s(x)},d=m=>{s(w=>w.filter((x,P)=>P!==m))},p=m=>{m.preventDefault();const w={title:n,id:pi(),columns:i};o({newBoard:w},{onSuccess:()=>{e.invalidateQueries("userData"),t()}})};return g.jsx(Os,{onClose:t,children:g.jsxs("form",{disabled:l,onSubmit:p,className:" flex flex-col gap-4 ",children:[g.jsx(ht,{shape:"l",level:2,className:"w-full text-center text-black dark:text-white",children:"Add New Board"}),g.jsxs("div",{className:"flex flex-col items-start justify-center gap-2 w-full",children:[g.jsx("p",{className:"text-gray1 dark:text-white text-sm font-bold",children:"e.g. Web Design"}),g.jsx("input",{className:"rounded-md border border-gray2 px-4 py-2 text-[0.8125rem] font-medium w-full bg-transparent dark:text-white outline-none h-[2.5rem]",type:"text",placeholder:"Board Title",value:n,onChange:m=>r(m.target.value),required:!0})]}),g.jsxs("div",{className:"flex flex-col items-start justify-center gap-4 w-full",children:[g.jsx("p",{className:"text-gray1 dark:text-white text-sm font-bold",children:"Board Columns"}),g.jsx(Ug,{data:i,dataType:"Column",handleItemChange:c,handleDeleteItem:d}),g.jsx(Je,{className:"w-full",shape:"secondary",onClick:u,children:"Add Column"})]}),g.jsx(Je,{shape:"primaryS",className:"w-full",type:"submit",disabled:l,children:l?g.jsx(dn,{}):"Add Board"})]})})}function bM({onOpen:t}){return g.jsxs(Je,{shape:"textOnlyP",onClick:()=>t(),className:"flex items-center justify-start w-full  py-4 pl-6",children:[g.jsx(DS,{size:"1rem",className:"mr-2"}),g.jsx(ht,{shape:"m",level:3,children:"+ Create New Board"})]})}function NM(){const{userData:t,gettingUserData:e}=nu(),n=(t==null?void 0:t.boards)||[],{handleActiveBoard:r}=dr();return g.jsxs("div",{className:"flex w-full ml-[-2rem] flex-col items-center justify-center px-4 gap-2",children:[e&&g.jsx(dn,{}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-gray1 font-bold text-sm uppercase text-start w-full py-4 pl-6",children:`all boards (${n.length})`}),n.length>0?n.map((i,s)=>g.jsx("div",{className:"w-full",onClick:()=>r(i),children:g.jsx(SM,{boardId:i==null?void 0:i.id,children:i.title})},s)):g.jsx("p",{className:"text-gray1 uppercase font-bold text-sm text-start w-full py-4 pl-6",children:"No Boards Added"})]}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(bM,{})}),g.jsx(de.Window,{children:g.jsx(VS,{})})]})]})}function DM({checked:t,onChange:e}){return g.jsx("div",{onClick:e,className:"bg-primary w-[40px] h-[20px] rounded-full relative cursor-pointer p-[2.5px]",role:"switch","aria-checked":t,tabIndex:0,onKeyDown:n=>n.key==="Enter"&&e(),children:g.jsx("div",{className:`w-[15px] h-[15px] rounded-full bg-white transition-transform duration-200 transform ${t?"translate-x-[20px]":"translate-x-0"}`})})}function OM(){const[t,e]=F.useState(!1),n=document.documentElement;return F.useEffect(()=>{localStorage.getItem("theme")==="dark"&&(e(!0),n.classList.add("dark"))},[n]),F.useEffect(()=>{t?(n.classList.add("dark"),localStorage.setItem("theme","dark")):(n.classList.remove("dark"),localStorage.setItem("theme","light"))},[t,n]),g.jsx("div",{className:"max-w-[14.5rem] md:max-w-[16rem] w-full bg-gray3 dark:bg-black2 py-4 rounded-md flex items-center justify-center transition-colors duration-300",children:g.jsxs("div",{className:"text-gray1 flex items-center justify-center gap-4",children:[g.jsx(vM,{}),g.jsx(DM,{checked:t,onChange:()=>e(r=>!r)}),g.jsx(yM,{})]})})}function VM(t){return $n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19c.946 0 1.81-.103 2.598-.281l-1.757-1.757c-.273.021-.55.038-.841.038-5.351 0-7.424-3.846-7.926-5a8.642 8.642 0 0 1 1.508-2.297L4.184 8.305c-1.538 1.667-2.121 3.346-2.132 3.379a.994.994 0 0 0 0 .633C2.073 12.383 4.367 19 12 19zm0-14c-1.837 0-3.346.396-4.604.981L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.319-3.319c2.614-1.951 3.547-4.615 3.561-4.657a.994.994 0 0 0 0-.633C21.927 11.617 19.633 5 12 5zm4.972 10.558-2.28-2.28c.19-.39.308-.819.308-1.278 0-1.641-1.359-3-3-3-.459 0-.888.118-1.277.309L8.915 7.501A9.26 9.26 0 0 1 12 7c5.351 0 7.424 3.846 7.926 5-.302.692-1.166 2.342-2.954 3.558z"},child:[]}]})(t)}function LM(){const t=document.documentElement,[e,n]=F.useState(t.classList.contains("dark")),{handleShow:r,handleHide:i,handleToggle:s,isVisible:o}=bT();return F.useEffect(()=>{const l=new MutationObserver(()=>{n(t.classList.contains("dark"))});return l.observe(t,{attributes:!0,attributeFilter:["class"]}),()=>l.disconnect()},[t]),g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"fixed inset-0 bg-black opacity-25 z-40 sm:hidden",onClick:s}),g.jsx("div",{className:`transform transition-transform duration-300 rounded-md sm:rounded-none w-[16.5rem] z-40 bg-white dark:bg-black3 sm:border-r border-gray2 top-20 left-[50%] translate-x-[-50%] dark:border-gray1 sm:translate-x-0 sm:inset-0 sm:h-full ${o?"fixed sm:relative":"hidden sm:-translate-x-full"}`,children:g.jsxs("div",{className:"flex flex-col w-full h-full p-4 gap-4",children:[g.jsx("div",{className:"w-full px-4 relative sm:hidden",children:g.jsx("img",{src:e?"logoDark.svg":"logoLight.svg",alt:"Logo"})}),g.jsx(NM,{}),g.jsxs("div",{className:"mt-auto flex flex-col items-center gap-4 w-full",children:[g.jsx(OM,{}),g.jsxs("button",{onClick:i,className:"text-gray1 w-full text-start flex items-center gap-4 cursor-pointer bg-transparent border-none outline-none",children:[g.jsx(VM,{size:"1rem"}),g.jsx(ht,{level:3,shape:"m",children:"Hide Sidebar"})]}),g.jsx("a",{href:"https://salehkamalportfolio.vercel.app/",className:"text-sm text-primary ",target:"_blank",children:"About Me"})]})]})}),g.jsx("button",{onClick:r,className:"w-[56px] h-[48px] rounded-r-full bg-primary border-none outline-none hidden sm:flex items-center justify-center fixed bottom-8 left-0",children:g.jsx(IM,{color:"white",size:"2rem"})})]})}async function MM(t){try{const e=un.currentUser;if(!e)throw new Error("No authenticated user found.");const n=cr(hr,"users",e.uid),r=await jr(n);if(!r.exists())throw new Error("User data does not exist.");const s=(r.data().boards||[]).find(o=>o.id===t);if(!s)throw new Error("Board not found.");return console.log("Columns fetched successfully!"),{success:!0,columns:s.columns||[]}}catch(e){return console.error("Error fetching columns:",e.message),{success:!1,message:e.message}}}function FM(t){const{data:e,isLoading:n,error:r}=KT({queryKey:["columns",t],queryFn:()=>MM(t),enabled:!!t});return{columns:(e==null?void 0:e.columns)||[],gettingColumns:n,error:r}}function Sn({children:t,shape:e="bodyM",className:n}){const r={bodyM:"font-bold text-[0.75rem] leading-4 ",bodyL:"font-medium text-[0.8125rem] leading-6"};return g.jsx("p",{className:Bm(r[e],n),children:t})}function jM({onOpen:t}){return g.jsx("button",{onClick:t,className:"flex hover:scale-[0.98] transition-transform duration-200 w-72 bg-gray3 dark:bg-black3 rounded-md outline-none items-center  border-none justify-center  h-full",children:g.jsx(ht,{shape:"xl",level:1,className:"text-gray1",children:"+ New Column"})})}const UM=({onColorChange:t})=>{const[e,n]=F.useState("#000000"),r=i=>{const s=i.target.value;n(s),t(s)};return g.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[g.jsx("input",{type:"color",value:e,onChange:r,className:"flex-1 h-10 px-1 rounded-md border border-gray2 bg-transparent dark:text-white outline-none"}),g.jsx("span",{className:"text-sm font-bold text-gray1 dark:text-white mb-2",style:{color:e},children:e.toUpperCase()})]})};async function BM(t,e){try{const n=un.currentUser;if(!n)throw new Error("No authenticated user found.");const r=cr(hr,"users",n.uid),i=await jr(r);if(!i.exists())throw new Error("User data does not exist.");const s=i.data().boards||[],o=s.findIndex(l=>l.id===t);if(o===-1)throw new Error("Board not found.");return s[o].columns=[...s[o].columns||[],e],await Ns(r,{boards:s}),console.log("Column added successfully!"),{success:!0,message:"Column added successfully."}}catch(n){return console.error("Error adding column:",n.message),{success:!1,message:n.message}}}function zM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({boardId:i,newColumn:s})=>BM(i,s),onSuccess:()=>t.invalidateQueries("userData")});return{addColumn:e,isAddingColumn:n,error:r}}function LS({onClose:t}){const[e,n]=F.useState("#A8A4FF"),[r,i]=F.useState(""),{activeBoard:s}=dr(),{addColumn:o,isAddingColumn:l}=zM();function u(c){c.preventDefault(),o({newColumn:{id:pi(),columnColor:e,title:r,tasks:[]},boardId:s==null?void 0:s.id},{onSuccess:()=>t()})}return g.jsx(Os,{onClose:t,children:g.jsxs("form",{onSubmit:u,className:" flex flex-col gap-4 ",children:[g.jsx(ht,{shape:"l",level:2,className:"text-start text-black dark:text-white",children:"Add New Column"}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Column Name",g.jsx("input",{className:"w-full h-10 px-4 mt-2 rounded-md border border-gray2 bg-transparent dark:text-white outline-none",type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"e.g. Take coffee break",required:!0})]})}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Select Color",g.jsx(UM,{onColorChange:n})]})}),g.jsx(Je,{className:"w-full",shape:"primaryS",type:"submit",children:l?g.jsx(dn,{}):"Add New Column"})]})})}function $M(t){return $n({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"},child:[]}]})(t)}function qM({onOpen:t}){return g.jsx("button",{onClick:t,className:"w-5 h-5 rounded-full text-gray1 border border-gray1 flex items-center justify-center p-1",children:g.jsx($M,{})})}async function WM(t,e,n){try{const r=un.currentUser;if(!r)throw new Error("No authenticated user found.");const i=cr(hr,"users",r.uid),s=await jr(i);if(!s.exists())throw new Error("User data does not exist.");const o=s.data().boards||[],l=o.findIndex(d=>d.id===t);if(l===-1)throw new Error("Board not found.");const u=o[l].columns||[],c=u.findIndex(d=>d.id===e);if(c===-1)throw new Error("Column not found.");return u[c].tasks=[...u[c].tasks||[],n],await Ns(i,{boards:o}),console.log("Task added successfully!"),{success:!0,message:"Task added successfully."}}catch(r){return console.error("Error adding task:",r.message),{success:!1,message:r.message}}}function HM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({boardId:i,columnId:s,newTask:o})=>WM(i,s,o),onSuccess:()=>{t.invalidateQueries(["userData"])}});return{addTask:e,addingTask:n,error:r}}function KM({onClose:t,columnId:e}){const[n,r]=F.useState(""),[i,s]=F.useState(""),[o,l]=F.useState("pending"),{activeBoard:u}=dr(),[c,d]=F.useState([{title:"",completed:!1,id:pi()},{title:"",completed:!1,id:pi()}]),{addTask:p,addingTask:m}=HM();function w(){d(T=>[...T,{title:"",completed:!1,id:pi()}])}function x(T,_){const C=[...c];C[T].title=_,d(C)}function P(T){d(_=>_.filter((C,V)=>V!==T))}function N(T){T.preventDefault();const _={title:n,description:i,subTasks:c,status:o,id:pi()};p({boardId:u==null?void 0:u.id,columnId:e,newTask:_},{onSuccess:()=>t()})}return g.jsx(Os,{onClose:t,children:g.jsxs("form",{onSubmit:N,className:" flex flex-col gap-4 ",children:[g.jsx(ht,{shape:"l",level:2,className:"text-start text-black dark:text-white",children:"Add New Task"}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Title",g.jsx("input",{value:n,onChange:T=>r(T.target.value),className:"w-full h-10 px-4 mt-2 rounded-md border border-gray2 bg-transparent dark:text-white outline-none",type:"text",placeholder:"e.g. Take coffee break",required:!0})]})}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Description",g.jsx("textarea",{value:i,onChange:T=>s(T.target.value),className:"w-full mt-2 min-h-28 px-4 py-2 rounded-md border border-gray2 bg-transparent dark:text-white outline-none",placeholder:"e.g. It’s always good to take a break. This 15 minute break will recharge the batteries a little.",required:!0})]})}),g.jsxs("div",{className:"w-full flex flex-col gap-4",children:[g.jsx("p",{className:"text-sm font-bold text-gray1 dark:text-white",children:"Subtasks"}),g.jsx(Ug,{data:c,dataType:"SubTask",handleItemChange:x,handleDeleteItem:P}),g.jsx(Je,{className:"w-full",shape:"secondary",onClick:w,children:"+ Add New Subtask"})]}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Status",g.jsxs("select",{value:o,onChange:T=>{l(T.target.value)},className:"custom-select w-full mt-2 h-10 px-4 rounded-md border border-gray2 bg-transparent dark:text-white outline-none",children:[g.jsx("option",{value:"doing",children:"Doing"}),g.jsx("option",{value:"done",children:"Done"}),g.jsx("option",{value:"pending",children:"Pending"})]})]})}),g.jsx(Je,{className:"w-full",shape:"primaryS",type:"submit",children:m?g.jsx(dn,{}):"Create Task"})]})})}function QM({subTask:t,handleSubTaskChange:e}){const[n,r]=F.useState(t.completed);function i(){r(s=>{const o=!s,l={...t,completed:o};return e(l),o})}return g.jsxs("div",{onClick:i,className:`flex cursor-pointer w-full rounded-md dark:bg-black2 ${n?"bg-gray3":"bg-transparent"} hover:bg-gray2 items-center justify-center gap-2 p-4`,children:[g.jsx("span",{className:`w-4 h-4 flex items-center  justify-center rounded-sm text-white ${n?"bg-primary border-none":"dark:bg-black3 bg-white border border-gray2 dark:border-black4"}`,children:g.jsx(OS,{className:`${n?"visible":"hidden"} `})}),g.jsx(Sn,{shape:"bodyM",className:`w-full ${n?"text-gray1 line-through":"text-black1 dark:text-white"}`,children:t.title})]})}function GM({onOpen:t,isOpen:e,onClose:n}){return g.jsx("button",{type:"button",onClick:()=>{e?n():t()},children:g.jsx(NS,{className:"text-gray1",size:"1.5rem"})})}function YM({onOpen:t}){return g.jsx("button",{type:"button",onClick:()=>{t()},className:"w-full text-start hover:text-red2 bg-transparent outline-none border-none text-red1",children:"Delete Task"})}async function XM(t,e,n){try{const r=un.currentUser;if(!r)throw new Error("No authenticated user found.");const i=cr(hr,"users",r.uid),s=await jr(i);if(!s.exists())throw new Error("User data does not exist.");const o=s.data().boards||[],l=o.findIndex(d=>d.id===t);if(l===-1)throw new Error("Board not found.");const u=o[l].columns||[],c=u.findIndex(d=>d.id===e);if(c===-1)throw new Error("Column not found.");return u[c].tasks=u[c].tasks.filter(d=>d.id!==n),await Ns(i,{boards:o}),console.log("Task deleted successfully!"),{success:!0,message:"Task deleted successfully."}}catch(r){return console.error("Error deleting task:",r.message),{success:!1,message:r.message}}}function JM(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({boardId:i,columnId:s,taskId:o})=>XM(i,s,o),onSuccess:()=>t.invalidateQueries("userData")});return{deleteTask:e,isDeletingTask:n,error:r}}function ZM({onClose:t,columnId:e,taskId:n}){const{activeBoard:r}=dr(),{deleteTask:i,isDeletingTask:s}=JM();return g.jsx(Os,{onClose:t,children:g.jsxs("div",{className:" flex flex-col items-center justify-center gap-6",children:[g.jsx(ht,{shape:"l",level:2,className:"text-red1 w-full",children:"Delete this Task?"}),g.jsx("p",{className:"text-gray1",children:"Are you sure you want to delete the Name Task? This action will remove all columns and tasks and cannot be reversed."}),g.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-2",children:[g.jsx(Je,{shape:"error",className:"w-full",disabled:s,onClick:()=>{i({boardId:r.id,columnId:e,taskId:n},{onSuccess:()=>{t()}})},children:s?g.jsx(dn,{}):"Delete"}),g.jsx(Je,{disabled:s,onClick:t,shape:"secondary",className:"w-full",children:"Cancel"})]})]})})}function e4({onOpen:t}){return g.jsx("button",{type:"button",onClick:()=>{t()},className:" w-full bg-transparent text-start outline-none border-none text-gray1",children:"Edit Task"})}function t4({columnId:t,taskId:e,onClose:n}){return g.jsxs(bS,{onClose:n,children:[g.jsx(de,{children:g.jsx(de.Toggle,{children:g.jsx(e4,{})})}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(YM,{})}),g.jsx(de.Window,{children:g.jsx(ZM,{columnId:t,taskId:e})})]})]})}async function n4(t,e,n,r){var i;try{const s=un.currentUser;if(!s)throw new Error("No authenticated user found.");const o=cr(hr,"users",s.uid),l=await jr(o);if(!l.exists())throw new Error("User data does not exist.");const u=l.data().boards||[],c=u.find(x=>x.id===t);if(!c)throw new Error("Board not found.");const d=(i=c.columns)==null?void 0:i.find(x=>x.id===e);if(!d)throw new Error("Column not found.");const p=d.tasks.map(x=>x.id===n?{...x,...r}:x),m=c.columns.map(x=>x.id===e?{...x,tasks:p}:x),w=u.map(x=>x.id===t?{...x,columns:m}:x);return await Ns(o,{boards:w}),console.log("Task updated successfully!"),{success:!0,message:"Task updated successfully."}}catch(s){throw console.error("Error updating task:",s.message),new Error(s.message)}}function r4(){const t=Bn(),{mutate:e,isPending:n,error:r}=Fr({mutationFn:({activeBoardId:i,columnId:s,taskId:o,updatedTask:l})=>n4(i,s,o,l),onSuccess:()=>{t.invalidateQueries("columns")}});return{updateTask:e,isUpdatingTask:n,error:r}}function i4({onClose:t,task:e,columnId:n}){const[r,i]=F.useState({status:e.status,subTasks:[...e.subTasks]}),{updateTask:s,isUpdatingTask:o}=r4(),{activeBoard:l}=dr();F.useEffect(()=>{i({status:e.status,subTasks:[...e.subTasks]})},[e]),F.useEffect(()=>{const p=r.subTasks.some(w=>w.completed),m=r.subTasks.every(w=>w.completed);i(w=>({...w,status:m?"done":p?"doing":"pending"}))},[r.subTasks]);function u(p){i(m=>({...m,status:p.target.value}))}function c(p){i(m=>({...m,subTasks:m.subTasks.map(w=>w.id===p.id?{...w,...p}:w)}))}function d(p){p.preventDefault(),s({activeBoardId:l.id,columnId:n,taskId:e.id,updatedTask:{...e,...r}},{onSuccess:()=>t()})}return g.jsx(Os,{onClose:t,children:g.jsxs("form",{onSubmit:d,className:" flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(ht,{shape:"l",level:2,className:"text-start text-black dark:text-white max-w-[90%]",children:e==null?void 0:e.title}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(GM,{})}),g.jsx(de.Window,{children:g.jsx(t4,{columnId:n,taskId:e.id})})]})]}),g.jsx(Sn,{className:"text-gray1 w-full",shape:"bodyL",children:e.description}),g.jsxs("div",{className:"flex flex-col w-full items-center justify-center gap-4",children:[g.jsx(Sn,{className:"text-gray1 dark:text-white w-full",children:`Subtasks (${r.subTasks.filter(p=>!p.completed).length} of ${r.subTasks.length})`}),g.jsx("div",{className:"w-full flex gap-2 flex-col items-center justify-center",children:r.subTasks.map((p,m)=>g.jsx(QM,{handleSubTaskChange:c,subTask:p},m))})]}),g.jsx("div",{className:"w-full",children:g.jsxs("label",{className:"block text-sm font-bold text-gray1 dark:text-white mb-2",children:["Current Status",g.jsxs("select",{disabled:o,value:r.status||"pending",onChange:u,className:"custom-select w-full mt-2 h-10 px-4 rounded-md border border-gray2 bg-transparent dark:text-white outline-none",children:[g.jsx("option",{value:"doing",children:"Doing"}),g.jsx("option",{value:"done",children:"Done"}),g.jsx("option",{value:"pending",children:"Pending"})]})]})}),g.jsx(Je,{type:"submit",className:"w-full",disabled:o,shape:"primaryS",children:o?g.jsx(dn,{}):"Save"})]})})}function s4({task:t,onOpen:e}){var n,r;return g.jsxs("div",{onClick:e,className:`flex hover:scale-[0.98] transition-transform duration-200  cursor-pointer  items-start justify-center flex-col gap-2 p-4 dark:bg-black3 bg-white drop-shadow-lg rounded-lg w-full ${t.status==="done"?"opacity-75":""}`,children:[g.jsxs("div",{className:"flex items-start justify-between w-full",children:[g.jsx(ht,{shape:"m",level:3,className:"w-full text-black1 dark:text-white",children:t==null?void 0:t.title}),(t==null?void 0:t.status)==="done"&&g.jsx("span",{className:"w-6 h-6 p-1 flex items-center justify-center text-white rounded-full bg-primary",children:g.jsx(OS,{})})]}),g.jsx("p",{className:"font-bold text-sm text-gray1",children:`${(n=t==null?void 0:t.subTasks)==null?void 0:n.filter(i=>i.completed).length} of ${(r=t==null?void 0:t.subTasks)==null?void 0:r.length} substasks`})]})}function o4({column:t}){var e,n,r,i;return g.jsxs("div",{className:"flex flex-col gap-2 w-72",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(ht,{shape:"s",level:4,className:"uppercase  text-gray1 flex gap-2 justify-start items-center",children:[g.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.columnColor}}),`${(e=t==null?void 0:t.title)==null?void 0:e.toUpperCase()} (${(n=t==null?void 0:t.tasks)==null?void 0:n.length})`]}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(qM,{})}),g.jsx(de.Window,{children:g.jsx(KM,{columnId:t==null?void 0:t.id})})]})]}),g.jsx("div",{className:"flex flex-col gap-2 items-center justify-center",children:((r=t==null?void 0:t.tasks)==null?void 0:r.length)>0?(i=t==null?void 0:t.tasks)==null?void 0:i.map((s,o)=>g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(s4,{task:s,columnId:t.id})}),g.jsx(de.Window,{children:g.jsx(i4,{task:s,columnId:t.id})})]},o)):g.jsx("p",{className:"max-w-[60%] text-gray1 font-bold text-sm text-center p-6",children:"No Tasks Added To This Column Yet."})})]})}function a4(){const{activeBoard:t,noBoards:e}=dr(),{columns:n,gettingColumns:r}=FM(t==null?void 0:t.id),i=(n==null?void 0:n.length)>0;return g.jsx("div",{className:"h-full w-full overflow-hidden bg-gray2 dark:bg-black2",children:g.jsx("div",{className:"h-full overflow-x-auto p-4",children:r?g.jsx("div",{className:"flex justify-center items-center h-full",children:g.jsx(dn,{})}):i?g.jsxs("div",{className:"grid grid-flow-col auto-cols-[minmax(17rem,1fr)] gap-6 h-full w-full",children:[n.map((s,o)=>g.jsx(o4,{column:s},o)),g.jsx(l4,{})]}):e?g.jsx(c4,{}):g.jsx(u4,{})})})}function l4(){return g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(jM,{})}),g.jsx(de.Window,{children:g.jsx(LS,{})})]})}function u4(){return g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-6 text-center",children:[g.jsx(Sn,{shape:"bodyL",className:"text-gray1",children:"No Columns Added to this Board."}),g.jsx(Sn,{shape:"bodyM",className:"text-gray1",children:"Try adding a new column to organize tasks."}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(Je,{shape:"primaryS",className:"px-6",children:"Add Column"})}),g.jsx(de.Window,{children:g.jsx(LS,{})})]})]})}function c4(){return g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-6 text-center",children:[g.jsx(Sn,{className:"text-gray1",shape:"bodyL",children:"No Boards Added."}),g.jsxs(de,{children:[g.jsx(de.Toggle,{children:g.jsx(Je,{className:"px-8",children:"Create Board"})}),g.jsx(de.Window,{children:g.jsx(VS,{})})]})]})}function h4(){return g.jsx(g.Fragment,{children:g.jsx(a4,{})})}function D0(){const[t,e]=F.useState(!1),{userData:n,gettingUserData:r,error:i}=nu();function s(){e(l=>!l)}function o(){e(!1)}return r?g.jsx("div",{className:"w-full h-[100vh] flex  items-center justify-center bg-gray3 dark:bg-black3",children:g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[g.jsx(dn,{}),g.jsx(Sn,{shape:"bodyL",className:"text-gray1 w-max ",children:"Getting User Data...."})]})}):n?g.jsxs("div",{className:"grid grid-cols-[auto_1fr] grid-rows-[auto_1fr] h-screen",children:[g.jsx("div",{className:"col-span-2",children:g.jsx(TM,{handleToggleSideBar:s})}),g.jsx("div",{className:"h-full",children:g.jsx(LM,{show:t,handleSetShow:o})}),g.jsx(h4,{})]}):g.jsxs("div",{className:"bg-gray3 flex flex-col items-center justify-center  gap-6 text-center h-[100vh]",children:[g.jsx(Sn,{shape:"bodyL",className:"text-red1",children:"Feild To Load Data."}),g.jsx(Sn,{shape:"bodyM",className:"text-gray1",children:i==null?void 0:i.message})]})}const d4=F.createContext();function f4({children:t}){const[e,n]=F.useState({});function r(){return e.boards||[]}function i(s){e.boards?n(o=>o.boards.push(s)):(e.boards=[],n(o=>o.boards.push(s)))}return g.jsx(d4.Provider,{value:{addBoard:i,getBoards:r},children:t})}const MS=F.createContext(null);function p4({children:t}){const[e,n]=F.useState(null),[r,i]=F.useState(!0);F.useEffect(()=>{const o=MV(un,l=>{n(l),i(!1)});return()=>o()},[]);const s=async()=>{await FV(un),n(null)};return g.jsx(MS.Provider,{value:{user:e,loading:r,logout:s},children:t})}const m4=()=>F.useContext(MS);function g4(){const{user:t,loading:e}=m4();return e?g.jsx("div",{className:"w-full h-[100vh] flex items-center justify-center bg-gray3 dark:bg-black3",children:g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[g.jsx(dn,{}),g.jsx(Sn,{shape:"bodyL",className:"text-gray1 w-max ",children:"Loading..."})]})}):t?g.jsx(Ok,{}):g.jsx(Dk,{to:"/login",replace:!0})}function y4(){const t=bh();return g.jsxs("div",{className:"bg-gray3 flex flex-col items-center justify-center  gap-6 text-center h-[100vh]",children:[g.jsx(Sn,{shape:"bodyL",className:"text-red1",children:"No Page Founded."}),g.jsx(Sn,{shape:"bodyM",className:"text-gray1",children:"Try refresh the page or inter a valid URL"}),g.jsx(Je,{onClick:()=>t("/"),className:"px-8",children:"Go To Home Page"})]})}var ru=t=>t.type==="checkbox",Zi=t=>t instanceof Date,Ft=t=>t==null;const FS=t=>typeof t=="object";var Xe=t=>!Ft(t)&&!Array.isArray(t)&&FS(t)&&!Zi(t),v4=t=>Xe(t)&&t.target?ru(t.target)?t.target.checked:t.target.value:t,_4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,w4=(t,e)=>t.has(_4(e)),E4=t=>{const e=t.constructor&&t.constructor.prototype;return Xe(e)&&e.hasOwnProperty("isPrototypeOf")},Bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Bg&&(t instanceof Blob||t instanceof FileList))&&(n||Xe(t)))if(e=n?[]:{},!n&&!E4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=gn(t[r]));else return t;return e}var ed=t=>Array.isArray(t)?t.filter(Boolean):[],Qe=t=>t===void 0,J=(t,e,n)=>{if(!e||!Xe(t))return n;const r=ed(e.split(/[,[\].]+?/)).reduce((i,s)=>Ft(i)?i:i[s],t);return Qe(r)||r===t?Qe(t[e])?n:t[e]:r},Hn=t=>typeof t=="boolean",zg=t=>/^\w*$/.test(t),jS=t=>ed(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{let r=-1;const i=zg(e)?[e]:jS(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const c=t[l];u=Xe(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(l==="__proto__")return;t[l]=u,t=t[l]}return t};const O0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ke.createContext(null);var T4=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!r||Vn.all),t[o]}});return i},qt=t=>Xe(t)&&!Object.keys(t).length,I4=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return qt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Vn.all)},gc=t=>Array.isArray(t)?t:[t];function S4(t){const e=Ke.useRef(t);e.current=t,Ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Zn=t=>typeof t=="string",A4=(t,e,n,r,i)=>Zn(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n),C4=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},V0=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched}),L0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(rl(l,e))break}else if(Xe(l)&&rl(l,e))break}}};var x4=(t,e,n)=>{const r=gc(J(t,n));return De(r,"root",e[n]),De(t,n,r),t},$g=t=>t.type==="file",Ar=t=>typeof t=="function",hh=t=>{if(!Bg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yc=t=>Zn(t),qg=t=>t.type==="radio",dh=t=>t instanceof RegExp;const M0={value:!1,isValid:!1},F0={value:!0,isValid:!0};var US=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qe(t[0].attributes.value)?Qe(t[0].value)||t[0].value===""?F0:{value:t[0].value,isValid:!0}:F0:M0}return M0};const j0={isValid:!1,value:null};var BS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,j0):j0;function U0(t,e,n="validate"){if(yc(t)||Array.isArray(t)&&t.every(yc)||Hn(t)&&!t)return{type:n,message:yc(t)?t:"",ref:e}}var Ws=t=>Xe(t)&&!dh(t)?t:{value:t,message:""},B0=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:d,max:p,pattern:m,validate:w,name:x,valueAsNumber:P,mount:N,disabled:T}=t._f,_=J(e,x);if(!N||T)return{};const C=o?o[0]:s,V=b=>{r&&C.reportValidity&&(C.setCustomValidity(Hn(b)?"":b||""),C.reportValidity())},U={},z=qg(s),S=ru(s),v=z||S,E=(P||$g(s))&&Qe(s.value)&&Qe(_)||hh(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,A=C4.bind(null,x,n,U),D=(b,I,Ee,Ve=mr.maxLength,ft=mr.minLength)=>{const ze=b?I:Ee;U[x]={type:b?Ve:ft,message:ze,ref:s,...A(b?Ve:ft,ze)}};if(i?!Array.isArray(_)||!_.length:l&&(!v&&(E||Ft(_))||Hn(_)&&!_||S&&!US(o).isValid||z&&!BS(o).isValid)){const{value:b,message:I}=yc(l)?{value:!!l,message:l}:Ws(l);if(b&&(U[x]={type:mr.required,message:I,ref:C,...A(mr.required,I)},!n))return V(I),U}if(!E&&(!Ft(d)||!Ft(p))){let b,I;const Ee=Ws(p),Ve=Ws(d);if(!Ft(_)&&!isNaN(_)){const ft=s.valueAsNumber||_&&+_;Ft(Ee.value)||(b=ft>Ee.value),Ft(Ve.value)||(I=ft<Ve.value)}else{const ft=s.valueAsDate||new Date(_),ze=oe=>new Date(new Date().toDateString()+" "+oe),Q=s.type=="time",ne=s.type=="week";Zn(Ee.value)&&_&&(b=Q?ze(_)>ze(Ee.value):ne?_>Ee.value:ft>new Date(Ee.value)),Zn(Ve.value)&&_&&(I=Q?ze(_)<ze(Ve.value):ne?_<Ve.value:ft<new Date(Ve.value))}if((b||I)&&(D(!!b,Ee.message,Ve.message,mr.max,mr.min),!n))return V(U[x].message),U}if((u||c)&&!E&&(Zn(_)||i&&Array.isArray(_))){const b=Ws(u),I=Ws(c),Ee=!Ft(b.value)&&_.length>+b.value,Ve=!Ft(I.value)&&_.length<+I.value;if((Ee||Ve)&&(D(Ee,b.message,I.message),!n))return V(U[x].message),U}if(m&&!E&&Zn(_)){const{value:b,message:I}=Ws(m);if(dh(b)&&!_.match(b)&&(U[x]={type:mr.pattern,message:I,ref:s,...A(mr.pattern,I)},!n))return V(I),U}if(w){if(Ar(w)){const b=await w(_,e),I=U0(b,C);if(I&&(U[x]={...I,...A(mr.validate,I.message)},!n))return V(I.message),U}else if(Xe(w)){let b={};for(const I in w){if(!qt(b)&&!n)break;const Ee=U0(await w[I](_,e),C,I);Ee&&(b={...Ee,...A(I,Ee.message)},V(Ee.message),n&&(U[x]=b))}if(!qt(b)&&(U[x]={ref:C,...b},!n))return U}}return V(!0),U};function k4(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qe(t)?r++:t[e[r++]];return t}function R4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qe(t[e]))return!1;return!0}function nt(t,e){const n=Array.isArray(e)?e:zg(e)?[e]:jS(e),r=n.length===1?t:k4(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Xe(r)&&qt(r)||Array.isArray(r)&&R4(r))&&nt(t,n.slice(0,-1)),t}var lf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},$p=t=>Ft(t)||!FS(t);function ei(t,e){if($p(t)||$p(e))return t===e;if(Zi(t)&&Zi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Zi(s)&&Zi(o)||Xe(s)&&Xe(o)||Array.isArray(s)&&Array.isArray(o)?!ei(s,o):s!==o)return!1}}return!0}var zS=t=>t.type==="select-multiple",P4=t=>qg(t)||ru(t),uf=t=>hh(t)&&t.isConnected,$S=t=>{for(const e in t)if(Ar(t[e]))return!0;return!1};function fh(t,e={}){const n=Array.isArray(t);if(Xe(t)||n)for(const r in t)Array.isArray(t[r])||Xe(t[r])&&!$S(t[r])?(e[r]=Array.isArray(t[r])?[]:{},fh(t[r],e[r])):Ft(t[r])||(e[r]=!0);return e}function qS(t,e,n){const r=Array.isArray(t);if(Xe(t)||r)for(const i in t)Array.isArray(t[i])||Xe(t[i])&&!$S(t[i])?Qe(e)||$p(n[i])?n[i]=Array.isArray(t[i])?fh(t[i],[]):{...fh(t[i])}:qS(t[i],Ft(e)?{}:e[i],n[i]):n[i]=!ei(t[i],e[i]);return n}var Pa=(t,e)=>qS(t,e,fh(e)),WS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qe(t)?t:e?t===""?NaN:t&&+t:n&&Zn(t)?new Date(t):r?r(t):t;function cf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return $g(e)?e.files:qg(e)?BS(t.refs).value:zS(e)?[...e.selectedOptions].map(({value:n})=>n):ru(e)?US(t.refs).value:WS(Qe(e.value)?t.ref.value:e.value,t)}var b4=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&De(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ba=t=>Qe(t)?t:dh(t)?t.source:Xe(t)?dh(t.value)?t.value.source:t.value:t;const z0="AsyncFunction";var N4=t=>(!t||!t.validate)&&!!(Ar(t.validate)&&t.validate.constructor.name===z0||Xe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===z0)),D4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function $0(t,e,n){const r=J(t,n);if(r||zg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),l=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var O4=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,V4=(t,e)=>!ed(J(t,e)).length&&nt(t,e);const L4={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function M4(t={}){let e={...L4,...t},n={submitCount:0,isDirty:!1,isLoading:Ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Xe(e.defaultValues)||Xe(e.values)?gn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:gn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:lf(),array:lf(),state:lf()},m=V0(e.mode),w=V0(e.reValidateMode),x=e.criteriaMode===Vn.all,P=R=>L=>{clearTimeout(c),c=setTimeout(R,L)},N=async R=>{if(!t.disabled&&(d.isValid||R)){const L=e.resolver?qt((await v()).errors):await A(r,!0);L!==n.isValid&&p.state.next({isValid:L})}},T=(R,L)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((R||Array.from(l.mount)).forEach(j=>{j&&(L?De(n.validatingFields,j,L):nt(n.validatingFields,j))}),p.state.next({validatingFields:n.validatingFields,isValidating:!qt(n.validatingFields)}))},_=(R,L=[],j,G,K=!0,W=!0)=>{if(G&&j&&!t.disabled){if(o.action=!0,W&&Array.isArray(J(r,R))){const ee=j(J(r,R),G.argA,G.argB);K&&De(r,R,ee)}if(W&&Array.isArray(J(n.errors,R))){const ee=j(J(n.errors,R),G.argA,G.argB);K&&De(n.errors,R,ee),V4(n.errors,R)}if(d.touchedFields&&W&&Array.isArray(J(n.touchedFields,R))){const ee=j(J(n.touchedFields,R),G.argA,G.argB);K&&De(n.touchedFields,R,ee)}d.dirtyFields&&(n.dirtyFields=Pa(i,s)),p.state.next({name:R,isDirty:b(R,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else De(s,R,L)},C=(R,L)=>{De(n.errors,R,L),p.state.next({errors:n.errors})},V=R=>{n.errors=R,p.state.next({errors:n.errors,isValid:!1})},U=(R,L,j,G)=>{const K=J(r,R);if(K){const W=J(s,R,Qe(j)?J(i,R):j);Qe(W)||G&&G.defaultChecked||L?De(s,R,L?W:cf(K._f)):Ve(R,W),o.mount&&N()}},z=(R,L,j,G,K)=>{let W=!1,ee=!1;const ce={name:R};if(!t.disabled){const me=!!(J(r,R)&&J(r,R)._f&&J(r,R)._f.disabled);if(!j||G){d.isDirty&&(ee=n.isDirty,n.isDirty=ce.isDirty=b(),W=ee!==ce.isDirty);const ve=me||ei(J(i,R),L);ee=!!(!me&&J(n.dirtyFields,R)),ve||me?nt(n.dirtyFields,R):De(n.dirtyFields,R,!0),ce.dirtyFields=n.dirtyFields,W=W||d.dirtyFields&&ee!==!ve}if(j){const ve=J(n.touchedFields,R);ve||(De(n.touchedFields,R,j),ce.touchedFields=n.touchedFields,W=W||d.touchedFields&&ve!==j)}W&&K&&p.state.next(ce)}return W?ce:{}},S=(R,L,j,G)=>{const K=J(n.errors,R),W=d.isValid&&Hn(L)&&n.isValid!==L;if(t.delayError&&j?(u=P(()=>C(R,j)),u(t.delayError)):(clearTimeout(c),u=null,j?De(n.errors,R,j):nt(n.errors,R)),(j?!ei(K,j):K)||!qt(G)||W){const ee={...G,...W&&Hn(L)?{isValid:L}:{},errors:n.errors,name:R};n={...n,...ee},p.state.next(ee)}},v=async R=>{T(R,!0);const L=await e.resolver(s,e.context,b4(R||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(R),L},E=async R=>{const{errors:L}=await v(R);if(R)for(const j of R){const G=J(L,j);G?De(n.errors,j,G):nt(n.errors,j)}else n.errors=L;return L},A=async(R,L,j={valid:!0})=>{for(const G in R){const K=R[G];if(K){const{_f:W,...ee}=K;if(W){const ce=l.array.has(W.name),me=K._f&&N4(K._f);me&&d.validatingFields&&T([G],!0);const ve=await B0(K,s,x,e.shouldUseNativeValidation&&!L,ce);if(me&&d.validatingFields&&T([G]),ve[W.name]&&(j.valid=!1,L))break;!L&&(J(ve,W.name)?ce?x4(n.errors,ve,W.name):De(n.errors,W.name,ve[W.name]):nt(n.errors,W.name))}!qt(ee)&&await A(ee,L,j)}}return j.valid},D=()=>{for(const R of l.unMount){const L=J(r,R);L&&(L._f.refs?L._f.refs.every(j=>!uf(j)):!uf(L._f.ref))&&Jt(R)}l.unMount=new Set},b=(R,L)=>!t.disabled&&(R&&L&&De(s,R,L),!ei(Re(),i)),I=(R,L,j)=>A4(R,l,{...o.mount?s:Qe(L)?i:Zn(R)?{[R]:L}:L},j,L),Ee=R=>ed(J(o.mount?s:i,R,t.shouldUnregister?J(i,R,[]):[])),Ve=(R,L,j={})=>{const G=J(r,R);let K=L;if(G){const W=G._f;W&&(!W.disabled&&De(s,R,WS(L,W)),K=hh(W.ref)&&Ft(L)?"":L,zS(W.ref)?[...W.ref.options].forEach(ee=>ee.selected=K.includes(ee.value)):W.refs?ru(W.ref)?W.refs.length>1?W.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(K)?!!K.find(ce=>ce===ee.value):K===ee.value)):W.refs[0]&&(W.refs[0].checked=!!K):W.refs.forEach(ee=>ee.checked=ee.value===K):$g(W.ref)?W.ref.value="":(W.ref.value=K,W.ref.type||p.values.next({name:R,values:{...s}})))}(j.shouldDirty||j.shouldTouch)&&z(R,K,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&oe(R)},ft=(R,L,j)=>{for(const G in L){const K=L[G],W=`${R}.${G}`,ee=J(r,W);(l.array.has(R)||Xe(K)||ee&&!ee._f)&&!Zi(K)?ft(W,K,j):Ve(W,K,j)}},ze=(R,L,j={})=>{const G=J(r,R),K=l.array.has(R),W=gn(L);De(s,R,W),K?(p.array.next({name:R,values:{...s}}),(d.isDirty||d.dirtyFields)&&j.shouldDirty&&p.state.next({name:R,dirtyFields:Pa(i,s),isDirty:b(R,W)})):G&&!G._f&&!Ft(W)?ft(R,W,j):Ve(R,W,j),L0(R,l)&&p.state.next({...n}),p.values.next({name:o.mount?R:void 0,values:{...s}})},Q=async R=>{o.mount=!0;const L=R.target;let j=L.name,G=!0;const K=J(r,j),W=()=>L.type?cf(K._f):v4(R),ee=ce=>{G=Number.isNaN(ce)||Zi(ce)&&isNaN(ce.getTime())||ei(ce,J(s,j,ce))};if(K){let ce,me;const ve=W(),mn=R.type===O0.BLUR||R.type===O0.FOCUS_OUT,ou=!D4(K._f)&&!e.resolver&&!J(n.errors,j)&&!K._f.deps||O4(mn,J(n.touchedFields,j),n.isSubmitted,w,m),Fs=L0(j,l,mn);De(s,j,ve),mn?(K._f.onBlur&&K._f.onBlur(R),u&&u(0)):K._f.onChange&&K._f.onChange(R);const aa=z(j,ve,mn,!1),ji=!qt(aa)||Fs;if(!mn&&p.values.next({name:j,type:R.type,values:{...s}}),ou)return d.isValid&&(t.mode==="onBlur"?mn&&N():N()),ji&&p.state.next({name:j,...Fs?{}:aa});if(!mn&&Fs&&p.state.next({...n}),e.resolver){const{errors:la}=await v([j]);if(ee(ve),G){const au=$0(n.errors,r,j),js=$0(la,r,au.name||j);ce=js.error,j=js.name,me=qt(la)}}else T([j],!0),ce=(await B0(K,s,x,e.shouldUseNativeValidation))[j],T([j]),ee(ve),G&&(ce?me=!1:d.isValid&&(me=await A(r,!0)));G&&(K._f.deps&&oe(K._f.deps),S(j,me,ce,aa))}},ne=(R,L)=>{if(J(n.errors,L)&&R.focus)return R.focus(),1},oe=async(R,L={})=>{let j,G;const K=gc(R);if(e.resolver){const W=await E(Qe(R)?R:K);j=qt(W),G=R?!K.some(ee=>J(W,ee)):j}else R?(G=(await Promise.all(K.map(async W=>{const ee=J(r,W);return await A(ee&&ee._f?{[W]:ee}:ee)}))).every(Boolean),!(!G&&!n.isValid)&&N()):G=j=await A(r);return p.state.next({...!Zn(R)||d.isValid&&j!==n.isValid?{}:{name:R},...e.resolver||!R?{isValid:j}:{},errors:n.errors}),L.shouldFocus&&!G&&rl(r,ne,R?K:l.mount),G},Re=R=>{const L={...o.mount?s:i};return Qe(R)?L:Zn(R)?J(L,R):R.map(j=>J(L,j))},Se=(R,L)=>({invalid:!!J((L||n).errors,R),isDirty:!!J((L||n).dirtyFields,R),error:J((L||n).errors,R),isValidating:!!J(n.validatingFields,R),isTouched:!!J((L||n).touchedFields,R)}),Me=R=>{R&&gc(R).forEach(L=>nt(n.errors,L)),p.state.next({errors:R?n.errors:{}})},fn=(R,L,j)=>{const G=(J(r,R,{_f:{}})._f||{}).ref,K=J(n.errors,R)||{},{ref:W,message:ee,type:ce,...me}=K;De(n.errors,R,{...me,...L,ref:G}),p.state.next({name:R,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&G&&G.focus&&G.focus()},xn=(R,L)=>Ar(R)?p.values.subscribe({next:j=>R(I(void 0,L),j)}):I(R,L,!0),Jt=(R,L={})=>{for(const j of R?gc(R):l.mount)l.mount.delete(j),l.array.delete(j),L.keepValue||(nt(r,j),nt(s,j)),!L.keepError&&nt(n.errors,j),!L.keepDirty&&nt(n.dirtyFields,j),!L.keepTouched&&nt(n.touchedFields,j),!L.keepIsValidating&&nt(n.validatingFields,j),!e.shouldUnregister&&!L.keepDefaultValue&&nt(i,j);p.values.next({values:{...s}}),p.state.next({...n,...L.keepDirty?{isDirty:b()}:{}}),!L.keepIsValid&&N()},pn=({disabled:R,name:L,field:j,fields:G,value:K})=>{if(Hn(R)&&o.mount||R){const W=R?void 0:Qe(K)?cf(j?j._f:J(G,L)._f):K;De(s,L,W),z(L,W,!1,!1,!0)}},sa=(R,L={})=>{let j=J(r,R);const G=Hn(L.disabled)||Hn(t.disabled);return De(r,R,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:R}},name:R,mount:!0,...L}}),l.mount.add(R),j?pn({field:j,disabled:Hn(L.disabled)?L.disabled:t.disabled,name:R,value:L.value}):U(R,!0,L.value),{...G?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:ba(L.min),max:ba(L.max),minLength:ba(L.minLength),maxLength:ba(L.maxLength),pattern:ba(L.pattern)}:{},name:R,onChange:Q,onBlur:Q,ref:K=>{if(K){sa(R,L),j=J(r,R);const W=Qe(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ee=P4(W),ce=j._f.refs||[];if(ee?ce.find(me=>me===W):W===j._f.ref)return;De(r,R,{_f:{...j._f,...ee?{refs:[...ce.filter(uf),W,...Array.isArray(J(i,R))?[{}]:[]],ref:{type:W.type,name:R}}:{ref:W}}}),U(R,!1,void 0,W)}else j=J(r,R,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(w4(l.array,R)&&o.action)&&l.unMount.add(R)}}},iu=()=>e.shouldFocusError&&rl(r,ne,l.mount),Vs=R=>{Hn(R)&&(p.state.next({disabled:R}),rl(r,(L,j)=>{const G=J(r,j);G&&(L.disabled=G._f.disabled||R,Array.isArray(G._f.refs)&&G._f.refs.forEach(K=>{K.disabled=G._f.disabled||R}))},0,!1))},Fi=(R,L)=>async j=>{let G;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let K=gn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ee}=await v();n.errors=W,K=ee}else await A(r);if(nt(n.errors,"root"),qt(n.errors)){p.state.next({errors:{}});try{await R(K,j)}catch(W){G=W}}else L&&await L({...n.errors},j),iu(),setTimeout(iu);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qt(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},oa=(R,L={})=>{J(r,R)&&(Qe(L.defaultValue)?ze(R,gn(J(i,R))):(ze(R,L.defaultValue),De(i,R,gn(L.defaultValue))),L.keepTouched||nt(n.touchedFields,R),L.keepDirty||(nt(n.dirtyFields,R),n.isDirty=L.defaultValue?b(R,gn(J(i,R))):b()),L.keepError||(nt(n.errors,R),d.isValid&&N()),p.state.next({...n}))},Ls=(R,L={})=>{const j=R?gn(R):i,G=gn(j),K=qt(R),W=K?i:G;if(L.keepDefaultValues||(i=j),!L.keepValues){if(L.keepDirtyValues){const ee=new Set([...l.mount,...Object.keys(Pa(i,s))]);for(const ce of Array.from(ee))J(n.dirtyFields,ce)?De(W,ce,J(s,ce)):ze(ce,J(W,ce))}else{if(Bg&&Qe(R))for(const ee of l.mount){const ce=J(r,ee);if(ce&&ce._f){const me=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(hh(me)){const ve=me.closest("form");if(ve){ve.reset();break}}}}r={}}s=t.shouldUnregister?L.keepDefaultValues?gn(i):{}:gn(W),p.array.next({values:{...W}}),p.values.next({values:{...W}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:K?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!ei(R,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:L.keepDirtyValues?L.keepDefaultValues&&s?Pa(i,s):n.dirtyFields:L.keepDefaultValues&&R?Pa(i,R):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ms=(R,L)=>Ls(Ar(R)?R(s):R,L);return{control:{register:sa,unregister:Jt,getFieldState:Se,handleSubmit:Fi,setError:fn,_executeSchema:v,_getWatch:I,_getDirty:b,_updateValid:N,_removeUnmounted:D,_updateFieldArray:_,_updateDisabledField:pn,_getFieldArray:Ee,_reset:Ls,_resetDefaultValues:()=>Ar(e.defaultValues)&&e.defaultValues().then(R=>{Ms(R,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:R=>{n={...n,...R}},_disableForm:Vs,_subjects:p,_proxyFormState:d,_setErrors:V,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(R){o=R},get _defaultValues(){return i},get _names(){return l},set _names(R){l=R},get _formState(){return n},set _formState(R){n=R},get _options(){return e},set _options(R){e={...e,...R}}},trigger:oe,register:sa,handleSubmit:Fi,watch:xn,setValue:ze,getValues:Re,reset:Ms,resetField:oa,clearErrors:Me,unregister:Jt,setError:fn,setFocus:(R,L={})=>{const j=J(r,R),G=j&&j._f;if(G){const K=G.refs?G.refs[0]:G.ref;K.focus&&(K.focus(),L.shouldSelect&&K.select())}},getFieldState:Se}}function HS(t={}){const e=Ke.useRef(),n=Ke.useRef(),[r,i]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:Ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ar(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...M4(t),formState:r});const s=e.current.control;return s._options=t,S4({subject:s._subjects.state,next:o=>{I4(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Ke.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ke.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ke.useEffect(()=>{t.values&&!ei(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Ke.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ke.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ke.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),Ke.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=T4(r,s),e.current}function KS({className:t}){const[e,n]=F.useState(!1);return F.useEffect(()=>{const r=new MutationObserver(()=>{n(document.documentElement.classList.contains("dark"))});return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>r.disconnect()},[]),g.jsx("div",{className:`flex items-center justify-center ${t}`,children:g.jsx("img",{src:e?"logoDark.svg":"logoLight.svg",alt:"Logo"})})}async function F4(t,e){try{return{success:!0,message:"Login successful!",user:(await OV(un,t,e)).user}}catch(n){console.error("Error during login:",n.message);let r;switch(n.code){case"auth/user-not-found":r="No user found with this email.";break;case"auth/wrong-password":r="Incorrect password. Please try again.";break;case"auth/invalid-email":r="Invalid email format. Please enter a valid email.";break;case"auth/invalid-credential":r="Invalid email or password.";break;default:r="Failed to log in. Please try again later."}throw new Error(r)}}function j4(){const{mutate:t,isPending:e,error:n}=Fr({mutationFn:({email:r,password:i})=>F4(r,i)});return{login:t,isLogging:e,error:n}}function U4(){const{login:t,isLogging:e,error:n}=j4(),[r,i]=F.useState(""),s=bh(),{register:o,handleSubmit:l,formState:{errors:u}}=HS();function c(d){t({email:d.email,password:d.password},{onSuccess:p=>{i(p.message),s("/")}})}return g.jsxs("div",{className:"w-[21rem] sm:w-[30rem] z-50 bg-white dark:bg-black3 rounded-md fixed top-20 sm:top-28 left-1/2 -translate-x-1/2 p-6 sm:p-8 flex flex-col items-center justify-center sm:grid sm:grid-cols-[1fr_2fr] gap-4 sm:gap-12 drop-shadow-xl",children:[g.jsx("div",{className:"flex items-center justify-center",children:g.jsx(KS,{})}),g.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[g.jsx(ht,{className:"text-primary text-center w-full",children:"Login"}),g.jsxs("form",{onSubmit:l(c),className:"flex flex-col items-center justify-center gap-4 w-full",children:[g.jsx("input",{className:"w-full h-[2.5rem] rounded-md border bg-transparent border-gray2 px-4 py-2 text-[0.8125rem] font-medium dark:text-white outline-none",placeholder:"Enter your Email","aria-invalid":!!u.email,...o("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}})}),u.email&&g.jsx("p",{className:"text-red1 px-2 text-start w-full text-sm",children:u.email.message}),g.jsx("input",{className:"w-full h-[2.5rem] rounded-md border bg-transparent border-gray2 px-4 py-2 text-[0.8125rem] font-medium dark:text-white outline-none",placeholder:"Enter your Password",type:"password","aria-invalid":!!u.password,...o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),u.password&&g.jsx("p",{className:"text-red1 px-2 w-full text-start text-sm",children:u.password.message}),g.jsx(Je,{type:"submit",disabled:e,className:"w-full",children:e?g.jsx(dn,{}):"Login"}),n&&g.jsx("p",{className:"text-red1 px-2 text-center w-full text-sm",children:n.message}),r&&g.jsx("p",{className:"text-green-500 px-2 text-center w-full text-sm",children:r}),g.jsxs("p",{className:"text-gray1 font-medium text-sm gap-1 flex items-center justify-center ",children:["New user?",g.jsx(Je,{shape:"textOnlyP",onClick:()=>s("/signUp"),className:"font-medium text-sm",children:"Create account"})]})]})]})]})}function B4(){return g.jsx(U4,{})}async function z4(t,e){try{const r=(await DV(un,t,e)).user;return await pD(cr(hr,"users",r.uid),{uid:r.uid,name:r.displayName||"Anonymous",email:r.email,boards:[]}),{success:!0,message:"User signed up successfully!",user:r}}catch(n){console.error("Error during sign up:",n.message);let r;switch(n.code){case"auth/email-already-in-use":r="Email already in use. Please try another email.";break;case"auth/invalid-email":r="Invalid email format. Please enter a valid email.";break;case"auth/weak-password":r="Password is too weak. Please use a stronger password.";break;default:r="Failed to sign up. Please try again later."}throw new Error(r)}}function $4(){const{mutate:t,isPending:e,error:n}=Fr({mutationFn:({email:r,password:i})=>z4(r,i),onSuccess:r=>console.log(r)});return{signUp:t,isSigningUp:e,error:n}}function q4(){const{signUp:t,isSigningUp:e,error:n}=$4(),[r,i]=F.useState(""),s=bh(),{register:o,handleSubmit:l,formState:{errors:u}}=HS();function c(d){t({email:d.email,password:d.password},{onSuccess:p=>{i(p.message),s("/")}})}return g.jsxs("div",{className:"w-[21rem] sm:w-[30rem] z-50 bg-white dark:bg-black3 rounded-md fixed top-20 sm:top-28 left-1/2 -translate-x-1/2 p-6 sm:p-8 flex flex-col items-center justify-center sm:grid sm:grid-cols-[1fr_2fr] gap-4 sm:gap-12 drop-shadow-xl",children:[g.jsx("div",{className:"flex items-center justify-center",children:g.jsx(KS,{})}),g.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[g.jsx(ht,{className:"text-primary text-center w-full",children:"Sign Up"}),g.jsxs("form",{onSubmit:l(c),className:"flex flex-col items-center justify-center gap-4 w-full",children:[g.jsx("input",{className:"w-full h-[2.5rem] rounded-md border bg-transparent border-gray2 px-4 py-2 text-[0.8125rem] font-medium dark:text-white outline-none",placeholder:"Enter your Email","aria-invalid":!!u.email,...o("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}})}),u.email&&g.jsx("p",{className:"text-red1 px-2 text-start w-full text-sm",children:u.email.message}),g.jsx("input",{className:"w-full h-[2.5rem] rounded-md border bg-transparent border-gray2 px-4 py-2 text-[0.8125rem] font-medium dark:text-white outline-none",placeholder:"Enter your Password",type:"password","aria-invalid":!!u.password,...o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),u.password&&g.jsx("p",{className:"text-red1 px-2 w-full text-start text-sm",children:u.password.message}),g.jsx(Je,{type:"submit",disabled:e,className:"w-full",children:e?g.jsx(dn,{}):"Sign Up"}),n&&g.jsx("p",{className:"text-red1 px-2 text-center w-full text-sm",children:n.message}),r&&g.jsx("p",{className:"text-green-500 px-2 text-center w-full text-sm",children:r}),g.jsxs("p",{className:"text-gray1 font-medium text-sm gap-1 flex items-center justify-center ",children:["Already have an account?",g.jsx(Je,{shape:"textOnlyP",onClick:()=>s("/login"),className:"font-medium text-sm",children:"Login"})]})]})]})]})}function W4(){return g.jsx(q4,{})}function H4(){return g.jsx(f4,{children:g.jsx(Hk,{children:g.jsx(eM,{children:g.jsx(p4,{children:g.jsx(jk,{children:g.jsxs(Lk,{children:[g.jsx(Hi,{path:"login",element:g.jsx(B4,{})}),g.jsx(Hi,{path:"signup",element:g.jsx(W4,{})}),g.jsx(Hi,{path:"*",element:g.jsx(y4,{})}),g.jsxs(Hi,{element:g.jsx(g4,{}),children:[g.jsx(Hi,{index:!0,element:g.jsx(D0,{})}),g.jsx(Hi,{path:"/",element:g.jsx(D0,{})})]})]})})})})})})}var K4=function(){return null};const Q4=new cR;fT(document.getElementById("root")).render(g.jsx(F.StrictMode,{children:g.jsxs(mR,{client:Q4,children:[g.jsx(H4,{}),g.jsx(K4,{})]})}));
